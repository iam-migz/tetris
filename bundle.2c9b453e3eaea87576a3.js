/*! For license information please see bundle.2c9b453e3eaea87576a3.js.LICENSE.txt */
(()=>{var t={122:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(354),i=n.n(r),s=n(314),o=n.n(s)()(i());o.push([t.id,".WaucoZMS2pVTYzoaA38b {\n\tdisplay: flex;\n\tjustify-content: center;\n\tgap: 1em;\n\tmargin-top: 3em;\n  min-width: 600px;\n}\n\n.seemCqScCL8LQGBtsB0N {\n\ttext-align: center;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n}\n\ncanvas {\n  border: solid 0.2em #fff;\n  background: rgb(18, 18, 18);\n}\n\n.QC2moBAm0COP28vslgDO {\n\theight: 80vh;\n}","",{version:3,sources:["webpack://./src/styles/canvas.module.css"],names:[],mappings:"AAAA;CACC,aAAa;CACb,uBAAuB;CACvB,QAAQ;CACR,eAAe;EACd,gBAAgB;AAClB;;AAEA;CACC,kBAAkB;CAClB,aAAa;CACb,sBAAsB;CACtB,8BAA8B;AAC/B;;AAEA;EACE,wBAAwB;EACxB,2BAA2B;AAC7B;;AAEA;CACC,YAAY;AACb",sourcesContent:[".container {\n\tdisplay: flex;\n\tjustify-content: center;\n\tgap: 1em;\n\tmargin-top: 3em;\n  min-width: 600px;\n}\n\n.side {\n\ttext-align: center;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n}\n\ncanvas {\n  border: solid 0.2em #fff;\n  background: rgb(18, 18, 18);\n}\n\n.tetris {\n\theight: 80vh;\n}"],sourceRoot:""}]),o.locals={container:"WaucoZMS2pVTYzoaA38b",side:"seemCqScCL8LQGBtsB0N",tetris:"QC2moBAm0COP28vslgDO"};const a=o},437:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(354),i=n.n(r),s=n(314),o=n.n(s)()(i());o.push([t.id,".IxhHruHt0rHKiDhXNqM0 {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tmin-width: 240px;\n\tpadding: 1em;\n\tborder-radius: 5px;\n\tcolor: white;\n}\n\n.IxhHruHt0rHKiDhXNqM0 h3 {\n  padding: 4px;\n}\n\n.JemVxfHM46hmO_Jup7AY {\n\tfont-size: 0.8em;\n\tcolor: gray;\n}\n\n.CdY3TmU0lLTQ02slaLJQ {\n  font-size: 0.8em;\n  color: gray;\n}\n\n.aBiiXbnT6FbkDTJ6jnC1 {\n  color: darkgoldenrod;\n}\n\n@media (max-width: 1220px) {\n  .IxhHruHt0rHKiDhXNqM0 {\n    display: none;\n  }\n}\n","",{version:3,sources:["webpack://./src/styles/highscores.module.css"],names:[],mappings:"AAAA;CACC,kBAAkB;CAClB,MAAM;CACN,QAAQ;CACR,gBAAgB;CAChB,YAAY;CACZ,kBAAkB;CAClB,YAAY;AACb;;AAEA;EACE,YAAY;AACd;;AAEA;CACC,gBAAgB;CAChB,WAAW;AACZ;;AAEA;EACE,gBAAgB;EAChB,WAAW;AACb;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE;IACE,aAAa;EACf;AACF",sourcesContent:[".highscores {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tmin-width: 240px;\n\tpadding: 1em;\n\tborder-radius: 5px;\n\tcolor: white;\n}\n\n.highscores h3 {\n  padding: 4px;\n}\n\n.date {\n\tfont-size: 0.8em;\n\tcolor: gray;\n}\n\n.small {\n  font-size: 0.8em;\n  color: gray;\n}\n\n.score {\n  color: darkgoldenrod;\n}\n\n@media (max-width: 1220px) {\n  .highscores {\n    display: none;\n  }\n}\n"],sourceRoot:""}]),o.locals={highscores:"IxhHruHt0rHKiDhXNqM0",date:"JemVxfHM46hmO_Jup7AY",small:"CdY3TmU0lLTQ02slaLJQ",score:"aBiiXbnT6FbkDTJ6jnC1"};const a=o},420:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(354),i=n.n(r),s=n(314),o=n.n(s)()(i());o.push([t.id,"* {\n\tmargin: 0;\n\tpadding: 0;\n}\n\ncanvas {\n\tborder-radius: 5px;\n}\n\nbody {\n  background: linear-gradient(112.1deg, rgb(32, 38, 57) 11.4%, rgb(63, 76, 119) 70.2%);\n\tcolor: #fff;\n\tfont-family: sans-serif;\n  height: 100vh;\n  overflow-y: hidden;\n}\n\nli {\n\tlist-style-type: none;\n}\n\nsvg {\n\twidth: 40px;\n\tfill: gray;\n\tcursor: pointer;\n}","",{version:3,sources:["webpack://./src/styles/index.module.css"],names:[],mappings:"AAAA;CACC,SAAS;CACT,UAAU;AACX;;AAEA;CACC,kBAAkB;AACnB;;AAEA;EACE,oFAAoF;CACrF,WAAW;CACX,uBAAuB;EACtB,aAAa;EACb,kBAAkB;AACpB;;AAEA;CACC,qBAAqB;AACtB;;AAEA;CACC,WAAW;CACX,UAAU;CACV,eAAe;AAChB",sourcesContent:["* {\n\tmargin: 0;\n\tpadding: 0;\n}\n\ncanvas {\n\tborder-radius: 5px;\n}\n\nbody {\n  background: linear-gradient(112.1deg, rgb(32, 38, 57) 11.4%, rgb(63, 76, 119) 70.2%);\n\tcolor: #fff;\n\tfont-family: sans-serif;\n  height: 100vh;\n  overflow-y: hidden;\n}\n\nli {\n\tlist-style-type: none;\n}\n\nsvg {\n\twidth: 40px;\n\tfill: gray;\n\tcursor: pointer;\n}"],sourceRoot:""}]),o.locals={};const a=o},753:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(354),i=n.n(r),s=n(314),o=n.n(s)()(i());o.push([t.id,".gwJyb_U1uZFeYSzMjbcA {\n\ttop: 0;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100vh;\n\ttext-align: center;\n\tbackground-color: rgba(1, 1, 1, 0.5);\n}\n\n.nb1S7GCzl1oDcypQgsb2 {\n\tmargin: 0 auto;\n\twidth: 300px;\n\tbackground-color: black;\n\tmargin-top: 15em;\n\tpadding: 1em;\n\tborder-radius: 5px;\n  box-shadow: 0 -2px 15px rgb(96, 232, 78);\n}\n\n.nb1S7GCzl1oDcypQgsb2 h2 {\n\tmargin: 1em;\n}\n\n.nb1S7GCzl1oDcypQgsb2 button {\n\tfont-weight: bold;\n\tdisplay: none;\n\tmargin: 0 auto;\n\tpadding: 1em;\n\twidth: 80%;\n\tmargin-top: 1em;\n\tcursor: pointer;\n\tborder: 0;\n\tbox-shadow: 2px 2px 2px gray;\n\tborder-radius: 5px;\n\tletter-spacing: 1.5px;\n\ttext-transform: uppercase;\n}\n\n.zJD0k4isJWvOtuIXYNac {\n\tpadding: 1em;\n\twidth: 80%;\n\tmargin-top: 2em;\n\tdisplay: none;\n\tmargin: 0 auto;\n}\n\n.uOR4jTK8IUhUSkir7pzq {\n\tdisplay: none;\n\tmargin: 0.5em 0;\n}","",{version:3,sources:["webpack://./src/styles/menu.module.css"],names:[],mappings:"AAAA;CACC,MAAM;CACN,kBAAkB;CAClB,WAAW;CACX,aAAa;CACb,kBAAkB;CAClB,oCAAoC;AACrC;;AAEA;CACC,cAAc;CACd,YAAY;CACZ,uBAAuB;CACvB,gBAAgB;CAChB,YAAY;CACZ,kBAAkB;EACjB,wCAAwC;AAC1C;;AAEA;CACC,WAAW;AACZ;;AAEA;CACC,iBAAiB;CACjB,aAAa;CACb,cAAc;CACd,YAAY;CACZ,UAAU;CACV,eAAe;CACf,eAAe;CACf,SAAS;CACT,4BAA4B;CAC5B,kBAAkB;CAClB,qBAAqB;CACrB,yBAAyB;AAC1B;;AAEA;CACC,YAAY;CACZ,UAAU;CACV,eAAe;CACf,aAAa;CACb,cAAc;AACf;;AAEA;CACC,aAAa;CACb,eAAe;AAChB",sourcesContent:[".menu {\n\ttop: 0;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100vh;\n\ttext-align: center;\n\tbackground-color: rgba(1, 1, 1, 0.5);\n}\n\n.content {\n\tmargin: 0 auto;\n\twidth: 300px;\n\tbackground-color: black;\n\tmargin-top: 15em;\n\tpadding: 1em;\n\tborder-radius: 5px;\n  box-shadow: 0 -2px 15px rgb(96, 232, 78);\n}\n\n.content h2 {\n\tmargin: 1em;\n}\n\n.content button {\n\tfont-weight: bold;\n\tdisplay: none;\n\tmargin: 0 auto;\n\tpadding: 1em;\n\twidth: 80%;\n\tmargin-top: 1em;\n\tcursor: pointer;\n\tborder: 0;\n\tbox-shadow: 2px 2px 2px gray;\n\tborder-radius: 5px;\n\tletter-spacing: 1.5px;\n\ttext-transform: uppercase;\n}\n\n.name {\n\tpadding: 1em;\n\twidth: 80%;\n\tmargin-top: 2em;\n\tdisplay: none;\n\tmargin: 0 auto;\n}\n\n.message {\n\tdisplay: none;\n\tmargin: 0.5em 0;\n}"],sourceRoot:""}]),o.locals={menu:"gwJyb_U1uZFeYSzMjbcA",content:"nb1S7GCzl1oDcypQgsb2",name:"zJD0k4isJWvOtuIXYNac",message:"uOR4jTK8IUhUSkir7pzq"};const a=o},314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,s){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(o[u]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);r&&o[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},354:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),s="/*# ".concat(i," */");return[e].concat([s]).join("\n")}return[e].join("\n")}},543:function(t,e,n){var r;t=n.nmd(t),function(){var i,s="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",u=32,c=128,l=1/0,h=9007199254740991,f=NaN,d=4294967295,p=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],g="[object Arguments]",m="[object Array]",y="[object Boolean]",w="[object Date]",v="[object Error]",b="[object Function]",A="[object GeneratorFunction]",C="[object Map]",_="[object Number]",E="[object Object]",T="[object Promise]",x="[object RegExp]",S="[object Set]",k="[object String]",I="[object Symbol]",D="[object WeakMap]",N="[object ArrayBuffer]",P="[object DataView]",L="[object Float32Array]",O="[object Float64Array]",M="[object Int8Array]",R="[object Int16Array]",B="[object Int32Array]",V="[object Uint8Array]",F="[object Uint8ClampedArray]",j="[object Uint16Array]",U="[object Uint32Array]",$=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,G=RegExp(H.source),K=RegExp(W.source),Y=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,it=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ot=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ct=/[()=,{}\[\]\/\s]/,lt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,At="\\ud800-\\udfff",Ct="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_t="\\u2700-\\u27bf",Et="a-z\\xdf-\\xf6\\xf8-\\xff",Tt="A-Z\\xc0-\\xd6\\xd8-\\xde",xt="\\ufe0e\\ufe0f",St="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kt="["+At+"]",It="["+St+"]",Dt="["+Ct+"]",Nt="\\d+",Pt="["+_t+"]",Lt="["+Et+"]",Ot="[^"+At+St+Nt+_t+Et+Tt+"]",Mt="\\ud83c[\\udffb-\\udfff]",Rt="[^"+At+"]",Bt="(?:\\ud83c[\\udde6-\\uddff]){2}",Vt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ft="["+Tt+"]",jt="\\u200d",Ut="(?:"+Lt+"|"+Ot+")",$t="(?:"+Ft+"|"+Ot+")",qt="(?:['’](?:d|ll|m|re|s|t|ve))?",zt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ht="(?:"+Dt+"|"+Mt+")?",Wt="["+xt+"]?",Gt=Wt+Ht+"(?:"+jt+"(?:"+[Rt,Bt,Vt].join("|")+")"+Wt+Ht+")*",Kt="(?:"+[Pt,Bt,Vt].join("|")+")"+Gt,Yt="(?:"+[Rt+Dt+"?",Dt,Bt,Vt,kt].join("|")+")",Xt=RegExp("['’]","g"),Qt=RegExp(Dt,"g"),Jt=RegExp(Mt+"(?="+Mt+")|"+Yt+Gt,"g"),Zt=RegExp([Ft+"?"+Lt+"+"+qt+"(?="+[It,Ft,"$"].join("|")+")",$t+"+"+zt+"(?="+[It,Ft+Ut,"$"].join("|")+")",Ft+"?"+Ut+"+"+qt,Ft+"+"+zt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nt,Kt].join("|"),"g"),te=RegExp("["+jt+At+Ct+xt+"]"),ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],re=-1,ie={};ie[L]=ie[O]=ie[M]=ie[R]=ie[B]=ie[V]=ie[F]=ie[j]=ie[U]=!0,ie[g]=ie[m]=ie[N]=ie[y]=ie[P]=ie[w]=ie[v]=ie[b]=ie[C]=ie[_]=ie[E]=ie[x]=ie[S]=ie[k]=ie[D]=!1;var se={};se[g]=se[m]=se[N]=se[P]=se[y]=se[w]=se[L]=se[O]=se[M]=se[R]=se[B]=se[C]=se[_]=se[E]=se[x]=se[S]=se[k]=se[I]=se[V]=se[F]=se[j]=se[U]=!0,se[v]=se[b]=se[D]=!1;var oe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ae=parseFloat,ue=parseInt,ce="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,le="object"==typeof self&&self&&self.Object===Object&&self,he=ce||le||Function("return this")(),fe=e&&!e.nodeType&&e,de=fe&&t&&!t.nodeType&&t,pe=de&&de.exports===fe,ge=pe&&ce.process,me=function(){try{return de&&de.require&&de.require("util").types||ge&&ge.binding&&ge.binding("util")}catch(t){}}(),ye=me&&me.isArrayBuffer,we=me&&me.isDate,ve=me&&me.isMap,be=me&&me.isRegExp,Ae=me&&me.isSet,Ce=me&&me.isTypedArray;function _e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ee(t,e,n,r){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function Te(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function xe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ke(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Ie(t,e){return!(null==t||!t.length)&&Fe(t,e,0)>-1}function De(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Ne(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Pe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Le(t,e,n,r){var i=-1,s=null==t?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Oe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Me(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Re=qe("length");function Be(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Ve(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function Fe(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ve(t,Ue,n)}function je(t,e,n,r){for(var i=n-1,s=t.length;++i<s;)if(r(t[i],e))return i;return-1}function Ue(t){return t!=t}function $e(t,e){var n=null==t?0:t.length;return n?We(t,e)/n:f}function qe(t){return function(e){return null==e?i:e[t]}}function ze(t){return function(e){return null==t?i:t[e]}}function He(t,e,n,r,i){return i(t,(function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)})),n}function We(t,e){for(var n,r=-1,s=t.length;++r<s;){var o=e(t[r]);o!==i&&(n=n===i?o:n+o)}return n}function Ge(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ke(t){return t?t.slice(0,fn(t)+1).replace(rt,""):t}function Ye(t){return function(e){return t(e)}}function Xe(t,e){return Ne(e,(function(e){return t[e]}))}function Qe(t,e){return t.has(e)}function Je(t,e){for(var n=-1,r=t.length;++n<r&&Fe(e,t[n],0)>-1;);return n}function Ze(t,e){for(var n=t.length;n--&&Fe(e,t[n],0)>-1;);return n}var tn=ze({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),en=ze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(t){return"\\"+oe[t]}function rn(t){return te.test(t)}function sn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function on(t,e){return function(n){return t(e(n))}}function an(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n];o!==e&&o!==a||(t[n]=a,s[i++]=n)}return s}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function ln(t){return rn(t)?function(t){for(var e=Jt.lastIndex=0;Jt.test(t);)++e;return e}(t):Re(t)}function hn(t){return rn(t)?function(t){return t.match(Jt)||[]}(t):function(t){return t.split("")}(t)}function fn(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var dn=ze({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function t(e){var n,r=(e=null==e?he:pn.defaults(he.Object(),e,pn.pick(he,ne))).Array,it=e.Date,At=e.Error,Ct=e.Function,_t=e.Math,Et=e.Object,Tt=e.RegExp,xt=e.String,St=e.TypeError,kt=r.prototype,It=Ct.prototype,Dt=Et.prototype,Nt=e["__core-js_shared__"],Pt=It.toString,Lt=Dt.hasOwnProperty,Ot=0,Mt=(n=/[^.]+$/.exec(Nt&&Nt.keys&&Nt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Rt=Dt.toString,Bt=Pt.call(Et),Vt=he._,Ft=Tt("^"+Pt.call(Lt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jt=pe?e.Buffer:i,Ut=e.Symbol,$t=e.Uint8Array,qt=jt?jt.allocUnsafe:i,zt=on(Et.getPrototypeOf,Et),Ht=Et.create,Wt=Dt.propertyIsEnumerable,Gt=kt.splice,Kt=Ut?Ut.isConcatSpreadable:i,Yt=Ut?Ut.iterator:i,Jt=Ut?Ut.toStringTag:i,te=function(){try{var t=us(Et,"defineProperty");return t({},"",{}),t}catch(t){}}(),oe=e.clearTimeout!==he.clearTimeout&&e.clearTimeout,ce=it&&it.now!==he.Date.now&&it.now,le=e.setTimeout!==he.setTimeout&&e.setTimeout,fe=_t.ceil,de=_t.floor,ge=Et.getOwnPropertySymbols,me=jt?jt.isBuffer:i,Re=e.isFinite,ze=kt.join,gn=on(Et.keys,Et),mn=_t.max,yn=_t.min,wn=it.now,vn=e.parseInt,bn=_t.random,An=kt.reverse,Cn=us(e,"DataView"),_n=us(e,"Map"),En=us(e,"Promise"),Tn=us(e,"Set"),xn=us(e,"WeakMap"),Sn=us(Et,"create"),kn=xn&&new xn,In={},Dn=Rs(Cn),Nn=Rs(_n),Pn=Rs(En),Ln=Rs(Tn),On=Rs(xn),Mn=Ut?Ut.prototype:i,Rn=Mn?Mn.valueOf:i,Bn=Mn?Mn.toString:i;function Vn(t){if(ta(t)&&!qo(t)&&!(t instanceof $n)){if(t instanceof Un)return t;if(Lt.call(t,"__wrapped__"))return Bs(t)}return new Un(t)}var Fn=function(){function t(){}return function(e){if(!Zo(e))return{};if(Ht)return Ht(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function jn(){}function Un(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function $n(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Hn;++e<n;)this.add(t[e])}function Gn(t){var e=this.__data__=new zn(t);this.size=e.size}function Kn(t,e){var n=qo(t),r=!n&&$o(t),i=!n&&!r&&Go(t),s=!n&&!r&&!i&&ua(t),o=n||r||i||s,a=o?Ge(t.length,xt):[],u=a.length;for(var c in t)!e&&!Lt.call(t,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||gs(c,u))||a.push(c);return a}function Yn(t){var e=t.length;return e?t[Hr(0,e-1)]:i}function Xn(t,e){return Ns(xi(t),sr(e,0,t.length))}function Qn(t){return Ns(xi(t))}function Jn(t,e,n){(n!==i&&!Fo(t[e],n)||n===i&&!(e in t))&&rr(t,e,n)}function Zn(t,e,n){var r=t[e];Lt.call(t,e)&&Fo(r,n)&&(n!==i||e in t)||rr(t,e,n)}function tr(t,e){for(var n=t.length;n--;)if(Fo(t[n][0],e))return n;return-1}function er(t,e,n,r){return lr(t,(function(t,i,s){e(r,t,n(t),s)})),r}function nr(t,e){return t&&Si(e,Da(e),t)}function rr(t,e,n){"__proto__"==e&&te?te(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ir(t,e){for(var n=-1,s=e.length,o=r(s),a=null==t;++n<s;)o[n]=a?i:Ta(t,e[n]);return o}function sr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function or(t,e,n,r,s,o){var a,u=1&e,c=2&e,l=4&e;if(n&&(a=s?n(t,r,s,o):n(t)),a!==i)return a;if(!Zo(t))return t;var h=qo(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Lt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return xi(t,a)}else{var f=hs(t),d=f==b||f==A;if(Go(t))return bi(t,u);if(f==E||f==g||d&&!s){if(a=c||d?{}:ds(t),!u)return c?function(t,e){return Si(t,ls(t),e)}(t,function(t,e){return t&&Si(e,Na(e),t)}(a,t)):function(t,e){return Si(t,cs(t),e)}(t,nr(a,t))}else{if(!se[f])return s?t:{};a=function(t,e,n){var r,i=t.constructor;switch(e){case N:return Ai(t);case y:case w:return new i(+t);case P:return function(t,e){var n=e?Ai(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case L:case O:case M:case R:case B:case V:case F:case j:case U:return Ci(t,n);case C:return new i;case _:case k:return new i(t);case x:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case S:return new i;case I:return r=t,Rn?Et(Rn.call(r)):{}}}(t,f,u)}}o||(o=new Gn);var p=o.get(t);if(p)return p;o.set(t,a),sa(t)?t.forEach((function(r){a.add(or(r,e,n,r,t,o))})):ea(t)&&t.forEach((function(r,i){a.set(i,or(r,e,n,i,t,o))}));var m=h?i:(l?c?es:ts:c?Na:Da)(t);return Te(m||t,(function(r,i){m&&(r=t[i=r]),Zn(a,i,or(r,e,n,i,t,o))})),a}function ar(t,e,n){var r=n.length;if(null==t)return!r;for(t=Et(t);r--;){var s=n[r],o=e[s],a=t[s];if(a===i&&!(s in t)||!o(a))return!1}return!0}function ur(t,e,n){if("function"!=typeof t)throw new St(s);return Ss((function(){t.apply(i,n)}),e)}function cr(t,e,n,r){var i=-1,s=Ie,o=!0,a=t.length,u=[],c=e.length;if(!a)return u;n&&(e=Ne(e,Ye(n))),r?(s=De,o=!1):e.length>=200&&(s=Qe,o=!1,e=new Wn(e));t:for(;++i<a;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,o&&h==h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(l)}else s(e,h,r)||u.push(l)}return u}Vn.templateSettings={escape:Y,evaluate:X,interpolate:Q,variable:"",imports:{_:Vn}},Vn.prototype=jn.prototype,Vn.prototype.constructor=Vn,Un.prototype=Fn(jn.prototype),Un.prototype.constructor=Un,$n.prototype=Fn(jn.prototype),$n.prototype.constructor=$n,qn.prototype.clear=function(){this.__data__=Sn?Sn(null):{},this.size=0},qn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qn.prototype.get=function(t){var e=this.__data__;if(Sn){var n=e[t];return n===o?i:n}return Lt.call(e,t)?e[t]:i},qn.prototype.has=function(t){var e=this.__data__;return Sn?e[t]!==i:Lt.call(e,t)},qn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Sn&&e===i?o:e,this},zn.prototype.clear=function(){this.__data__=[],this.size=0},zn.prototype.delete=function(t){var e=this.__data__,n=tr(e,t);return!(n<0||(n==e.length-1?e.pop():Gt.call(e,n,1),--this.size,0))},zn.prototype.get=function(t){var e=this.__data__,n=tr(e,t);return n<0?i:e[n][1]},zn.prototype.has=function(t){return tr(this.__data__,t)>-1},zn.prototype.set=function(t,e){var n=this.__data__,r=tr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(_n||zn),string:new qn}},Hn.prototype.delete=function(t){var e=os(this,t).delete(t);return this.size-=e?1:0,e},Hn.prototype.get=function(t){return os(this,t).get(t)},Hn.prototype.has=function(t){return os(this,t).has(t)},Hn.prototype.set=function(t,e){var n=os(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Wn.prototype.add=Wn.prototype.push=function(t){return this.__data__.set(t,o),this},Wn.prototype.has=function(t){return this.__data__.has(t)},Gn.prototype.clear=function(){this.__data__=new zn,this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Gn.prototype.get=function(t){return this.__data__.get(t)},Gn.prototype.has=function(t){return this.__data__.has(t)},Gn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof zn){var r=n.__data__;if(!_n||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(t,e),this.size=n.size,this};var lr=Di(wr),hr=Di(vr,!0);function fr(t,e){var n=!0;return lr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function dr(t,e,n){for(var r=-1,s=t.length;++r<s;){var o=t[r],a=e(o);if(null!=a&&(u===i?a==a&&!aa(a):n(a,u)))var u=a,c=o}return c}function pr(t,e){var n=[];return lr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function gr(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=ps),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?gr(a,e-1,n,r,i):Pe(i,a):r||(i[i.length]=a)}return i}var mr=Ni(),yr=Ni(!0);function wr(t,e){return t&&mr(t,e,Da)}function vr(t,e){return t&&yr(t,e,Da)}function br(t,e){return ke(e,(function(e){return Xo(t[e])}))}function Ar(t,e){for(var n=0,r=(e=mi(e,t)).length;null!=t&&n<r;)t=t[Ms(e[n++])];return n&&n==r?t:i}function Cr(t,e,n){var r=e(t);return qo(t)?r:Pe(r,n(t))}function _r(t){return null==t?t===i?"[object Undefined]":"[object Null]":Jt&&Jt in Et(t)?function(t){var e=Lt.call(t,Jt),n=t[Jt];try{t[Jt]=i;var r=!0}catch(t){}var s=Rt.call(t);return r&&(e?t[Jt]=n:delete t[Jt]),s}(t):function(t){return Rt.call(t)}(t)}function Er(t,e){return t>e}function Tr(t,e){return null!=t&&Lt.call(t,e)}function xr(t,e){return null!=t&&e in Et(t)}function Sr(t,e,n){for(var s=n?De:Ie,o=t[0].length,a=t.length,u=a,c=r(a),l=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Ne(f,Ye(e))),l=yn(f.length,l),c[u]=!n&&(e||o>=120&&f.length>=120)?new Wn(u&&f):i}f=t[0];var d=-1,p=c[0];t:for(;++d<o&&h.length<l;){var g=f[d],m=e?e(g):g;if(g=n||0!==g?g:0,!(p?Qe(p,m):s(h,m,n))){for(u=a;--u;){var y=c[u];if(!(y?Qe(y,m):s(t[u],m,n)))continue t}p&&p.push(m),h.push(g)}}return h}function kr(t,e,n){var r=null==(t=Es(t,e=mi(e,t)))?t:t[Ms(Ks(e))];return null==r?i:_e(r,t,n)}function Ir(t){return ta(t)&&_r(t)==g}function Dr(t,e,n,r,s){return t===e||(null==t||null==e||!ta(t)&&!ta(e)?t!=t&&e!=e:function(t,e,n,r,s,o){var a=qo(t),u=qo(e),c=a?m:hs(t),l=u?m:hs(e),h=(c=c==g?E:c)==E,f=(l=l==g?E:l)==E,d=c==l;if(d&&Go(t)){if(!Go(e))return!1;a=!0,h=!1}if(d&&!h)return o||(o=new Gn),a||ua(t)?Ji(t,e,n,r,s,o):function(t,e,n,r,i,s,o){switch(n){case P:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case N:return!(t.byteLength!=e.byteLength||!s(new $t(t),new $t(e)));case y:case w:case _:return Fo(+t,+e);case v:return t.name==e.name&&t.message==e.message;case x:case k:return t==e+"";case C:var a=sn;case S:var u=1&r;if(a||(a=un),t.size!=e.size&&!u)return!1;var c=o.get(t);if(c)return c==e;r|=2,o.set(t,e);var l=Ji(a(t),a(e),r,i,s,o);return o.delete(t),l;case I:if(Rn)return Rn.call(t)==Rn.call(e)}return!1}(t,e,c,n,r,s,o);if(!(1&n)){var p=h&&Lt.call(t,"__wrapped__"),b=f&&Lt.call(e,"__wrapped__");if(p||b){var A=p?t.value():t,T=b?e.value():e;return o||(o=new Gn),s(A,T,n,r,o)}}return!!d&&(o||(o=new Gn),function(t,e,n,r,s,o){var a=1&n,u=ts(t),c=u.length;if(c!=ts(e).length&&!a)return!1;for(var l=c;l--;){var h=u[l];if(!(a?h in e:Lt.call(e,h)))return!1}var f=o.get(t),d=o.get(e);if(f&&d)return f==e&&d==t;var p=!0;o.set(t,e),o.set(e,t);for(var g=a;++l<c;){var m=t[h=u[l]],y=e[h];if(r)var w=a?r(y,m,h,e,t,o):r(m,y,h,t,e,o);if(!(w===i?m===y||s(m,y,n,r,o):w)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var v=t.constructor,b=e.constructor;v==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,s,o))}(t,e,n,r,Dr,s))}function Nr(t,e,n,r){var s=n.length,o=s,a=!r;if(null==t)return!o;for(t=Et(t);s--;){var u=n[s];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++s<o;){var c=(u=n[s])[0],l=t[c],h=u[1];if(a&&u[2]){if(l===i&&!(c in t))return!1}else{var f=new Gn;if(r)var d=r(l,h,c,t,e,f);if(!(d===i?Dr(h,l,3,r,f):d))return!1}}return!0}function Pr(t){return!(!Zo(t)||(e=t,Mt&&Mt in e))&&(Xo(t)?Ft:gt).test(Rs(t));var e}function Lr(t){return"function"==typeof t?t:null==t?nu:"object"==typeof t?qo(t)?Vr(t[0],t[1]):Br(t):hu(t)}function Or(t){if(!bs(t))return gn(t);var e=[];for(var n in Et(t))Lt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Mr(t,e){return t<e}function Rr(t,e){var n=-1,i=Ho(t)?r(t.length):[];return lr(t,(function(t,r,s){i[++n]=e(t,r,s)})),i}function Br(t){var e=as(t);return 1==e.length&&e[0][2]?Cs(e[0][0],e[0][1]):function(n){return n===t||Nr(n,t,e)}}function Vr(t,e){return ys(t)&&As(e)?Cs(Ms(t),e):function(n){var r=Ta(n,t);return r===i&&r===e?xa(n,t):Dr(e,r,3)}}function Fr(t,e,n,r,s){t!==e&&mr(e,(function(o,a){if(s||(s=new Gn),Zo(o))!function(t,e,n,r,s,o,a){var u=Ts(t,n),c=Ts(e,n),l=a.get(c);if(l)Jn(t,n,l);else{var h=o?o(u,c,n+"",t,e,a):i,f=h===i;if(f){var d=qo(c),p=!d&&Go(c),g=!d&&!p&&ua(c);h=c,d||p||g?qo(u)?h=u:Wo(u)?h=xi(u):p?(f=!1,h=bi(c,!0)):g?(f=!1,h=Ci(c,!0)):h=[]:ra(c)||$o(c)?(h=u,$o(u)?h=ma(u):Zo(u)&&!Xo(u)||(h=ds(c))):f=!1}f&&(a.set(c,h),s(h,c,r,o,a),a.delete(c)),Jn(t,n,h)}}(t,e,a,n,Fr,r,s);else{var u=r?r(Ts(t,a),o,a+"",t,e,s):i;u===i&&(u=o),Jn(t,a,u)}}),Na)}function jr(t,e){var n=t.length;if(n)return gs(e+=e<0?n:0,n)?t[e]:i}function Ur(t,e,n){e=e.length?Ne(e,(function(t){return qo(t)?function(e){return Ar(e,1===t.length?t[0]:t)}:t})):[nu];var r=-1;e=Ne(e,Ye(ss()));var i=Rr(t,(function(t,n,i){var s=Ne(e,(function(e){return e(t)}));return{criteria:s,index:++r,value:t}}));return function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var u=_i(i[r],s[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(i)}function $r(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=Ar(t,o);n(a,o)&&Xr(s,mi(o,t),a)}return s}function qr(t,e,n,r){var i=r?je:Fe,s=-1,o=e.length,a=t;for(t===e&&(e=xi(e)),n&&(a=Ne(t,Ye(n)));++s<o;)for(var u=0,c=e[s],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==t&&Gt.call(a,u,1),Gt.call(t,u,1);return t}function zr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==s){var s=i;gs(i)?Gt.call(t,i,1):ui(t,i)}}return t}function Hr(t,e){return t+de(bn()*(e-t+1))}function Wr(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=de(e/2))&&(t+=t)}while(e);return n}function Gr(t,e){return ks(_s(t,e,nu),t+"")}function Kr(t){return Yn(Fa(t))}function Yr(t,e){var n=Fa(t);return Ns(n,sr(e,0,n.length))}function Xr(t,e,n,r){if(!Zo(t))return t;for(var s=-1,o=(e=mi(e,t)).length,a=o-1,u=t;null!=u&&++s<o;){var c=Ms(e[s]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(s!=a){var h=u[c];(l=r?r(h,c,u):i)===i&&(l=Zo(h)?h:gs(e[s+1])?[]:{})}Zn(u,c,l),u=u[c]}return t}var Qr=kn?function(t,e){return kn.set(t,e),t}:nu,Jr=te?function(t,e){return te(t,"toString",{configurable:!0,enumerable:!1,value:Za(e),writable:!0})}:nu;function Zr(t){return Ns(Fa(t))}function ti(t,e,n){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(n=n>s?s:n)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var o=r(s);++i<s;)o[i]=t[i+e];return o}function ei(t,e){var n;return lr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ni(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=t[s];null!==o&&!aa(o)&&(n?o<=e:o<e)?r=s+1:i=s}return i}return ri(t,e,nu,n)}function ri(t,e,n,r){var s=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,u=null===e,c=aa(e),l=e===i;s<o;){var h=de((s+o)/2),f=n(t[h]),d=f!==i,p=null===f,g=f==f,m=aa(f);if(a)var y=r||g;else y=l?g&&(r||d):u?g&&d&&(r||!p):c?g&&d&&!p&&(r||!m):!p&&!m&&(r?f<=e:f<e);y?s=h+1:o=h}return yn(o,4294967294)}function ii(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n],a=e?e(o):o;if(!n||!Fo(a,u)){var u=a;s[i++]=0===o?0:o}}return s}function si(t){return"number"==typeof t?t:aa(t)?f:+t}function oi(t){if("string"==typeof t)return t;if(qo(t))return Ne(t,oi)+"";if(aa(t))return Bn?Bn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ai(t,e,n){var r=-1,i=Ie,s=t.length,o=!0,a=[],u=a;if(n)o=!1,i=De;else if(s>=200){var c=e?null:Wi(t);if(c)return un(c);o=!1,i=Qe,u=new Wn}else u=e?[]:a;t:for(;++r<s;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,o&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),a.push(l)}else i(u,h,n)||(u!==a&&u.push(h),a.push(l))}return a}function ui(t,e){return null==(t=Es(t,e=mi(e,t)))||delete t[Ms(Ks(e))]}function ci(t,e,n,r){return Xr(t,e,n(Ar(t,e)),r)}function li(t,e,n,r){for(var i=t.length,s=r?i:-1;(r?s--:++s<i)&&e(t[s],s,t););return n?ti(t,r?0:s,r?s+1:i):ti(t,r?s+1:0,r?i:s)}function hi(t,e){var n=t;return n instanceof $n&&(n=n.value()),Le(e,(function(t,e){return e.func.apply(e.thisArg,Pe([t],e.args))}),n)}function fi(t,e,n){var i=t.length;if(i<2)return i?ai(t[0]):[];for(var s=-1,o=r(i);++s<i;)for(var a=t[s],u=-1;++u<i;)u!=s&&(o[s]=cr(o[s]||a,t[u],e,n));return ai(gr(o,1),e,n)}function di(t,e,n){for(var r=-1,s=t.length,o=e.length,a={};++r<s;){var u=r<o?e[r]:i;n(a,t[r],u)}return a}function pi(t){return Wo(t)?t:[]}function gi(t){return"function"==typeof t?t:nu}function mi(t,e){return qo(t)?t:ys(t,e)?[t]:Os(ya(t))}var yi=Gr;function wi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ti(t,e,n)}var vi=oe||function(t){return he.clearTimeout(t)};function bi(t,e){if(e)return t.slice();var n=t.length,r=qt?qt(n):new t.constructor(n);return t.copy(r),r}function Ai(t){var e=new t.constructor(t.byteLength);return new $t(e).set(new $t(t)),e}function Ci(t,e){var n=e?Ai(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function _i(t,e){if(t!==e){var n=t!==i,r=null===t,s=t==t,o=aa(t),a=e!==i,u=null===e,c=e==e,l=aa(e);if(!u&&!l&&!o&&t>e||o&&a&&c&&!u&&!l||r&&a&&c||!n&&c||!s)return 1;if(!r&&!o&&!l&&t<e||l&&n&&s&&!r&&!o||u&&n&&s||!a&&s||!c)return-1}return 0}function Ei(t,e,n,i){for(var s=-1,o=t.length,a=n.length,u=-1,c=e.length,l=mn(o-a,0),h=r(c+l),f=!i;++u<c;)h[u]=e[u];for(;++s<a;)(f||s<o)&&(h[n[s]]=t[s]);for(;l--;)h[u++]=t[s++];return h}function Ti(t,e,n,i){for(var s=-1,o=t.length,a=-1,u=n.length,c=-1,l=e.length,h=mn(o-u,0),f=r(h+l),d=!i;++s<h;)f[s]=t[s];for(var p=s;++c<l;)f[p+c]=e[c];for(;++a<u;)(d||s<o)&&(f[p+n[a]]=t[s++]);return f}function xi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Si(t,e,n,r){var s=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],c=r?r(n[u],t[u],u,n,t):i;c===i&&(c=t[u]),s?rr(n,u,c):Zn(n,u,c)}return n}function ki(t,e){return function(n,r){var i=qo(n)?Ee:er,s=e?e():{};return i(n,t,ss(r,2),s)}}function Ii(t){return Gr((function(e,n){var r=-1,s=n.length,o=s>1?n[s-1]:i,a=s>2?n[2]:i;for(o=t.length>3&&"function"==typeof o?(s--,o):i,a&&ms(n[0],n[1],a)&&(o=s<3?i:o,s=1),e=Et(e);++r<s;){var u=n[r];u&&t(e,u,r,o)}return e}))}function Di(t,e){return function(n,r){if(null==n)return n;if(!Ho(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Et(n);(e?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Ni(t){return function(e,n,r){for(var i=-1,s=Et(e),o=r(e),a=o.length;a--;){var u=o[t?a:++i];if(!1===n(s[u],u,s))break}return e}}function Pi(t){return function(e){var n=rn(e=ya(e))?hn(e):i,r=n?n[0]:e.charAt(0),s=n?wi(n,1).join(""):e.slice(1);return r[t]()+s}}function Li(t){return function(e){return Le(Xa($a(e).replace(Xt,"")),t,"")}}function Oi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Fn(t.prototype),r=t.apply(n,e);return Zo(r)?r:n}}function Mi(t){return function(e,n,r){var s=Et(e);if(!Ho(e)){var o=ss(n,3);e=Da(e),n=function(t){return o(s[t],t,s)}}var a=t(e,n,r);return a>-1?s[o?e[a]:a]:i}}function Ri(t){return Zi((function(e){var n=e.length,r=n,o=Un.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new St(s);if(o&&!u&&"wrapper"==rs(a))var u=new Un([],!0)}for(r=u?r:n;++r<n;){var c=rs(a=e[r]),l="wrapper"==c?ns(a):i;u=l&&ws(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[rs(l[0])].apply(u,l[3]):1==a.length&&ws(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&qo(r))return u.plant(r).value();for(var i=0,s=n?e[i].apply(this,t):r;++i<n;)s=e[i].call(this,s);return s}}))}function Bi(t,e,n,s,o,a,u,l,h,f){var d=e&c,p=1&e,g=2&e,m=24&e,y=512&e,w=g?i:Oi(t);return function c(){for(var v=arguments.length,b=r(v),A=v;A--;)b[A]=arguments[A];if(m)var C=is(c),_=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(b,C);if(s&&(b=Ei(b,s,o,m)),a&&(b=Ti(b,a,u,m)),v-=_,m&&v<f){var E=an(b,C);return zi(t,e,Bi,c.placeholder,n,b,E,l,h,f-v)}var T=p?n:this,x=g?T[t]:t;return v=b.length,l?b=function(t,e){for(var n=t.length,r=yn(e.length,n),s=xi(t);r--;){var o=e[r];t[r]=gs(o,n)?s[o]:i}return t}(b,l):y&&v>1&&b.reverse(),d&&h<v&&(b.length=h),this&&this!==he&&this instanceof c&&(x=w||Oi(x)),x.apply(T,b)}}function Vi(t,e){return function(n,r){return function(t,e,n,r){return wr(t,(function(t,i,s){e(r,n(t),i,s)})),r}(n,t,e(r),{})}}function Fi(t,e){return function(n,r){var s;if(n===i&&r===i)return e;if(n!==i&&(s=n),r!==i){if(s===i)return r;"string"==typeof n||"string"==typeof r?(n=oi(n),r=oi(r)):(n=si(n),r=si(r)),s=t(n,r)}return s}}function ji(t){return Zi((function(e){return e=Ne(e,Ye(ss())),Gr((function(n){var r=this;return t(e,(function(t){return _e(t,r,n)}))}))}))}function Ui(t,e){var n=(e=e===i?" ":oi(e)).length;if(n<2)return n?Wr(e,t):e;var r=Wr(e,fe(t/ln(e)));return rn(e)?wi(hn(r),0,t).join(""):r.slice(0,t)}function $i(t){return function(e,n,s){return s&&"number"!=typeof s&&ms(e,n,s)&&(n=s=i),e=fa(e),n===i?(n=e,e=0):n=fa(n),function(t,e,n,i){for(var s=-1,o=mn(fe((e-t)/(n||1)),0),a=r(o);o--;)a[i?o:++s]=t,t+=n;return a}(e,n,s=s===i?e<n?1:-1:fa(s),t)}}function qi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ga(e),n=ga(n)),t(e,n)}}function zi(t,e,n,r,s,o,a,c,l,h){var f=8&e;e|=f?u:64,4&(e&=~(f?64:u))||(e&=-4);var d=[t,e,s,f?o:i,f?a:i,f?i:o,f?i:a,c,l,h],p=n.apply(i,d);return ws(t)&&xs(p,d),p.placeholder=r,Is(p,t,e)}function Hi(t){var e=_t[t];return function(t,n){if(t=ga(t),(n=null==n?0:yn(da(n),292))&&Re(t)){var r=(ya(t)+"e").split("e");return+((r=(ya(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Wi=Tn&&1/un(new Tn([,-0]))[1]==l?function(t){return new Tn(t)}:au;function Gi(t){return function(e){var n=hs(e);return n==C?sn(e):n==S?cn(e):function(t,e){return Ne(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ki(t,e,n,o,l,h,f,d){var p=2&e;if(!p&&"function"!=typeof t)throw new St(s);var g=o?o.length:0;if(g||(e&=-97,o=l=i),f=f===i?f:mn(da(f),0),d=d===i?d:da(d),g-=l?l.length:0,64&e){var m=o,y=l;o=l=i}var w=p?i:ns(t),v=[t,e,n,o,l,m,y,h,f,d];if(w&&function(t,e){var n=t[1],r=e[1],i=n|r,s=i<131,o=r==c&&8==n||r==c&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!s&&!o)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?Ei(l,u,e[4]):u,t[4]=l?an(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?Ti(l,u,e[6]):u,t[6]=l?an(t[5],a):e[6]),(u=e[7])&&(t[7]=u),r&c&&(t[8]=null==t[8]?e[8]:yn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(v,w),t=v[0],e=v[1],n=v[2],o=v[3],l=v[4],!(d=v[9]=v[9]===i?p?0:t.length:mn(v[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,n){var s=Oi(t);return function o(){for(var a=arguments.length,u=r(a),c=a,l=is(o);c--;)u[c]=arguments[c];var h=a<3&&u[0]!==l&&u[a-1]!==l?[]:an(u,l);return(a-=h.length)<n?zi(t,e,Bi,o.placeholder,i,u,h,i,i,n-a):_e(this&&this!==he&&this instanceof o?s:t,this,u)}}(t,e,d):e!=u&&33!=e||l.length?Bi.apply(i,v):function(t,e,n,i){var s=1&e,o=Oi(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=i.length,h=r(l+u),f=this&&this!==he&&this instanceof e?o:t;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++a];return _e(f,s?n:this,h)}}(t,e,n,o);else var b=function(t,e,n){var r=1&e,i=Oi(t);return function e(){return(this&&this!==he&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Is((w?Qr:xs)(b,v),t,e)}function Yi(t,e,n,r){return t===i||Fo(t,Dt[n])&&!Lt.call(r,n)?e:t}function Xi(t,e,n,r,s,o){return Zo(t)&&Zo(e)&&(o.set(e,t),Fr(t,e,i,Xi,o),o.delete(e)),t}function Qi(t){return ra(t)?i:t}function Ji(t,e,n,r,s,o){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=o.get(t),h=o.get(e);if(l&&h)return l==e&&h==t;var f=-1,d=!0,p=2&n?new Wn:i;for(o.set(t,e),o.set(e,t);++f<u;){var g=t[f],m=e[f];if(r)var y=a?r(m,g,f,e,t,o):r(g,m,f,t,e,o);if(y!==i){if(y)continue;d=!1;break}if(p){if(!Me(e,(function(t,e){if(!Qe(p,e)&&(g===t||s(g,t,n,r,o)))return p.push(e)}))){d=!1;break}}else if(g!==m&&!s(g,m,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function Zi(t){return ks(_s(t,i,qs),t+"")}function ts(t){return Cr(t,Da,cs)}function es(t){return Cr(t,Na,ls)}var ns=kn?function(t){return kn.get(t)}:au;function rs(t){for(var e=t.name+"",n=In[e],r=Lt.call(In,e)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==t)return i.name}return e}function is(t){return(Lt.call(Vn,"placeholder")?Vn:t).placeholder}function ss(){var t=Vn.iteratee||ru;return t=t===ru?Lr:t,arguments.length?t(arguments[0],arguments[1]):t}function os(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function as(t){for(var e=Da(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,As(i)]}return e}function us(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Pr(n)?n:i}var cs=ge?function(t){return null==t?[]:(t=Et(t),ke(ge(t),(function(e){return Wt.call(t,e)})))}:pu,ls=ge?function(t){for(var e=[];t;)Pe(e,cs(t)),t=zt(t);return e}:pu,hs=_r;function fs(t,e,n){for(var r=-1,i=(e=mi(e,t)).length,s=!1;++r<i;){var o=Ms(e[r]);if(!(s=null!=t&&n(t,o)))break;t=t[o]}return s||++r!=i?s:!!(i=null==t?0:t.length)&&Jo(i)&&gs(o,i)&&(qo(t)||$o(t))}function ds(t){return"function"!=typeof t.constructor||bs(t)?{}:Fn(zt(t))}function ps(t){return qo(t)||$o(t)||!!(Kt&&t&&t[Kt])}function gs(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&yt.test(t))&&t>-1&&t%1==0&&t<e}function ms(t,e,n){if(!Zo(n))return!1;var r=typeof e;return!!("number"==r?Ho(n)&&gs(e,n.length):"string"==r&&e in n)&&Fo(n[e],t)}function ys(t,e){if(qo(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!aa(t))||Z.test(t)||!J.test(t)||null!=e&&t in Et(e)}function ws(t){var e=rs(t),n=Vn[e];if("function"!=typeof n||!(e in $n.prototype))return!1;if(t===n)return!0;var r=ns(n);return!!r&&t===r[0]}(Cn&&hs(new Cn(new ArrayBuffer(1)))!=P||_n&&hs(new _n)!=C||En&&hs(En.resolve())!=T||Tn&&hs(new Tn)!=S||xn&&hs(new xn)!=D)&&(hs=function(t){var e=_r(t),n=e==E?t.constructor:i,r=n?Rs(n):"";if(r)switch(r){case Dn:return P;case Nn:return C;case Pn:return T;case Ln:return S;case On:return D}return e});var vs=Nt?Xo:gu;function bs(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Dt)}function As(t){return t==t&&!Zo(t)}function Cs(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in Et(n))}}function _s(t,e,n){return e=mn(e===i?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=mn(i.length-e,0),a=r(o);++s<o;)a[s]=i[e+s];s=-1;for(var u=r(e+1);++s<e;)u[s]=i[s];return u[e]=n(a),_e(t,this,u)}}function Es(t,e){return e.length<2?t:Ar(t,ti(e,0,-1))}function Ts(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var xs=Ds(Qr),Ss=le||function(t,e){return he.setTimeout(t,e)},ks=Ds(Jr);function Is(t,e,n){var r=e+"";return ks(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(st,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Te(p,(function(n){var r="_."+n[0];e&n[1]&&!Ie(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ot);return e?e[1].split(at):[]}(r),n)))}function Ds(t){var e=0,n=0;return function(){var r=wn(),s=16-(r-n);if(n=r,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ns(t,e){var n=-1,r=t.length,s=r-1;for(e=e===i?r:e;++n<e;){var o=Hr(n,s),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Ps,Ls,Os=(Ps=Lo((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,i){e.push(r?i.replace(lt,"$1"):n||t)})),e}),(function(t){return 500===Ls.size&&Ls.clear(),t})),Ls=Ps.cache,Ps);function Ms(t){if("string"==typeof t||aa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Rs(t){if(null!=t){try{return Pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Bs(t){if(t instanceof $n)return t.clone();var e=new Un(t.__wrapped__,t.__chain__);return e.__actions__=xi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Vs=Gr((function(t,e){return Wo(t)?cr(t,gr(e,1,Wo,!0)):[]})),Fs=Gr((function(t,e){var n=Ks(e);return Wo(n)&&(n=i),Wo(t)?cr(t,gr(e,1,Wo,!0),ss(n,2)):[]})),js=Gr((function(t,e){var n=Ks(e);return Wo(n)&&(n=i),Wo(t)?cr(t,gr(e,1,Wo,!0),i,n):[]}));function Us(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:da(n);return i<0&&(i=mn(r+i,0)),Ve(t,ss(e,3),i)}function $s(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r-1;return n!==i&&(s=da(n),s=n<0?mn(r+s,0):yn(s,r-1)),Ve(t,ss(e,3),s,!0)}function qs(t){return null!=t&&t.length?gr(t,1):[]}function zs(t){return t&&t.length?t[0]:i}var Hs=Gr((function(t){var e=Ne(t,pi);return e.length&&e[0]===t[0]?Sr(e):[]})),Ws=Gr((function(t){var e=Ks(t),n=Ne(t,pi);return e===Ks(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Sr(n,ss(e,2)):[]})),Gs=Gr((function(t){var e=Ks(t),n=Ne(t,pi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Sr(n,i,e):[]}));function Ks(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Ys=Gr(Xs);function Xs(t,e){return t&&t.length&&e&&e.length?qr(t,e):t}var Qs=Zi((function(t,e){var n=null==t?0:t.length,r=ir(t,e);return zr(t,Ne(e,(function(t){return gs(t,n)?+t:t})).sort(_i)),r}));function Js(t){return null==t?t:An.call(t)}var Zs=Gr((function(t){return ai(gr(t,1,Wo,!0))})),to=Gr((function(t){var e=Ks(t);return Wo(e)&&(e=i),ai(gr(t,1,Wo,!0),ss(e,2))})),eo=Gr((function(t){var e=Ks(t);return e="function"==typeof e?e:i,ai(gr(t,1,Wo,!0),i,e)}));function no(t){if(!t||!t.length)return[];var e=0;return t=ke(t,(function(t){if(Wo(t))return e=mn(t.length,e),!0})),Ge(e,(function(e){return Ne(t,qe(e))}))}function ro(t,e){if(!t||!t.length)return[];var n=no(t);return null==e?n:Ne(n,(function(t){return _e(e,i,t)}))}var io=Gr((function(t,e){return Wo(t)?cr(t,e):[]})),so=Gr((function(t){return fi(ke(t,Wo))})),oo=Gr((function(t){var e=Ks(t);return Wo(e)&&(e=i),fi(ke(t,Wo),ss(e,2))})),ao=Gr((function(t){var e=Ks(t);return e="function"==typeof e?e:i,fi(ke(t,Wo),i,e)})),uo=Gr(no),co=Gr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,ro(t,n)}));function lo(t){var e=Vn(t);return e.__chain__=!0,e}function ho(t,e){return e(t)}var fo=Zi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,s=function(e){return ir(e,t)};return!(e>1||this.__actions__.length)&&r instanceof $n&&gs(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ho,args:[s],thisArg:i}),new Un(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(s)})),po=ki((function(t,e,n){Lt.call(t,n)?++t[n]:rr(t,n,1)})),go=Mi(Us),mo=Mi($s);function yo(t,e){return(qo(t)?Te:lr)(t,ss(e,3))}function wo(t,e){return(qo(t)?xe:hr)(t,ss(e,3))}var vo=ki((function(t,e,n){Lt.call(t,n)?t[n].push(e):rr(t,n,[e])})),bo=Gr((function(t,e,n){var i=-1,s="function"==typeof e,o=Ho(t)?r(t.length):[];return lr(t,(function(t){o[++i]=s?_e(e,t,n):kr(t,e,n)})),o})),Ao=ki((function(t,e,n){rr(t,n,e)}));function Co(t,e){return(qo(t)?Ne:Rr)(t,ss(e,3))}var _o=ki((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Eo=Gr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ms(t,e[0],e[1])?e=[]:n>2&&ms(e[0],e[1],e[2])&&(e=[e[0]]),Ur(t,gr(e,1),[])})),To=ce||function(){return he.Date.now()};function xo(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Ki(t,c,i,i,i,i,e)}function So(t,e){var n;if("function"!=typeof e)throw new St(s);return t=da(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var ko=Gr((function(t,e,n){var r=1;if(n.length){var i=an(n,is(ko));r|=u}return Ki(t,r,e,n,i)})),Io=Gr((function(t,e,n){var r=3;if(n.length){var i=an(n,is(Io));r|=u}return Ki(e,r,t,n,i)}));function Do(t,e,n){var r,o,a,u,c,l,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new St(s);function g(e){var n=r,s=o;return r=o=i,h=e,u=t.apply(s,n)}function m(t){var n=t-l;return l===i||n>=e||n<0||d&&t-h>=a}function y(){var t=To();if(m(t))return w(t);c=Ss(y,function(t){var n=e-(t-l);return d?yn(n,a-(t-h)):n}(t))}function w(t){return c=i,p&&r?g(t):(r=o=i,u)}function v(){var t=To(),n=m(t);if(r=arguments,o=this,l=t,n){if(c===i)return function(t){return h=t,c=Ss(y,e),f?g(t):u}(l);if(d)return vi(c),c=Ss(y,e),g(l)}return c===i&&(c=Ss(y,e)),u}return e=ga(e)||0,Zo(n)&&(f=!!n.leading,a=(d="maxWait"in n)?mn(ga(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),v.cancel=function(){c!==i&&vi(c),h=0,r=l=o=c=i},v.flush=function(){return c===i?u:w(To())},v}var No=Gr((function(t,e){return ur(t,1,e)})),Po=Gr((function(t,e,n){return ur(t,ga(e)||0,n)}));function Lo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new St(s);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Lo.Cache||Hn),n}function Oo(t){if("function"!=typeof t)throw new St(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Lo.Cache=Hn;var Mo=yi((function(t,e){var n=(e=1==e.length&&qo(e[0])?Ne(e[0],Ye(ss())):Ne(gr(e,1),Ye(ss()))).length;return Gr((function(r){for(var i=-1,s=yn(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);return _e(t,this,r)}))})),Ro=Gr((function(t,e){var n=an(e,is(Ro));return Ki(t,u,i,e,n)})),Bo=Gr((function(t,e){var n=an(e,is(Bo));return Ki(t,64,i,e,n)})),Vo=Zi((function(t,e){return Ki(t,256,i,i,i,e)}));function Fo(t,e){return t===e||t!=t&&e!=e}var jo=qi(Er),Uo=qi((function(t,e){return t>=e})),$o=Ir(function(){return arguments}())?Ir:function(t){return ta(t)&&Lt.call(t,"callee")&&!Wt.call(t,"callee")},qo=r.isArray,zo=ye?Ye(ye):function(t){return ta(t)&&_r(t)==N};function Ho(t){return null!=t&&Jo(t.length)&&!Xo(t)}function Wo(t){return ta(t)&&Ho(t)}var Go=me||gu,Ko=we?Ye(we):function(t){return ta(t)&&_r(t)==w};function Yo(t){if(!ta(t))return!1;var e=_r(t);return e==v||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ra(t)}function Xo(t){if(!Zo(t))return!1;var e=_r(t);return e==b||e==A||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qo(t){return"number"==typeof t&&t==da(t)}function Jo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function Zo(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ta(t){return null!=t&&"object"==typeof t}var ea=ve?Ye(ve):function(t){return ta(t)&&hs(t)==C};function na(t){return"number"==typeof t||ta(t)&&_r(t)==_}function ra(t){if(!ta(t)||_r(t)!=E)return!1;var e=zt(t);if(null===e)return!0;var n=Lt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Pt.call(n)==Bt}var ia=be?Ye(be):function(t){return ta(t)&&_r(t)==x},sa=Ae?Ye(Ae):function(t){return ta(t)&&hs(t)==S};function oa(t){return"string"==typeof t||!qo(t)&&ta(t)&&_r(t)==k}function aa(t){return"symbol"==typeof t||ta(t)&&_r(t)==I}var ua=Ce?Ye(Ce):function(t){return ta(t)&&Jo(t.length)&&!!ie[_r(t)]},ca=qi(Mr),la=qi((function(t,e){return t<=e}));function ha(t){if(!t)return[];if(Ho(t))return oa(t)?hn(t):xi(t);if(Yt&&t[Yt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Yt]());var e=hs(t);return(e==C?sn:e==S?un:Fa)(t)}function fa(t){return t?(t=ga(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function da(t){var e=fa(t),n=e%1;return e==e?n?e-n:e:0}function pa(t){return t?sr(da(t),0,d):0}function ga(t){if("number"==typeof t)return t;if(aa(t))return f;if(Zo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Zo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ke(t);var n=pt.test(t);return n||mt.test(t)?ue(t.slice(2),n?2:8):dt.test(t)?f:+t}function ma(t){return Si(t,Na(t))}function ya(t){return null==t?"":oi(t)}var wa=Ii((function(t,e){if(bs(e)||Ho(e))Si(e,Da(e),t);else for(var n in e)Lt.call(e,n)&&Zn(t,n,e[n])})),va=Ii((function(t,e){Si(e,Na(e),t)})),ba=Ii((function(t,e,n,r){Si(e,Na(e),t,r)})),Aa=Ii((function(t,e,n,r){Si(e,Da(e),t,r)})),Ca=Zi(ir),_a=Gr((function(t,e){t=Et(t);var n=-1,r=e.length,s=r>2?e[2]:i;for(s&&ms(e[0],e[1],s)&&(r=1);++n<r;)for(var o=e[n],a=Na(o),u=-1,c=a.length;++u<c;){var l=a[u],h=t[l];(h===i||Fo(h,Dt[l])&&!Lt.call(t,l))&&(t[l]=o[l])}return t})),Ea=Gr((function(t){return t.push(i,Xi),_e(La,i,t)}));function Ta(t,e,n){var r=null==t?i:Ar(t,e);return r===i?n:r}function xa(t,e){return null!=t&&fs(t,e,xr)}var Sa=Vi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Rt.call(e)),t[e]=n}),Za(nu)),ka=Vi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Rt.call(e)),Lt.call(t,e)?t[e].push(n):t[e]=[n]}),ss),Ia=Gr(kr);function Da(t){return Ho(t)?Kn(t):Or(t)}function Na(t){return Ho(t)?Kn(t,!0):function(t){if(!Zo(t))return function(t){var e=[];if(null!=t)for(var n in Et(t))e.push(n);return e}(t);var e=bs(t),n=[];for(var r in t)("constructor"!=r||!e&&Lt.call(t,r))&&n.push(r);return n}(t)}var Pa=Ii((function(t,e,n){Fr(t,e,n)})),La=Ii((function(t,e,n,r){Fr(t,e,n,r)})),Oa=Zi((function(t,e){var n={};if(null==t)return n;var r=!1;e=Ne(e,(function(e){return e=mi(e,t),r||(r=e.length>1),e})),Si(t,es(t),n),r&&(n=or(n,7,Qi));for(var i=e.length;i--;)ui(n,e[i]);return n})),Ma=Zi((function(t,e){return null==t?{}:function(t,e){return $r(t,e,(function(e,n){return xa(t,n)}))}(t,e)}));function Ra(t,e){if(null==t)return{};var n=Ne(es(t),(function(t){return[t]}));return e=ss(e),$r(t,n,(function(t,n){return e(t,n[0])}))}var Ba=Gi(Da),Va=Gi(Na);function Fa(t){return null==t?[]:Xe(t,Da(t))}var ja=Li((function(t,e,n){return e=e.toLowerCase(),t+(n?Ua(e):e)}));function Ua(t){return Ya(ya(t).toLowerCase())}function $a(t){return(t=ya(t))&&t.replace(wt,tn).replace(Qt,"")}var qa=Li((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),za=Li((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ha=Pi("toLowerCase"),Wa=Li((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Ga=Li((function(t,e,n){return t+(n?" ":"")+Ya(e)})),Ka=Li((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ya=Pi("toUpperCase");function Xa(t,e,n){return t=ya(t),(e=n?i:e)===i?function(t){return ee.test(t)}(t)?function(t){return t.match(Zt)||[]}(t):function(t){return t.match(ut)||[]}(t):t.match(e)||[]}var Qa=Gr((function(t,e){try{return _e(t,i,e)}catch(t){return Yo(t)?t:new At(t)}})),Ja=Zi((function(t,e){return Te(e,(function(e){e=Ms(e),rr(t,e,ko(t[e],t))})),t}));function Za(t){return function(){return t}}var tu=Ri(),eu=Ri(!0);function nu(t){return t}function ru(t){return Lr("function"==typeof t?t:or(t,1))}var iu=Gr((function(t,e){return function(n){return kr(n,t,e)}})),su=Gr((function(t,e){return function(n){return kr(t,n,e)}}));function ou(t,e,n){var r=Da(e),i=br(e,r);null!=n||Zo(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=br(e,Da(e)));var s=!(Zo(n)&&"chain"in n&&!n.chain),o=Xo(t);return Te(i,(function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__);return(n.__actions__=xi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Pe([this.value()],arguments))})})),t}function au(){}var uu=ji(Ne),cu=ji(Se),lu=ji(Me);function hu(t){return ys(t)?qe(Ms(t)):function(t){return function(e){return Ar(e,t)}}(t)}var fu=$i(),du=$i(!0);function pu(){return[]}function gu(){return!1}var mu,yu=Fi((function(t,e){return t+e}),0),wu=Hi("ceil"),vu=Fi((function(t,e){return t/e}),1),bu=Hi("floor"),Au=Fi((function(t,e){return t*e}),1),Cu=Hi("round"),_u=Fi((function(t,e){return t-e}),0);return Vn.after=function(t,e){if("function"!=typeof e)throw new St(s);return t=da(t),function(){if(--t<1)return e.apply(this,arguments)}},Vn.ary=xo,Vn.assign=wa,Vn.assignIn=va,Vn.assignInWith=ba,Vn.assignWith=Aa,Vn.at=Ca,Vn.before=So,Vn.bind=ko,Vn.bindAll=Ja,Vn.bindKey=Io,Vn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return qo(t)?t:[t]},Vn.chain=lo,Vn.chunk=function(t,e,n){e=(n?ms(t,e,n):e===i)?1:mn(da(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var o=0,a=0,u=r(fe(s/e));o<s;)u[a++]=ti(t,o,o+=e);return u},Vn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i},Vn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Pe(qo(n)?xi(n):[n],gr(e,1))},Vn.cond=function(t){var e=null==t?0:t.length,n=ss();return t=e?Ne(t,(function(t){if("function"!=typeof t[1])throw new St(s);return[n(t[0]),t[1]]})):[],Gr((function(n){for(var r=-1;++r<e;){var i=t[r];if(_e(i[0],this,n))return _e(i[1],this,n)}}))},Vn.conforms=function(t){return function(t){var e=Da(t);return function(n){return ar(n,t,e)}}(or(t,1))},Vn.constant=Za,Vn.countBy=po,Vn.create=function(t,e){var n=Fn(t);return null==e?n:nr(n,e)},Vn.curry=function t(e,n,r){var s=Ki(e,8,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},Vn.curryRight=function t(e,n,r){var s=Ki(e,16,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},Vn.debounce=Do,Vn.defaults=_a,Vn.defaultsDeep=Ea,Vn.defer=No,Vn.delay=Po,Vn.difference=Vs,Vn.differenceBy=Fs,Vn.differenceWith=js,Vn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=n||e===i?1:da(e))<0?0:e,r):[]},Vn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,0,(e=r-(e=n||e===i?1:da(e)))<0?0:e):[]},Vn.dropRightWhile=function(t,e){return t&&t.length?li(t,ss(e,3),!0,!0):[]},Vn.dropWhile=function(t,e){return t&&t.length?li(t,ss(e,3),!0):[]},Vn.fill=function(t,e,n,r){var s=null==t?0:t.length;return s?(n&&"number"!=typeof n&&ms(t,e,n)&&(n=0,r=s),function(t,e,n,r){var s=t.length;for((n=da(n))<0&&(n=-n>s?0:s+n),(r=r===i||r>s?s:da(r))<0&&(r+=s),r=n>r?0:pa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Vn.filter=function(t,e){return(qo(t)?ke:pr)(t,ss(e,3))},Vn.flatMap=function(t,e){return gr(Co(t,e),1)},Vn.flatMapDeep=function(t,e){return gr(Co(t,e),l)},Vn.flatMapDepth=function(t,e,n){return n=n===i?1:da(n),gr(Co(t,e),n)},Vn.flatten=qs,Vn.flattenDeep=function(t){return null!=t&&t.length?gr(t,l):[]},Vn.flattenDepth=function(t,e){return null!=t&&t.length?gr(t,e=e===i?1:da(e)):[]},Vn.flip=function(t){return Ki(t,512)},Vn.flow=tu,Vn.flowRight=eu,Vn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Vn.functions=function(t){return null==t?[]:br(t,Da(t))},Vn.functionsIn=function(t){return null==t?[]:br(t,Na(t))},Vn.groupBy=vo,Vn.initial=function(t){return null!=t&&t.length?ti(t,0,-1):[]},Vn.intersection=Hs,Vn.intersectionBy=Ws,Vn.intersectionWith=Gs,Vn.invert=Sa,Vn.invertBy=ka,Vn.invokeMap=bo,Vn.iteratee=ru,Vn.keyBy=Ao,Vn.keys=Da,Vn.keysIn=Na,Vn.map=Co,Vn.mapKeys=function(t,e){var n={};return e=ss(e,3),wr(t,(function(t,r,i){rr(n,e(t,r,i),t)})),n},Vn.mapValues=function(t,e){var n={};return e=ss(e,3),wr(t,(function(t,r,i){rr(n,r,e(t,r,i))})),n},Vn.matches=function(t){return Br(or(t,1))},Vn.matchesProperty=function(t,e){return Vr(t,or(e,1))},Vn.memoize=Lo,Vn.merge=Pa,Vn.mergeWith=La,Vn.method=iu,Vn.methodOf=su,Vn.mixin=ou,Vn.negate=Oo,Vn.nthArg=function(t){return t=da(t),Gr((function(e){return jr(e,t)}))},Vn.omit=Oa,Vn.omitBy=function(t,e){return Ra(t,Oo(ss(e)))},Vn.once=function(t){return So(2,t)},Vn.orderBy=function(t,e,n,r){return null==t?[]:(qo(e)||(e=null==e?[]:[e]),qo(n=r?i:n)||(n=null==n?[]:[n]),Ur(t,e,n))},Vn.over=uu,Vn.overArgs=Mo,Vn.overEvery=cu,Vn.overSome=lu,Vn.partial=Ro,Vn.partialRight=Bo,Vn.partition=_o,Vn.pick=Ma,Vn.pickBy=Ra,Vn.property=hu,Vn.propertyOf=function(t){return function(e){return null==t?i:Ar(t,e)}},Vn.pull=Ys,Vn.pullAll=Xs,Vn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?qr(t,e,ss(n,2)):t},Vn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?qr(t,e,i,n):t},Vn.pullAt=Qs,Vn.range=fu,Vn.rangeRight=du,Vn.rearg=Vo,Vn.reject=function(t,e){return(qo(t)?ke:pr)(t,Oo(ss(e,3)))},Vn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],s=t.length;for(e=ss(e,3);++r<s;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return zr(t,i),n},Vn.rest=function(t,e){if("function"!=typeof t)throw new St(s);return Gr(t,e=e===i?e:da(e))},Vn.reverse=Js,Vn.sampleSize=function(t,e,n){return e=(n?ms(t,e,n):e===i)?1:da(e),(qo(t)?Xn:Yr)(t,e)},Vn.set=function(t,e,n){return null==t?t:Xr(t,e,n)},Vn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Xr(t,e,n,r)},Vn.shuffle=function(t){return(qo(t)?Qn:Zr)(t)},Vn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ms(t,e,n)?(e=0,n=r):(e=null==e?0:da(e),n=n===i?r:da(n)),ti(t,e,n)):[]},Vn.sortBy=Eo,Vn.sortedUniq=function(t){return t&&t.length?ii(t):[]},Vn.sortedUniqBy=function(t,e){return t&&t.length?ii(t,ss(e,2)):[]},Vn.split=function(t,e,n){return n&&"number"!=typeof n&&ms(t,e,n)&&(e=n=i),(n=n===i?d:n>>>0)?(t=ya(t))&&("string"==typeof e||null!=e&&!ia(e))&&!(e=oi(e))&&rn(t)?wi(hn(t),0,n):t.split(e,n):[]},Vn.spread=function(t,e){if("function"!=typeof t)throw new St(s);return e=null==e?0:mn(da(e),0),Gr((function(n){var r=n[e],i=wi(n,0,e);return r&&Pe(i,r),_e(t,this,i)}))},Vn.tail=function(t){var e=null==t?0:t.length;return e?ti(t,1,e):[]},Vn.take=function(t,e,n){return t&&t.length?ti(t,0,(e=n||e===i?1:da(e))<0?0:e):[]},Vn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=r-(e=n||e===i?1:da(e)))<0?0:e,r):[]},Vn.takeRightWhile=function(t,e){return t&&t.length?li(t,ss(e,3),!1,!0):[]},Vn.takeWhile=function(t,e){return t&&t.length?li(t,ss(e,3)):[]},Vn.tap=function(t,e){return e(t),t},Vn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new St(s);return Zo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Do(t,e,{leading:r,maxWait:e,trailing:i})},Vn.thru=ho,Vn.toArray=ha,Vn.toPairs=Ba,Vn.toPairsIn=Va,Vn.toPath=function(t){return qo(t)?Ne(t,Ms):aa(t)?[t]:xi(Os(ya(t)))},Vn.toPlainObject=ma,Vn.transform=function(t,e,n){var r=qo(t),i=r||Go(t)||ua(t);if(e=ss(e,4),null==n){var s=t&&t.constructor;n=i?r?new s:[]:Zo(t)&&Xo(s)?Fn(zt(t)):{}}return(i?Te:wr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Vn.unary=function(t){return xo(t,1)},Vn.union=Zs,Vn.unionBy=to,Vn.unionWith=eo,Vn.uniq=function(t){return t&&t.length?ai(t):[]},Vn.uniqBy=function(t,e){return t&&t.length?ai(t,ss(e,2)):[]},Vn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ai(t,i,e):[]},Vn.unset=function(t,e){return null==t||ui(t,e)},Vn.unzip=no,Vn.unzipWith=ro,Vn.update=function(t,e,n){return null==t?t:ci(t,e,gi(n))},Vn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ci(t,e,gi(n),r)},Vn.values=Fa,Vn.valuesIn=function(t){return null==t?[]:Xe(t,Na(t))},Vn.without=io,Vn.words=Xa,Vn.wrap=function(t,e){return Ro(gi(e),t)},Vn.xor=so,Vn.xorBy=oo,Vn.xorWith=ao,Vn.zip=uo,Vn.zipObject=function(t,e){return di(t||[],e||[],Zn)},Vn.zipObjectDeep=function(t,e){return di(t||[],e||[],Xr)},Vn.zipWith=co,Vn.entries=Ba,Vn.entriesIn=Va,Vn.extend=va,Vn.extendWith=ba,ou(Vn,Vn),Vn.add=yu,Vn.attempt=Qa,Vn.camelCase=ja,Vn.capitalize=Ua,Vn.ceil=wu,Vn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ga(n))==n?n:0),e!==i&&(e=(e=ga(e))==e?e:0),sr(ga(t),e,n)},Vn.clone=function(t){return or(t,4)},Vn.cloneDeep=function(t){return or(t,5)},Vn.cloneDeepWith=function(t,e){return or(t,5,e="function"==typeof e?e:i)},Vn.cloneWith=function(t,e){return or(t,4,e="function"==typeof e?e:i)},Vn.conformsTo=function(t,e){return null==e||ar(t,e,Da(e))},Vn.deburr=$a,Vn.defaultTo=function(t,e){return null==t||t!=t?e:t},Vn.divide=vu,Vn.endsWith=function(t,e,n){t=ya(t),e=oi(e);var r=t.length,s=n=n===i?r:sr(da(n),0,r);return(n-=e.length)>=0&&t.slice(n,s)==e},Vn.eq=Fo,Vn.escape=function(t){return(t=ya(t))&&K.test(t)?t.replace(W,en):t},Vn.escapeRegExp=function(t){return(t=ya(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Vn.every=function(t,e,n){var r=qo(t)?Se:fr;return n&&ms(t,e,n)&&(e=i),r(t,ss(e,3))},Vn.find=go,Vn.findIndex=Us,Vn.findKey=function(t,e){return Be(t,ss(e,3),wr)},Vn.findLast=mo,Vn.findLastIndex=$s,Vn.findLastKey=function(t,e){return Be(t,ss(e,3),vr)},Vn.floor=bu,Vn.forEach=yo,Vn.forEachRight=wo,Vn.forIn=function(t,e){return null==t?t:mr(t,ss(e,3),Na)},Vn.forInRight=function(t,e){return null==t?t:yr(t,ss(e,3),Na)},Vn.forOwn=function(t,e){return t&&wr(t,ss(e,3))},Vn.forOwnRight=function(t,e){return t&&vr(t,ss(e,3))},Vn.get=Ta,Vn.gt=jo,Vn.gte=Uo,Vn.has=function(t,e){return null!=t&&fs(t,e,Tr)},Vn.hasIn=xa,Vn.head=zs,Vn.identity=nu,Vn.includes=function(t,e,n,r){t=Ho(t)?t:Fa(t),n=n&&!r?da(n):0;var i=t.length;return n<0&&(n=mn(i+n,0)),oa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Fe(t,e,n)>-1},Vn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:da(n);return i<0&&(i=mn(r+i,0)),Fe(t,e,i)},Vn.inRange=function(t,e,n){return e=fa(e),n===i?(n=e,e=0):n=fa(n),function(t,e,n){return t>=yn(e,n)&&t<mn(e,n)}(t=ga(t),e,n)},Vn.invoke=Ia,Vn.isArguments=$o,Vn.isArray=qo,Vn.isArrayBuffer=zo,Vn.isArrayLike=Ho,Vn.isArrayLikeObject=Wo,Vn.isBoolean=function(t){return!0===t||!1===t||ta(t)&&_r(t)==y},Vn.isBuffer=Go,Vn.isDate=Ko,Vn.isElement=function(t){return ta(t)&&1===t.nodeType&&!ra(t)},Vn.isEmpty=function(t){if(null==t)return!0;if(Ho(t)&&(qo(t)||"string"==typeof t||"function"==typeof t.splice||Go(t)||ua(t)||$o(t)))return!t.length;var e=hs(t);if(e==C||e==S)return!t.size;if(bs(t))return!Or(t).length;for(var n in t)if(Lt.call(t,n))return!1;return!0},Vn.isEqual=function(t,e){return Dr(t,e)},Vn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Dr(t,e,i,n):!!r},Vn.isError=Yo,Vn.isFinite=function(t){return"number"==typeof t&&Re(t)},Vn.isFunction=Xo,Vn.isInteger=Qo,Vn.isLength=Jo,Vn.isMap=ea,Vn.isMatch=function(t,e){return t===e||Nr(t,e,as(e))},Vn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Nr(t,e,as(e),n)},Vn.isNaN=function(t){return na(t)&&t!=+t},Vn.isNative=function(t){if(vs(t))throw new At("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pr(t)},Vn.isNil=function(t){return null==t},Vn.isNull=function(t){return null===t},Vn.isNumber=na,Vn.isObject=Zo,Vn.isObjectLike=ta,Vn.isPlainObject=ra,Vn.isRegExp=ia,Vn.isSafeInteger=function(t){return Qo(t)&&t>=-9007199254740991&&t<=h},Vn.isSet=sa,Vn.isString=oa,Vn.isSymbol=aa,Vn.isTypedArray=ua,Vn.isUndefined=function(t){return t===i},Vn.isWeakMap=function(t){return ta(t)&&hs(t)==D},Vn.isWeakSet=function(t){return ta(t)&&"[object WeakSet]"==_r(t)},Vn.join=function(t,e){return null==t?"":ze.call(t,e)},Vn.kebabCase=qa,Vn.last=Ks,Vn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r;return n!==i&&(s=(s=da(n))<0?mn(r+s,0):yn(s,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,s):Ve(t,Ue,s,!0)},Vn.lowerCase=za,Vn.lowerFirst=Ha,Vn.lt=ca,Vn.lte=la,Vn.max=function(t){return t&&t.length?dr(t,nu,Er):i},Vn.maxBy=function(t,e){return t&&t.length?dr(t,ss(e,2),Er):i},Vn.mean=function(t){return $e(t,nu)},Vn.meanBy=function(t,e){return $e(t,ss(e,2))},Vn.min=function(t){return t&&t.length?dr(t,nu,Mr):i},Vn.minBy=function(t,e){return t&&t.length?dr(t,ss(e,2),Mr):i},Vn.stubArray=pu,Vn.stubFalse=gu,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=Au,Vn.nth=function(t,e){return t&&t.length?jr(t,da(e)):i},Vn.noConflict=function(){return he._===this&&(he._=Vt),this},Vn.noop=au,Vn.now=To,Vn.pad=function(t,e,n){t=ya(t);var r=(e=da(e))?ln(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ui(de(i),n)+t+Ui(fe(i),n)},Vn.padEnd=function(t,e,n){t=ya(t);var r=(e=da(e))?ln(t):0;return e&&r<e?t+Ui(e-r,n):t},Vn.padStart=function(t,e,n){t=ya(t);var r=(e=da(e))?ln(t):0;return e&&r<e?Ui(e-r,n)+t:t},Vn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),vn(ya(t).replace(rt,""),e||0)},Vn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ms(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=fa(t),e===i?(e=t,t=0):e=fa(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var s=bn();return yn(t+s*(e-t+ae("1e-"+((s+"").length-1))),e)}return Hr(t,e)},Vn.reduce=function(t,e,n){var r=qo(t)?Le:He,i=arguments.length<3;return r(t,ss(e,4),n,i,lr)},Vn.reduceRight=function(t,e,n){var r=qo(t)?Oe:He,i=arguments.length<3;return r(t,ss(e,4),n,i,hr)},Vn.repeat=function(t,e,n){return e=(n?ms(t,e,n):e===i)?1:da(e),Wr(ya(t),e)},Vn.replace=function(){var t=arguments,e=ya(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Vn.result=function(t,e,n){var r=-1,s=(e=mi(e,t)).length;for(s||(s=1,t=i);++r<s;){var o=null==t?i:t[Ms(e[r])];o===i&&(r=s,o=n),t=Xo(o)?o.call(t):o}return t},Vn.round=Cu,Vn.runInContext=t,Vn.sample=function(t){return(qo(t)?Yn:Kr)(t)},Vn.size=function(t){if(null==t)return 0;if(Ho(t))return oa(t)?ln(t):t.length;var e=hs(t);return e==C||e==S?t.size:Or(t).length},Vn.snakeCase=Wa,Vn.some=function(t,e,n){var r=qo(t)?Me:ei;return n&&ms(t,e,n)&&(e=i),r(t,ss(e,3))},Vn.sortedIndex=function(t,e){return ni(t,e)},Vn.sortedIndexBy=function(t,e,n){return ri(t,e,ss(n,2))},Vn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ni(t,e);if(r<n&&Fo(t[r],e))return r}return-1},Vn.sortedLastIndex=function(t,e){return ni(t,e,!0)},Vn.sortedLastIndexBy=function(t,e,n){return ri(t,e,ss(n,2),!0)},Vn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ni(t,e,!0)-1;if(Fo(t[n],e))return n}return-1},Vn.startCase=Ga,Vn.startsWith=function(t,e,n){return t=ya(t),n=null==n?0:sr(da(n),0,t.length),e=oi(e),t.slice(n,n+e.length)==e},Vn.subtract=_u,Vn.sum=function(t){return t&&t.length?We(t,nu):0},Vn.sumBy=function(t,e){return t&&t.length?We(t,ss(e,2)):0},Vn.template=function(t,e,n){var r=Vn.templateSettings;n&&ms(t,e,n)&&(e=i),t=ya(t),e=ba({},e,r,Yi);var s,o,a=ba({},e.imports,r.imports,Yi),u=Da(a),c=Xe(a,u),l=0,h=e.interpolate||vt,f="__p += '",d=Tt((e.escape||vt).source+"|"+h.source+"|"+(h===Q?ht:vt).source+"|"+(e.evaluate||vt).source+"|$","g"),p="//# sourceURL="+(Lt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++re+"]")+"\n";t.replace(d,(function(e,n,r,i,a,u){return r||(r=i),f+=t.slice(l,u).replace(bt,nn),n&&(s=!0,f+="' +\n__e("+n+") +\n'"),a&&(o=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),f+="';\n";var g=Lt.call(e,"variable")&&e.variable;if(g){if(ct.test(g))throw new At("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace($,""):f).replace(q,"$1").replace(z,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Qa((function(){return Ct(u,p+"return "+f).apply(i,c)}));if(m.source=f,Yo(m))throw m;return m},Vn.times=function(t,e){if((t=da(t))<1||t>h)return[];var n=d,r=yn(t,d);e=ss(e),t-=d;for(var i=Ge(r,e);++n<t;)e(n);return i},Vn.toFinite=fa,Vn.toInteger=da,Vn.toLength=pa,Vn.toLower=function(t){return ya(t).toLowerCase()},Vn.toNumber=ga,Vn.toSafeInteger=function(t){return t?sr(da(t),-9007199254740991,h):0===t?t:0},Vn.toString=ya,Vn.toUpper=function(t){return ya(t).toUpperCase()},Vn.trim=function(t,e,n){if((t=ya(t))&&(n||e===i))return Ke(t);if(!t||!(e=oi(e)))return t;var r=hn(t),s=hn(e);return wi(r,Je(r,s),Ze(r,s)+1).join("")},Vn.trimEnd=function(t,e,n){if((t=ya(t))&&(n||e===i))return t.slice(0,fn(t)+1);if(!t||!(e=oi(e)))return t;var r=hn(t);return wi(r,0,Ze(r,hn(e))+1).join("")},Vn.trimStart=function(t,e,n){if((t=ya(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=oi(e)))return t;var r=hn(t);return wi(r,Je(r,hn(e))).join("")},Vn.truncate=function(t,e){var n=30,r="...";if(Zo(e)){var s="separator"in e?e.separator:s;n="length"in e?da(e.length):n,r="omission"in e?oi(e.omission):r}var o=(t=ya(t)).length;if(rn(t)){var a=hn(t);o=a.length}if(n>=o)return t;var u=n-ln(r);if(u<1)return r;var c=a?wi(a,0,u).join(""):t.slice(0,u);if(s===i)return c+r;if(a&&(u+=c.length-u),ia(s)){if(t.slice(u).search(s)){var l,h=c;for(s.global||(s=Tt(s.source,ya(ft.exec(s))+"g")),s.lastIndex=0;l=s.exec(h);)var f=l.index;c=c.slice(0,f===i?u:f)}}else if(t.indexOf(oi(s),u)!=u){var d=c.lastIndexOf(s);d>-1&&(c=c.slice(0,d))}return c+r},Vn.unescape=function(t){return(t=ya(t))&&G.test(t)?t.replace(H,dn):t},Vn.uniqueId=function(t){var e=++Ot;return ya(t)+e},Vn.upperCase=Ka,Vn.upperFirst=Ya,Vn.each=yo,Vn.eachRight=wo,Vn.first=zs,ou(Vn,(mu={},wr(Vn,(function(t,e){Lt.call(Vn.prototype,e)||(mu[e]=t)})),mu),{chain:!1}),Vn.VERSION="4.17.21",Te(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Vn[t].placeholder=Vn})),Te(["drop","take"],(function(t,e){$n.prototype[t]=function(n){n=n===i?1:mn(da(n),0);var r=this.__filtered__&&!e?new $n(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,d),type:t+(r.__dir__<0?"Right":"")}),r},$n.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Te(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;$n.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ss(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Te(["head","last"],(function(t,e){var n="take"+(e?"Right":"");$n.prototype[t]=function(){return this[n](1).value()[0]}})),Te(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");$n.prototype[t]=function(){return this.__filtered__?new $n(this):this[n](1)}})),$n.prototype.compact=function(){return this.filter(nu)},$n.prototype.find=function(t){return this.filter(t).head()},$n.prototype.findLast=function(t){return this.reverse().find(t)},$n.prototype.invokeMap=Gr((function(t,e){return"function"==typeof t?new $n(this):this.map((function(n){return kr(n,t,e)}))})),$n.prototype.reject=function(t){return this.filter(Oo(ss(t)))},$n.prototype.slice=function(t,e){t=da(t);var n=this;return n.__filtered__&&(t>0||e<0)?new $n(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=da(e))<0?n.dropRight(-e):n.take(e-t)),n)},$n.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},$n.prototype.toArray=function(){return this.take(d)},wr($n.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),s=Vn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);s&&(Vn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof $n,c=a[0],l=u||qo(e),h=function(t){var e=s.apply(Vn,Pe([t],a));return r&&f?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,d=!!this.__actions__.length,p=o&&!f,g=u&&!d;if(!o&&l){e=g?e:new $n(this);var m=t.apply(e,a);return m.__actions__.push({func:ho,args:[h],thisArg:i}),new Un(m,f)}return p&&g?t.apply(this,a):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})})),Te(["pop","push","shift","sort","splice","unshift"],(function(t){var e=kt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Vn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(qo(i)?i:[],t)}return this[n]((function(n){return e.apply(qo(n)?n:[],t)}))}})),wr($n.prototype,(function(t,e){var n=Vn[e];if(n){var r=n.name+"";Lt.call(In,r)||(In[r]=[]),In[r].push({name:e,func:n})}})),In[Bi(i,2).name]=[{name:"wrapper",func:i}],$n.prototype.clone=function(){var t=new $n(this.__wrapped__);return t.__actions__=xi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=xi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=xi(this.__views__),t},$n.prototype.reverse=function(){if(this.__filtered__){var t=new $n(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},$n.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=qo(t),r=e<0,i=n?t.length:0,s=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=yn(e,t+o);break;case"takeRight":t=mn(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,a=s.end,u=a-o,c=r?a:o-1,l=this.__iteratees__,h=l.length,f=0,d=yn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return hi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var g=-1,m=t[c+=e];++g<h;){var y=l[g],w=y.iteratee,v=y.type,b=w(m);if(2==v)m=b;else if(!b){if(1==v)continue t;break t}}p[f++]=m}return p},Vn.prototype.at=fo,Vn.prototype.chain=function(){return lo(this)},Vn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Vn.prototype.plant=function(t){for(var e,n=this;n instanceof jn;){var r=Bs(n);r.__index__=0,r.__values__=i,e?s.__wrapped__=r:e=r;var s=r;n=n.__wrapped__}return s.__wrapped__=t,e},Vn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof $n){var e=t;return this.__actions__.length&&(e=new $n(this)),(e=e.reverse()).__actions__.push({func:ho,args:[Js],thisArg:i}),new Un(e,this.__chain__)}return this.thru(Js)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,Yt&&(Vn.prototype[Yt]=function(){return this}),Vn}();he._=pn,(r=function(){return pn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},72:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var s={},o=[],a=0;a<t.length;a++){var u=t[a],c=r.base?u[0]+r.base:u[0],l=s[c]||0,h="".concat(c," ").concat(l);s[c]=l+1;var f=n(h),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)e[f].references++,e[f].updater(d);else{var p=i(d,r);r.byIndex=a,e.splice(a,0,{identifier:h,updater:p,references:1})}o.push(h)}return o}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var s=r(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<s.length;o++){var a=n(s[o]);e[a].references--}for(var u=r(t,i),c=0;c<s.length;c++){var l=n(s[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}s=u}}},659:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},465:function(t){t.exports=function(){"use strict";var t={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const e=t=>{const e={};for(const n in t)e[t[n]]="swal2-"+t[n];return e},n=e(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),r=e(["success","warning","info","question","error"]),i="SweetAlert2:",s=t=>t.charAt(0).toUpperCase()+t.slice(1),o=t=>{console.warn(`${i} ${"object"==typeof t?t.join(" "):t}`)},a=t=>{console.error(`${i} ${t}`)},u=[],c=(t,e)=>{var n;n=`"${t}" is deprecated and will be removed in the next major release. Please use "${e}" instead.`,u.includes(n)||(u.push(n),o(n))},l=t=>"function"==typeof t?t():t,h=t=>t&&"function"==typeof t.toPromise,f=t=>h(t)?t.toPromise():Promise.resolve(t),d=t=>t&&Promise.resolve(t)===t,p=()=>document.body.querySelector(`.${n.container}`),g=t=>{const e=p();return e?e.querySelector(t):null},m=t=>g(`.${t}`),y=()=>m(n.popup),w=()=>m(n.icon),v=()=>m(n.title),b=()=>m(n["html-container"]),A=()=>m(n.image),C=()=>m(n["progress-steps"]),_=()=>m(n["validation-message"]),E=()=>g(`.${n.actions} .${n.confirm}`),T=()=>g(`.${n.actions} .${n.deny}`),x=()=>g(`.${n.loader}`),S=()=>g(`.${n.actions} .${n.cancel}`),k=()=>m(n.actions),I=()=>m(n.footer),D=()=>m(n["timer-progress-bar"]),N=()=>m(n.close),P=()=>{const t=Array.from(y().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(((t,e)=>{const n=parseInt(t.getAttribute("tabindex")),r=parseInt(e.getAttribute("tabindex"));return n>r?1:n<r?-1:0})),e=Array.from(y().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((t=>"-1"!==t.getAttribute("tabindex")));return(t=>{const e=[];for(let n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e})(t.concat(e)).filter((t=>X(t)))},L=()=>B(document.body,n.shown)&&!B(document.body,n["toast-shown"])&&!B(document.body,n["no-backdrop"]),O=()=>y()&&B(y(),n.toast),M={previousBodyPadding:null},R=(t,e)=>{if(t.textContent="",e){const n=(new DOMParser).parseFromString(e,"text/html");Array.from(n.querySelector("head").childNodes).forEach((e=>{t.appendChild(e)})),Array.from(n.querySelector("body").childNodes).forEach((e=>{e instanceof HTMLVideoElement||e instanceof HTMLAudioElement?t.appendChild(e.cloneNode(!0)):t.appendChild(e)}))}},B=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let e=0;e<n.length;e++)if(!t.classList.contains(n[e]))return!1;return!0},V=(t,e,i)=>{if(((t,e)=>{Array.from(t.classList).forEach((i=>{Object.values(n).includes(i)||Object.values(r).includes(i)||Object.values(e.showClass).includes(i)||t.classList.remove(i)}))})(t,e),e.customClass&&e.customClass[i]){if("string"!=typeof e.customClass[i]&&!e.customClass[i].forEach)return void o(`Invalid type of customClass.${i}! Expected string or iterable object, got "${typeof e.customClass[i]}"`);$(t,e.customClass[i])}},F=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${n.popup} > .${n[e]}`);case"checkbox":return t.querySelector(`.${n.popup} > .${n.checkbox} input`);case"radio":return t.querySelector(`.${n.popup} > .${n.radio} input:checked`)||t.querySelector(`.${n.popup} > .${n.radio} input:first-child`);case"range":return t.querySelector(`.${n.popup} > .${n.range} input`);default:return t.querySelector(`.${n.popup} > .${n.input}`)}},j=t=>{if(t.focus(),"file"!==t.type){const e=t.value;t.value="",t.value=e}},U=(t,e,n)=>{t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((e=>{Array.isArray(t)?t.forEach((t=>{n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},$=(t,e)=>{U(t,e,!0)},q=(t,e)=>{U(t,e,!1)},z=(t,e)=>{const n=Array.from(t.children);for(let t=0;t<n.length;t++){const r=n[t];if(r instanceof HTMLElement&&B(r,e))return r}},H=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"==typeof n?`${n}px`:n:t.style.removeProperty(e)},W=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.display=e},G=t=>{t.style.display="none"},K=(t,e,n,r)=>{const i=t.querySelector(e);i&&(i.style[n]=r)},Y=function(t,e){e?W(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):G(t)},X=t=>!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),Q=t=>!!(t.scrollHeight>t.clientHeight),J=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},Z=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=D();X(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"}),10))},tt={},et=t=>new Promise((e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;tt.restoreFocusTimeout=setTimeout((()=>{tt.previousActiveElement instanceof HTMLElement?(tt.previousActiveElement.focus(),tt.previousActiveElement=null):document.body&&document.body.focus(),e()}),100),window.scrollTo(n,r)})),nt=()=>"undefined"==typeof window||"undefined"==typeof document,rt=`\n <div aria-labelledby="${n.title}" aria-describedby="${n["html-container"]}" class="${n.popup}" tabindex="-1">\n   <button type="button" class="${n.close}"></button>\n   <ul class="${n["progress-steps"]}"></ul>\n   <div class="${n.icon}"></div>\n   <img class="${n.image}" />\n   <h2 class="${n.title}" id="${n.title}"></h2>\n   <div class="${n["html-container"]}" id="${n["html-container"]}"></div>\n   <input class="${n.input}" />\n   <input type="file" class="${n.file}" />\n   <div class="${n.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${n.select}"></select>\n   <div class="${n.radio}"></div>\n   <label for="${n.checkbox}" class="${n.checkbox}">\n     <input type="checkbox" />\n     <span class="${n.label}"></span>\n   </label>\n   <textarea class="${n.textarea}"></textarea>\n   <div class="${n["validation-message"]}" id="${n["validation-message"]}"></div>\n   <div class="${n.actions}">\n     <div class="${n.loader}"></div>\n     <button type="button" class="${n.confirm}"></button>\n     <button type="button" class="${n.deny}"></button>\n     <button type="button" class="${n.cancel}"></button>\n   </div>\n   <div class="${n.footer}"></div>\n   <div class="${n["timer-progress-bar-container"]}">\n     <div class="${n["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),it=()=>{tt.currentInstance.resetValidationMessage()},st=t=>{const e=(()=>{const t=p();return!!t&&(t.remove(),q([document.documentElement,document.body],[n["no-backdrop"],n["toast-shown"],n["has-column"]]),!0)})();if(nt())return void a("SweetAlert2 requires document to initialize");const r=document.createElement("div");r.className=n.container,e&&$(r,n["no-transition"]),R(r,rt);const i="string"==typeof(s=t.target)?document.querySelector(s):s;var s;i.appendChild(r),(t=>{const e=y();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")})(t),(t=>{"rtl"===window.getComputedStyle(t).direction&&$(p(),n.rtl)})(i),(()=>{const t=y(),e=z(t,n.input),r=z(t,n.file),i=t.querySelector(`.${n.range} input`),s=t.querySelector(`.${n.range} output`),o=z(t,n.select),a=t.querySelector(`.${n.checkbox} input`),u=z(t,n.textarea);e.oninput=it,r.onchange=it,o.onchange=it,a.onchange=it,u.oninput=it,i.oninput=()=>{it(),s.value=i.value},i.onchange=()=>{it(),s.value=i.value}})()},ot=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):"object"==typeof t?at(t,e):t&&R(e,t)},at=(t,e)=>{t.jquery?ut(e,t):R(e,t.toString())},ut=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},ct=(()=>{if(nt())return!1;const t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1})(),lt=(t,e)=>{const r=k(),i=x();e.showConfirmButton||e.showDenyButton||e.showCancelButton?W(r):G(r),V(r,e,"actions"),function(t,e,r){const i=E(),s=T(),o=S();ht(i,"confirm",r),ht(s,"deny",r),ht(o,"cancel",r),function(t,e,r,i){i.buttonsStyling?($([t,e,r],n.styled),i.confirmButtonColor&&(t.style.backgroundColor=i.confirmButtonColor,$(t,n["default-outline"])),i.denyButtonColor&&(e.style.backgroundColor=i.denyButtonColor,$(e,n["default-outline"])),i.cancelButtonColor&&(r.style.backgroundColor=i.cancelButtonColor,$(r,n["default-outline"]))):q([t,e,r],n.styled)}(i,s,o,r),r.reverseButtons&&(r.toast?(t.insertBefore(o,i),t.insertBefore(s,i)):(t.insertBefore(o,e),t.insertBefore(s,e),t.insertBefore(i,e)))}(r,i,e),R(i,e.loaderHtml),V(i,e,"loader")};function ht(t,e,r){Y(t,r[`show${s(e)}Button`],"inline-block"),R(t,r[`${e}ButtonText`]),t.setAttribute("aria-label",r[`${e}ButtonAriaLabel`]),t.className=n[e],V(t,r,`${e}Button`),$(t,r[`${e}ButtonClass`])}const ft=(t,e)=>{const r=p();r&&(function(t,e){"string"==typeof e?t.style.background=e:e||$([document.documentElement,document.body],n["no-backdrop"])}(r,e.backdrop),function(t,e){e in n?$(t,n[e]):(o('The "position" parameter is not valid, defaulting to "center"'),$(t,n.center))}(r,e.position),function(t,e){if(e&&"string"==typeof e){const r=`grow-${e}`;r in n&&$(t,n[r])}}(r,e.grow),V(r,e,"container"))};const dt=["input","file","range","select","radio","checkbox","textarea"],pt=t=>{if(!At[t.input])return void a(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${t.input}"`);const e=vt(t.input),n=At[t.input](e,t);W(e),setTimeout((()=>{j(n)}))},gt=(t,e)=>{const n=F(y(),t);if(n){(t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["type","value","style"].includes(n)||t.removeAttribute(n)}})(n);for(const t in e)n.setAttribute(t,e[t])}},mt=t=>{const e=vt(t.input);"object"==typeof t.customClass&&$(e,t.customClass.input)},yt=(t,e)=>{t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},wt=(t,e,r)=>{if(r.inputLabel){t.id=n.input;const i=document.createElement("label"),s=n["input-label"];i.setAttribute("for",t.id),i.className=s,"object"==typeof r.customClass&&$(i,r.customClass.inputLabel),i.innerText=r.inputLabel,e.insertAdjacentElement("beforebegin",i)}},vt=t=>z(y(),n[t]||n.input),bt=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:d(e)||o(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},At={};At.text=At.email=At.password=At.number=At.tel=At.url=(t,e)=>(bt(t,e.inputValue),wt(t,t,e),yt(t,e),t.type=e.input,t),At.file=(t,e)=>(wt(t,t,e),yt(t,e),t),At.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return bt(n,e.inputValue),n.type=e.input,bt(r,e.inputValue),wt(n,t,e),t},At.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");R(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return wt(t,t,e),t},At.radio=t=>(t.textContent="",t),At.checkbox=(t,e)=>{const r=F(y(),"checkbox");r.value="1",r.id=n.checkbox,r.checked=Boolean(e.inputValue);const i=t.querySelector("span");return R(i,e.inputPlaceholder),r},At.textarea=(t,e)=>{bt(t,e.inputValue),yt(t,e),wt(t,t,e);return setTimeout((()=>{if("MutationObserver"in window){const e=parseInt(window.getComputedStyle(y()).width);new MutationObserver((()=>{const n=t.offsetWidth+(r=t,parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight));var r;y().style.width=n>e?`${n}px`:null})).observe(t,{attributes:!0,attributeFilter:["style"]})}})),t};const Ct=(e,r)=>{const i=b();V(i,r,"htmlContainer"),r.html?(ot(r.html,i),W(i,"block")):r.text?(i.textContent=r.text,W(i,"block")):G(i),((e,r)=>{const i=y(),s=t.innerParams.get(e),o=!s||r.input!==s.input;dt.forEach((t=>{const e=z(i,n[t]);gt(t,r.inputAttributes),e.className=n[t],o&&G(e)})),r.input&&(o&&pt(r),mt(r))})(e,r)},_t=(t,e)=>{for(const n in r)e.icon!==n&&q(t,r[n]);$(t,r[e.icon]),xt(t,e),Et(),V(t,e,"icon")},Et=()=>{const t=y(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let t=0;t<n.length;t++)n[t].style.backgroundColor=e},Tt=(t,e)=>{let n,r=t.innerHTML;e.iconHtml?n=St(e.iconHtml):"success"===e.icon?(n='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',r=r.replace(/ style=".*?"/g,"")):n="error"===e.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':St({question:"?",warning:"!",info:"i"}[e.icon]),r.trim()!==n.trim()&&R(t,n)},xt=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])K(t,n,"backgroundColor",e.iconColor);K(t,".swal2-success-ring","borderColor",e.iconColor)}},St=t=>`<div class="${n["icon-content"]}">${t}</div>`,kt=(t,e)=>{t.className=`${n.popup} ${X(t)?e.showClass.popup:""}`,e.toast?($([document.documentElement,document.body],n["toast-shown"]),$(t,n.toast)):$(t,n.modal),V(t,e,"popup"),"string"==typeof e.customClass&&$(t,e.customClass),e.icon&&$(t,n[`icon-${e.icon}`])},It=t=>{const e=document.createElement("li");return $(e,n["progress-step"]),R(e,t),e},Dt=t=>{const e=document.createElement("li");return $(e,n["progress-step-line"]),t.progressStepsDistance&&H(e,"width",t.progressStepsDistance),e},Nt=(e,i)=>{((t,e)=>{const n=p(),r=y();e.toast?(H(n,"width",e.width),r.style.width="100%",r.insertBefore(x(),w())):H(r,"width",e.width),H(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),G(_()),kt(r,e)})(0,i),ft(0,i),((t,e)=>{const r=C();e.progressSteps&&0!==e.progressSteps.length?(W(r),r.textContent="",e.currentProgressStep>=e.progressSteps.length&&o("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(((t,i)=>{const s=It(t);if(r.appendChild(s),i===e.currentProgressStep&&$(s,n["active-progress-step"]),i!==e.progressSteps.length-1){const t=Dt(e);r.appendChild(t)}}))):G(r)})(0,i),((e,n)=>{const i=t.innerParams.get(e),s=w();if(i&&n.icon===i.icon)return Tt(s,n),void _t(s,n);if(n.icon||n.iconHtml){if(n.icon&&-1===Object.keys(r).indexOf(n.icon))return a(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${n.icon}"`),void G(s);W(s),Tt(s,n),_t(s,n),$(s,n.showClass.icon)}else G(s)})(e,i),((t,e)=>{const r=A();e.imageUrl?(W(r,""),r.setAttribute("src",e.imageUrl),r.setAttribute("alt",e.imageAlt),H(r,"width",e.imageWidth),H(r,"height",e.imageHeight),r.className=n.image,V(r,e,"image")):G(r)})(0,i),((t,e)=>{const n=v();Y(n,e.title||e.titleText,"block"),e.title&&ot(e.title,n),e.titleText&&(n.innerText=e.titleText),V(n,e,"title")})(0,i),((t,e)=>{const n=N();R(n,e.closeButtonHtml),V(n,e,"closeButton"),Y(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)})(0,i),Ct(e,i),lt(0,i),((t,e)=>{const n=I();Y(n,e.footer),e.footer&&ot(e.footer,n),V(n,e,"footer")})(0,i),"function"==typeof i.didRender&&i.didRender(y())};function Pt(){const e=t.innerParams.get(this);if(!e)return;const r=t.domCache.get(this);G(r.loader),O()?e.icon&&W(w()):Lt(r),q([r.popup,r.actions],n.loading),r.popup.removeAttribute("aria-busy"),r.popup.removeAttribute("data-loading"),r.confirmButton.disabled=!1,r.denyButton.disabled=!1,r.cancelButton.disabled=!1}const Lt=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?W(e[0],"inline-block"):!X(E())&&!X(T())&&!X(S())&&G(t.actions)};const Ot=()=>E()&&E().click(),Mt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Rt=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Bt=(t,e,n)=>{const r=P();if(r.length)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();y().focus()},Vt=["ArrowRight","ArrowDown"],Ft=["ArrowLeft","ArrowUp"],jt=(e,n,r)=>{const i=t.innerParams.get(e);i&&(n.isComposing||229===n.keyCode||(i.stopKeydownPropagation&&n.stopPropagation(),"Enter"===n.key?Ut(e,n,i):"Tab"===n.key?$t(n,i):[...Vt,...Ft].includes(n.key)?qt(n.key):"Escape"===n.key&&zt(n,i,r)))},Ut=(t,e,n)=>{if(l(n.allowEnterKey)&&e.target&&t.getInput()&&e.target instanceof HTMLElement&&e.target.outerHTML===t.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;Ot(),e.preventDefault()}},$t=(t,e)=>{const n=t.target,r=P();let i=-1;for(let t=0;t<r.length;t++)if(n===r[t]){i=t;break}t.shiftKey?Bt(0,i,-1):Bt(0,i,1),t.stopPropagation(),t.preventDefault()},qt=t=>{const e=E(),n=T(),r=S();if(document.activeElement instanceof HTMLElement&&![e,n,r].includes(document.activeElement))return;const i=Vt.includes(t)?"nextElementSibling":"previousElementSibling";let s=document.activeElement;for(let t=0;t<k().children.length;t++){if(s=s[i],!s)return;if(s instanceof HTMLButtonElement&&X(s))break}s instanceof HTMLButtonElement&&s.focus()},zt=(t,e,n)=>{l(e.allowEscapeKey)&&(t.preventDefault(),n(Mt.esc))};var Ht={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Wt=()=>{Array.from(document.body.children).forEach((t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))},Gt=()=>{const t=navigator.userAgent,e=!!t.match(/iPad/i)||!!t.match(/iPhone/i),n=!!t.match(/WebKit/i);if(e&&n&&!t.match(/CriOS/i)){const t=44;y().scrollHeight>window.innerHeight-t&&(p().style.paddingBottom=`${t}px`)}},Kt=()=>{const t=p();let e;t.ontouchstart=t=>{e=Yt(t)},t.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},Yt=t=>{const e=t.target,n=p();return!(Xt(t)||Qt(t)||e!==n&&(Q(n)||!(e instanceof HTMLElement)||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||Q(b())&&b().contains(e)))},Xt=t=>t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType,Qt=t=>t.touches&&t.touches.length>1,Jt=()=>{null===M.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(M.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${M.previousBodyPadding+(()=>{const t=document.createElement("div");t.className=n["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e})()}px`)};function Zt(t,e,r,i){O()?oe(t,i):(et(r).then((()=>oe(t,i))),Rt(tt)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),L()&&(null!==M.previousBodyPadding&&(document.body.style.paddingRight=`${M.previousBodyPadding}px`,M.previousBodyPadding=null),(()=>{if(B(document.body,n.iosfix)){const t=parseInt(document.body.style.top,10);q(document.body,n.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}})(),Wt()),q([document.documentElement,document.body],[n.shown,n["height-auto"],n["no-backdrop"],n["toast-shown"]])}function te(t){t=re(t);const e=Ht.swalPromiseResolve.get(this),n=ee(this);this.isAwaitingPromise()?t.isDismissed||(ne(this),e(t)):n&&e(t)}const ee=e=>{const n=y();if(!n)return!1;const r=t.innerParams.get(e);if(!r||B(n,r.hideClass.popup))return!1;q(n,r.showClass.popup),$(n,r.hideClass.popup);const i=p();return q(i,r.showClass.backdrop),$(i,r.hideClass.backdrop),ie(e,n,r),!0};const ne=e=>{e.isAwaitingPromise()&&(t.awaitingPromise.delete(e),t.innerParams.get(e)||e._destroy())},re=t=>void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),ie=(t,e,n)=>{const r=p(),i=ct&&J(e);"function"==typeof n.willClose&&n.willClose(e),i?se(t,e,r,n.returnFocus,n.didClose):Zt(t,r,n.returnFocus,n.didClose)},se=(t,e,n,r,i)=>{tt.swalCloseEventFinishedCallback=Zt.bind(null,t,n,r,i),e.addEventListener(ct,(function(t){t.target===e&&(tt.swalCloseEventFinishedCallback(),delete tt.swalCloseEventFinishedCallback)}))},oe=(t,e)=>{setTimeout((()=>{"function"==typeof e&&e.bind(t.params)(),t._destroy()}))};function ae(e,n,r){const i=t.domCache.get(e);n.forEach((t=>{i[t].disabled=r}))}function ue(t,e){if(t)if("radio"===t.type){const n=t.parentNode.parentNode.querySelectorAll("input");for(let t=0;t<n.length;t++)n[t].disabled=e}else t.disabled=e}const ce={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},le=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],he={},fe=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],de=t=>Object.prototype.hasOwnProperty.call(ce,t),pe=t=>-1!==le.indexOf(t),ge=t=>he[t],me=t=>{de(t)||o(`Unknown parameter "${t}"`)},ye=t=>{fe.includes(t)&&o(`The parameter "${t}" is incompatible with toasts`)},we=t=>{ge(t)&&c(t,ge(t))};const ve=t=>{const e={};return Object.keys(t).forEach((n=>{pe(n)?e[n]=t[n]:o(`Invalid parameter to update: ${n}`)})),e};const be=t=>{Ae(t),delete t.params,delete tt.keydownHandler,delete tt.keydownTarget,delete tt.currentInstance},Ae=e=>{e.isAwaitingPromise()?(Ce(t,e),t.awaitingPromise.set(e,!0)):(Ce(Ht,e),Ce(t,e))},Ce=(t,e)=>{for(const n in t)t[n].delete(e)};var _e=Object.freeze({__proto__:null,hideLoading:Pt,disableLoading:Pt,getInput:function(e){const n=t.innerParams.get(e||this),r=t.domCache.get(e||this);return r?F(r.popup,n.input):null},close:te,isAwaitingPromise:function(){return!!t.awaitingPromise.get(this)},rejectPromise:function(t){const e=Ht.swalPromiseReject.get(this);ne(this),e&&e(t)},handleAwaitingPromise:ne,closePopup:te,closeModal:te,closeToast:te,enableButtons:function(){ae(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){ae(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){ue(this.getInput(),!1)},disableInput:function(){ue(this.getInput(),!0)},showValidationMessage:function(e){const r=t.domCache.get(this),i=t.innerParams.get(this);R(r.validationMessage,e),r.validationMessage.className=n["validation-message"],i.customClass&&i.customClass.validationMessage&&$(r.validationMessage,i.customClass.validationMessage),W(r.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid",!0),s.setAttribute("aria-describedby",n["validation-message"]),j(s),$(s,n.inputerror))},resetValidationMessage:function(){const e=t.domCache.get(this);e.validationMessage&&G(e.validationMessage);const r=this.getInput();r&&(r.removeAttribute("aria-invalid"),r.removeAttribute("aria-describedby"),q(r,n.inputerror))},update:function(e){const n=y(),r=t.innerParams.get(this);if(!n||B(n,r.hideClass.popup))return void o("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const i=ve(e),s=Object.assign({},r,i);Nt(this,s),t.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function(){const e=t.domCache.get(this),n=t.innerParams.get(this);n?(e.popup&&tt.swalCloseEventFinishedCallback&&(tt.swalCloseEventFinishedCallback(),delete tt.swalCloseEventFinishedCallback),"function"==typeof n.didDestroy&&n.didDestroy(),be(this)):Ae(this)}});const Ee=t=>{let e=y();e||new Sn,e=y();const n=x();O()?G(w()):Te(e,t),W(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Te=(t,e)=>{const r=k(),i=x();!e&&X(E())&&(e=E()),W(r),e&&(G(e),i.setAttribute("data-button-to-replace",e.className)),i.parentNode.insertBefore(i,e),$([t,r],n.loading)},xe=t=>t.checked?1:0,Se=t=>t.checked?t.value:null,ke=t=>t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null,Ie=(t,e)=>{const n=y(),r=t=>{Ne[e.input](n,Pe(t),e)};h(e.inputOptions)||d(e.inputOptions)?(Ee(E()),f(e.inputOptions).then((e=>{t.hideLoading(),r(e)}))):"object"==typeof e.inputOptions?r(e.inputOptions):a("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof e.inputOptions)},De=(t,e)=>{const n=t.getInput();G(n),f(e.inputValue).then((r=>{n.value="number"===e.input?`${parseFloat(r)||0}`:`${r}`,W(n),n.focus(),t.hideLoading()})).catch((e=>{a(`Error in inputValue promise: ${e}`),n.value="",W(n),n.focus(),t.hideLoading()}))},Ne={select:(t,e,r)=>{const i=z(t,n.select),s=(t,e,n)=>{const i=document.createElement("option");i.value=n,R(i,e),i.selected=Le(n,r.inputValue),t.appendChild(i)};e.forEach((t=>{const e=t[0],n=t[1];if(Array.isArray(n)){const t=document.createElement("optgroup");t.label=e,t.disabled=!1,i.appendChild(t),n.forEach((e=>s(t,e[1],e[0])))}else s(i,n,e)})),i.focus()},radio:(t,e,r)=>{const i=z(t,n.radio);e.forEach((t=>{const e=t[0],s=t[1],o=document.createElement("input"),a=document.createElement("label");o.type="radio",o.name=n.radio,o.value=e,Le(e,r.inputValue)&&(o.checked=!0);const u=document.createElement("span");R(u,s),u.className=n.label,a.appendChild(o),a.appendChild(u),i.appendChild(a)}));const s=i.querySelectorAll("input");s.length&&s[0].focus()}},Pe=t=>{const e=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach(((t,n)=>{let r=t;"object"==typeof r&&(r=Pe(r)),e.push([n,r])})):Object.keys(t).forEach((n=>{let r=t[n];"object"==typeof r&&(r=Pe(r)),e.push([n,r])})),e},Le=(t,e)=>e&&e.toString()===t.toString(),Oe=(e,n)=>{const r=t.innerParams.get(e);if(!r.input)return void a(`The "input" parameter is needed to be set when using returnInputValueOn${s(n)}`);const i=((t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return xe(n);case"radio":return Se(n);case"file":return ke(n);default:return e.inputAutoTrim?n.value.trim():n.value}})(e,r);r.inputValidator?Me(e,i,n):e.getInput().checkValidity()?"deny"===n?Re(e,i):Fe(e,i):(e.enableButtons(),e.showValidationMessage(r.validationMessage))},Me=(e,n,r)=>{const i=t.innerParams.get(e);e.disableInput(),Promise.resolve().then((()=>f(i.inputValidator(n,i.validationMessage)))).then((t=>{e.enableButtons(),e.enableInput(),t?e.showValidationMessage(t):"deny"===r?Re(e,n):Fe(e,n)}))},Re=(e,n)=>{const r=t.innerParams.get(e||void 0);r.showLoaderOnDeny&&Ee(T()),r.preDeny?(t.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>f(r.preDeny(n,r.validationMessage)))).then((t=>{!1===t?(e.hideLoading(),ne(e)):e.close({isDenied:!0,value:void 0===t?n:t})})).catch((t=>Ve(e||void 0,t)))):e.close({isDenied:!0,value:n})},Be=(t,e)=>{t.close({isConfirmed:!0,value:e})},Ve=(t,e)=>{t.rejectPromise(e)},Fe=(e,n)=>{const r=t.innerParams.get(e||void 0);r.showLoaderOnConfirm&&Ee(),r.preConfirm?(e.resetValidationMessage(),t.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>f(r.preConfirm(n,r.validationMessage)))).then((t=>{X(_())||!1===t?(e.hideLoading(),ne(e)):Be(e,void 0===t?n:t)})).catch((t=>Ve(e||void 0,t)))):Be(e,n)},je=(e,n,r)=>{n.popup.onclick=()=>{const n=t.innerParams.get(e);n&&(Ue(n)||n.timer||n.input)||r(Mt.close)}},Ue=t=>t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton;let $e=!1;const qe=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&($e=!0)}}},ze=t=>{t.container.onmousedown=()=>{t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&($e=!0)}}},He=(e,n,r)=>{n.container.onclick=i=>{const s=t.innerParams.get(e);$e?$e=!1:i.target===n.container&&l(s.allowOutsideClick)&&r(Mt.backdrop)}},We=t=>t instanceof Element||(t=>"object"==typeof t&&t.jquery)(t);const Ge=()=>{if(tt.timeout)return(()=>{const t=D(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=e/parseInt(window.getComputedStyle(t).width)*100;t.style.removeProperty("transition"),t.style.width=`${n}%`})(),tt.timeout.stop()},Ke=()=>{if(tt.timeout){const t=tt.timeout.start();return Z(t),t}};let Ye=!1;const Xe={};const Qe=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const t in Xe){const n=e.getAttribute(t);if(n)return void Xe[t].fire({template:n})}};var Je=Object.freeze({__proto__:null,isValidParameter:de,isUpdatableParameter:pe,isDeprecatedParameter:ge,argsToParams:t=>{const e={};return"object"!=typeof t[0]||We(t[0])?["title","html","icon"].forEach(((n,r)=>{const i=t[r];"string"==typeof i||We(i)?e[n]=i:void 0!==i&&a(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)})):Object.assign(e,t[0]),e},getContainer:p,getPopup:y,getTitle:v,getHtmlContainer:b,getImage:A,getIcon:w,getIconContent:()=>m(n["icon-content"]),getInputLabel:()=>m(n["input-label"]),getCloseButton:N,getActions:k,getConfirmButton:E,getDenyButton:T,getCancelButton:S,getLoader:x,getFooter:I,getTimerProgressBar:D,getFocusableElements:P,getValidationMessage:_,getProgressSteps:C,isLoading:()=>y().hasAttribute("data-loading"),isVisible:()=>X(y()),clickConfirm:Ot,clickDeny:()=>T()&&T().click(),clickCancel:()=>S()&&S().click(),fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)},mixin:function(t){return class extends(this){_main(e,n){return super._main(e,Object.assign({},t,n))}}},showLoading:Ee,enableLoading:Ee,getTimerLeft:()=>tt.timeout&&tt.timeout.getTimerLeft(),stopTimer:Ge,resumeTimer:Ke,toggleTimer:()=>{const t=tt.timeout;return t&&(t.running?Ge():Ke())},increaseTimer:t=>{if(tt.timeout){const e=tt.timeout.increase(t);return Z(e,!0),e}},isTimerRunning:()=>tt.timeout&&tt.timeout.isRunning(),bindClickHandler:function(){Xe[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ye||(document.body.addEventListener("click",Qe),Ye=!0)}});class Ze{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const tn=["swal-title","swal-html","swal-footer"],en=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach((t=>{ln(t,["name","value"]);const n=t.getAttribute("name"),r=t.getAttribute("value");e[n]="boolean"==typeof ce[n]?"false"!==r:"object"==typeof ce[n]?JSON.parse(r):r})),e},nn=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach((t=>{const n=t.getAttribute("name"),r=t.getAttribute("value");e[n]=new Function(`return ${r}`)()})),e},rn=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach((t=>{ln(t,["type","color","aria-label"]);const n=t.getAttribute("type");e[`${n}ButtonText`]=t.innerHTML,e[`show${s(n)}Button`]=!0,t.hasAttribute("color")&&(e[`${n}ButtonColor`]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e[`${n}ButtonAriaLabel`]=t.getAttribute("aria-label"))})),e},sn=t=>{const e={},n=t.querySelector("swal-image");return n&&(ln(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e},on=t=>{const e={},n=t.querySelector("swal-icon");return n&&(ln(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},an=t=>{const e={},n=t.querySelector("swal-input");n&&(ln(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach((t=>{ln(t,["value"]);const n=t.getAttribute("value"),r=t.innerHTML;e.inputOptions[n]=r}))),e},un=(t,e)=>{const n={};for(const r in e){const i=e[r],s=t.querySelector(i);s&&(ln(s,[]),n[i.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},cn=t=>{const e=tn.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach((t=>{const n=t.tagName.toLowerCase();e.includes(n)||o(`Unrecognized element <${n}>`)}))},ln=(t,e)=>{Array.from(t.attributes).forEach((n=>{-1===e.indexOf(n.name)&&o([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."])}))},hn=t=>{const e=p(),r=y();"function"==typeof t.willOpen&&t.willOpen(r);const i=window.getComputedStyle(document.body).overflowY;gn(e,r,t),setTimeout((()=>{dn(e,r)}),10),L()&&(pn(e,t.scrollbarPadding,i),Array.from(document.body.children).forEach((t=>{t===p()||t.contains(p())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}))),O()||tt.previousActiveElement||(tt.previousActiveElement=document.activeElement),"function"==typeof t.didOpen&&setTimeout((()=>t.didOpen(r))),q(e,n["no-transition"])},fn=t=>{const e=y();if(t.target!==e)return;const n=p();e.removeEventListener(ct,fn),n.style.overflowY="auto"},dn=(t,e)=>{ct&&J(e)?(t.style.overflowY="hidden",e.addEventListener(ct,fn)):t.style.overflowY="auto"},pn=(t,e,r)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!B(document.body,n.iosfix)){const t=document.body.scrollTop;document.body.style.top=-1*t+"px",$(document.body,n.iosfix),Kt(),Gt()}})(),e&&"hidden"!==r&&Jt(),setTimeout((()=>{t.scrollTop=0}))},gn=(t,e,r)=>{$(t,r.showClass.backdrop),e.style.setProperty("opacity","0","important"),W(e,"grid"),setTimeout((()=>{$(e,r.showClass.popup),e.style.removeProperty("opacity")}),10),$([document.documentElement,document.body],n.shown),r.heightAuto&&r.backdrop&&!r.toast&&$([document.documentElement,document.body],n["height-auto"])};var mn={email:(t,e)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function yn(t){(function(t){t.inputValidator||Object.keys(mn).forEach((e=>{t.input===e&&(t.inputValidator=mn[e])}))})(t),t.showLoaderOnConfirm&&!t.preConfirm&&o("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(o('Target parameter is not valid, defaulting to "body"'),t.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),st(t)}let wn;class vn{constructor(){if("undefined"==typeof window)return;wn=this;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=Object.freeze(this.constructor.argsToParams(n));Object.defineProperties(this,{params:{value:i,writable:!1,enumerable:!0,configurable:!0}});const s=wn._main(wn.params);t.promise.set(this,s)}_main(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(t=>{!1===t.backdrop&&t.allowOutsideClick&&o('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)me(e),t.toast&&ye(e),we(e)})(Object.assign({},n,e)),tt.currentInstance&&(tt.currentInstance._destroy(),L()&&Wt()),tt.currentInstance=wn;const r=An(e,n);yn(r),Object.freeze(r),tt.timeout&&(tt.timeout.stop(),delete tt.timeout),clearTimeout(tt.restoreFocusTimeout);const i=Cn(wn);return Nt(wn,r),t.innerParams.set(wn,r),bn(wn,i,r)}then(e){return t.promise.get(this).then(e)}finally(e){return t.promise.get(this).finally(e)}}const bn=(e,n,r)=>new Promise(((i,s)=>{const o=t=>{e.close({isDismissed:!0,dismiss:t})};Ht.swalPromiseResolve.set(e,i),Ht.swalPromiseReject.set(e,s),n.confirmButton.onclick=()=>{(e=>{const n=t.innerParams.get(e);e.disableButtons(),n.input?Oe(e,"confirm"):Fe(e,!0)})(e)},n.denyButton.onclick=()=>{(e=>{const n=t.innerParams.get(e);e.disableButtons(),n.returnInputValueOnDeny?Oe(e,"deny"):Re(e,!1)})(e)},n.cancelButton.onclick=()=>{((t,e)=>{t.disableButtons(),e(Mt.cancel)})(e,o)},n.closeButton.onclick=()=>{o(Mt.close)},((e,n,r)=>{t.innerParams.get(e).toast?je(e,n,r):(qe(n),ze(n),He(e,n,r))})(e,n,o),((t,e,n,r)=>{Rt(e),n.toast||(e.keydownHandler=e=>jt(t,e,r),e.keydownTarget=n.keydownListenerCapture?window:y(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)})(e,tt,r,o),((t,e)=>{"select"===e.input||"radio"===e.input?Ie(t,e):["text","email","number","tel","textarea"].includes(e.input)&&(h(e.inputValue)||d(e.inputValue))&&(Ee(E()),De(t,e))})(e,r),hn(r),_n(tt,r,o),En(n,r),setTimeout((()=>{n.container.scrollTop=0}))})),An=(t,e)=>{const n=(t=>{const e="string"==typeof t.template?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return cn(n),Object.assign(en(n),nn(n),rn(n),sn(n),on(n),an(n),un(n,tn))})(t),r=Object.assign({},ce,e,n,t);return r.showClass=Object.assign({},ce.showClass,r.showClass),r.hideClass=Object.assign({},ce.hideClass,r.hideClass),r},Cn=e=>{const n={popup:y(),container:p(),actions:k(),confirmButton:E(),denyButton:T(),cancelButton:S(),loader:x(),closeButton:N(),validationMessage:_(),progressSteps:C()};return t.domCache.set(e,n),n},_n=(t,e,n)=>{const r=D();G(r),e.timer&&(t.timeout=new Ze((()=>{n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(W(r),V(r,e,"timerProgressBar"),setTimeout((()=>{t.timeout&&t.timeout.running&&Z(e.timer)}))))},En=(t,e)=>{e.toast||(l(e.allowEnterKey)?Tn(t,e)||Bt(0,-1,1):xn())},Tn=(t,e)=>e.focusDeny&&X(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&X(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!X(t.confirmButton)||(t.confirmButton.focus(),0)),xn=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/864e5>3&&setTimeout((()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout((()=>{t.play().catch((()=>{}))}),2500)}),500):localStorage.setItem("swal-initiation",`${t}`)}Object.assign(vn.prototype,_e),Object.assign(vn,Je),Object.keys(_e).forEach((t=>{vn[t]=function(){if(wn)return wn[t](...arguments)}})),vn.DismissReason=Mt,vn.version="11.6.13";const Sn=vn;return Sn.default=Sn,Sn}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.nc=void 0,(()=>{"use strict";var t=n(72),e=n.n(t),r=n(825),i=n.n(r),s=n(659),o=n.n(s),a=n(56),u=n.n(a),c=n(540),l=n.n(c),h=n(113),f=n.n(h),d=n(420),p={};p.styleTagTransform=f(),p.setAttributes=u(),p.insert=o().bind(null,"head"),p.domAPI=i(),p.insertStyleElement=l(),e()(d.A,p),d.A&&d.A.locals&&d.A.locals;const g=(t,e)=>(e||document).querySelector(t),m=(t,e={})=>Object.assign(document.createElement(t),e),y=t=>{switch(t){case"T":return[[0,0,0],[1,1,1],[0,1,0]];case"O":return[[2,2],[2,2]];case"L":return[[0,3,0],[0,3,0],[0,3,3]];case"J":return[[0,4,0],[0,4,0],[4,4,0]];case"I":return[[0,5,0,0],[0,5,0,0],[0,5,0,0],[0,5,0,0]];case"S":return[[0,6,6],[6,6,0],[0,0,0]];case"Z":return[[7,7,0],[0,7,7],[0,0,0]];default:return[]}},w=(t,e)=>{for(let n=0;n<t.length;n+=1)for(let r=0;r<t[n].length;r+=1)0!==t[n][r]&&e(n,r)};var v=n(122),b={};b.styleTagTransform=f(),b.setAttributes=u(),b.insert=o().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=l(),e()(v.A,b);const A=v.A&&v.A.locals?v.A.locals:void 0;var C=n(437),_={};_.styleTagTransform=f(),_.setAttributes=u(),_.insert=o().bind(null,"head"),_.domAPI=i(),_.insertStyleElement=l(),e()(C.A,_);const E=C.A&&C.A.locals?C.A.locals:void 0;var T={};function x(){return T}function S(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function k(t){S(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function I(t,e){S(2,arguments);var n=k(t),r=k(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function D(t,e){S(2,arguments);var n,r=k(t),i=k(e),s=I(r,i),o=Math.abs(function(t,e){S(2,arguments);var n=k(t),r=k(e);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,i));if(o<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);var a=I(r,i)===-s;(function(t){S(1,arguments);var e=k(t);return function(t){S(1,arguments);var e=k(t);return e.setHours(23,59,59,999),e}(e).getTime()===function(t){S(1,arguments);var e=k(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}(e).getTime()})(k(t))&&1===o&&1===I(t,i)&&(a=!1),n=s*(o-Number(a))}return 0===n?0:n}var N={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},P="trunc";var L={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function O(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const M={date:O({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:O({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:O({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var R={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function B(t){return function(e,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,s=null!=n&&n.width?String(n.width):i;r=t.formattingValues[s]||t.formattingValues[i]}else{var o=t.defaultWidth,a=null!=n&&n.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[o]}return r[t.argumentCallback?t.argumentCallback(e):e]}}const V={ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:B({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:B({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:B({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:B({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:B({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function F(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o,a=s[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?function(t,e){for(var n=0;n<t.length;n++)if(t[n].test(a))return n}(u):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(a))return n}(u);return o=t.valueCallback?t.valueCallback(c):c,{value:o=n.valueCallback?n.valueCallback(o):o,rest:e.slice(a.length)}}}var j,U={ordinalNumber:(j={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(j.matchPattern);if(!n)return null;var r=n[0],i=t.match(j.parsePattern);if(!i)return null;var s=j.valueCallback?j.valueCallback(i[0]):i[0];return{value:s=e.valueCallback?e.valueCallback(s):s,rest:t.slice(r.length)}}),era:F({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:F({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:F({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:F({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:F({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const $={code:"en-US",formatDistance:function(t,e,n){var r,i=L[t];return r="string"==typeof i?i:1===e?i.one:i.other.replace("{{count}}",e.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:M,formatRelative:function(t,e,n,r){return R[t]},localize:V,match:U,options:{weekStartsOn:0,firstWeekContainsDate:1}};function q(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function z(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var H=43200;function W(t,e,n){var r,i;S(2,arguments);var s=x(),o=null!==(r=null!==(i=null==n?void 0:n.locale)&&void 0!==i?i:s.locale)&&void 0!==r?r:$;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=I(t,e);if(isNaN(a))throw new RangeError("Invalid time value");var u,c,l=q(q({},n),{addSuffix:Boolean(null==n?void 0:n.addSuffix),comparison:a});a>0?(u=k(e),c=k(t)):(u=k(t),c=k(e));var h,f=function(t,e,n){S(2,arguments);var r,i=function(t,e){return S(2,arguments),k(t).getTime()-k(e).getTime()}(t,e)/1e3;return((r=null==n?void 0:n.roundingMethod)?N[r]:N[P])(i)}(c,u),d=(z(c)-z(u))/1e3,p=Math.round((f-d)/60);if(p<2)return null!=n&&n.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,l):f<10?o.formatDistance("lessThanXSeconds",10,l):f<20?o.formatDistance("lessThanXSeconds",20,l):f<40?o.formatDistance("halfAMinute",0,l):f<60?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",1,l):0===p?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",p,l);if(p<45)return o.formatDistance("xMinutes",p,l);if(p<90)return o.formatDistance("aboutXHours",1,l);if(p<1440){var g=Math.round(p/60);return o.formatDistance("aboutXHours",g,l)}if(p<2520)return o.formatDistance("xDays",1,l);if(p<H){var m=Math.round(p/1440);return o.formatDistance("xDays",m,l)}if(p<86400)return h=Math.round(p/H),o.formatDistance("aboutXMonths",h,l);if((h=D(c,u))<12){var y=Math.round(p/H);return o.formatDistance("xMonths",y,l)}var w=h%12,v=Math.floor(h/12);return w<3?o.formatDistance("aboutXYears",v,l):w<9?o.formatDistance("overXYears",v,l):o.formatDistance("almostXYears",v+1,l)}const G=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let e=0;e<t.length;e+=3){const i=t[e],s=e+1<t.length,o=s?t[e+1]:0,a=e+2<t.length,u=a?t[e+2]:0,c=i>>2,l=(3&i)<<4|o>>4;let h=(15&o)<<2|u>>6,f=63&u;a||(f=64,s||(h=64)),r.push(n[c],n[l],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(G(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let e=0;e<t.length;){const i=n[t.charAt(e++)],s=e<t.length?n[t.charAt(e)]:0;++e;const o=e<t.length?n[t.charAt(e)]:64;++e;const a=e<t.length?n[t.charAt(e)]:64;if(++e,null==i||null==s||null==o||null==a)throw Error();const u=i<<2|s>>4;if(r.push(u),64!==o){const t=s<<4&240|o>>2;if(r.push(t),64!==a){const t=o<<6&192|a;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Y=function(t){return function(t){const e=G(t);return K.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function Q(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class J extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,J.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(tt,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new J(r,o,n)}}const tt=/\{\$([^}]+)}/g;function et(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(nt(n)&&nt(s)){if(!et(n,s))return!1}else if(n!==s)return!1}for(const t of r)if(!n.includes(t))return!1;return!0}function nt(t){return null!==t&&"object"==typeof t}function rt(t){return t&&t._delegate?t._delegate:t}class it{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const st="[DEFAULT]";class ot{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new X;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:st})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t=st){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=st){return this.instances.has(t)}getOptions(t=st){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(t)&&e.resolve(r);return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===st?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var r;return n||null}normalizeInstanceIdentifier(t=st){return this.component?this.component.multipleInstances?t:st:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class at{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new ot(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const ut=[];var ct;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(ct||(ct={}));const lt={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},ht=ct.INFO,ft={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},dt=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=ft[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class pt{constructor(t){this.name=t,this._logLevel=ht,this._logHandler=dt,this._userLogHandler=null,ut.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?lt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...t),this._logHandler(this,ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...t),this._logHandler(this,ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...t),this._logHandler(this,ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...t),this._logHandler(this,ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...t),this._logHandler(this,ct.ERROR,...t)}}const gt=(t,e)=>e.some((e=>t instanceof e));let mt,yt;const wt=new WeakMap,vt=new WeakMap,bt=new WeakMap,At=new WeakMap,Ct=new WeakMap;let _t={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return vt.get(t);if("objectStoreNames"===e)return t.objectStoreNames||bt.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tt(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Et(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yt||(yt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(xt(this),t),Tt(wt.get(this))}:function(...t){return Tt(e.apply(xt(this),t))}:function(t,...n){const r=e.call(xt(this),t,...n);return bt.set(r,t.sort?t.sort():[t]),Tt(r)}:(t instanceof IDBTransaction&&function(t){if(vt.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)}));vt.set(t,e)}(t),gt(t,mt||(mt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,_t):t);var e}function Tt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(Tt(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&wt.set(e,t)})).catch((()=>{})),Ct.set(e,t),e}(t);if(At.has(t))return At.get(t);const e=Et(t);return e!==t&&(At.set(t,e),Ct.set(e,t)),e}const xt=t=>Ct.get(t),St=["get","getKey","getAll","getAllKeys","count"],kt=["put","add","delete","clear"],It=new Map;function Dt(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(It.get(e))return It.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!St.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),i&&s.done]))[0]};return It.set(e,s),s}var Nt;Nt=_t,_t={...Nt,get:(t,e,n)=>Dt(t,e)||Nt.get(t,e,n),has:(t,e)=>!!Dt(t,e)||Nt.has(t,e)};class Pt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const Lt="@firebase/app",Ot="0.7.30",Mt=new pt("@firebase/app"),Rt="[DEFAULT]",Bt={[Lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Vt=new Map,Ft=new Map;function jt(t,e){try{t.container.addComponent(e)}catch(n){Mt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ut(t){const e=t.name;if(Ft.has(e))return Mt.debug(`There were multiple attempts to register component ${e}.`),!1;Ft.set(e,t);for(const e of Vt.values())jt(e,t);return!0}const $t=new Z("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qt{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new it("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}}function zt(t,e,n){var r;let i=null!==(r=Bt[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=[`Unable to register library "${i}" with version "${e}":`];return s&&t.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Mt.warn(t.join(" "))}Ut(new it(`${i}-version`,(()=>({library:i,version:e})),"VERSION"))}const Ht="firebase-heartbeat-database",Wt=1,Gt="firebase-heartbeat-store";let Kt=null;function Yt(){return Kt||(Kt=function(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Tt(o);return r&&o.addEventListener("upgradeneeded",(t=>{r(Tt(o.result),t.oldVersion,t.newVersion,Tt(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((t=>{s&&t.addEventListener("close",(()=>s())),i&&t.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}(Ht,Wt,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Gt)}}).catch((t=>{throw $t.create("idb-open",{originalErrorMessage:t.message})}))),Kt}async function Xt(t,e){var n;try{const n=(await Yt()).transaction(Gt,"readwrite"),r=n.objectStore(Gt);return await r.put(e,Qt(t)),n.done}catch(t){if(t instanceof J)Mt.warn(t.message);else{const e=$t.create("idb-set",{originalErrorMessage:null===(n=t)||void 0===n?void 0:n.message});Mt.warn(e.message)}}}function Qt(t){return`${t.name}!${t.options.appId}`}class Jt{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new te(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=Zt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=Zt(),{heartbeatsToSend:e,unsentEntries:n}=function(t,e=1024){const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),ee(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ee(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Y(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Zt(){return(new Date).toISOString().substring(0,10)}class te{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!("object"!=typeof indexedDB)&&new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(t){var e;try{return(await Yt()).transaction(Gt).objectStore(Gt).get(Qt(t))}catch(t){if(t instanceof J)Mt.warn(t.message);else{const n=$t.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});Mt.warn(n.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function ee(t){return Y(JSON.stringify({version:2,heartbeats:t})).length}Ut(new it("platform-logger",(t=>new Pt(t)),"PRIVATE")),Ut(new it("heartbeat",(t=>new Jt(t)),"PRIVATE")),zt(Lt,Ot,""),zt(Lt,Ot,"esm2017"),zt("fire-js",""),zt("firebase","9.9.2","app");var ne,re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},ie={},se=se||{},oe=re||self;function ae(){}function ue(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ce(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var le="closure_uid_"+(1e9*Math.random()>>>0),he=0;function fe(t,e,n){return t.call.apply(t.bind,arguments)}function de(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function pe(t,e,n){return(pe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fe:de).apply(null,arguments)}function ge(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function me(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function ye(){this.s=this.s,this.o=this.o}var we={};ye.prototype.s=!1,ye.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,le)&&t[le]||(t[le]=++he)}(this);delete we[t]}},ye.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ve=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},be=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Ae(t){return Array.prototype.concat.apply([],arguments)}function Ce(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function _e(t){return/^[\s\xa0]*$/.test(t)}var Ee,Te=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function xe(t,e){return-1!=t.indexOf(e)}function Se(t,e){return t<e?-1:t>e?1:0}t:{var ke=oe.navigator;if(ke){var Ie=ke.userAgent;if(Ie){Ee=Ie;break t}}Ee=""}function De(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Ne(t){const e={};for(const n in t)e[n]=t[n];return e}var Pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Le(t,e){let n,r;for(let e=1;e<arguments.length;e++){for(n in r=arguments[e],r)t[n]=r[n];for(let e=0;e<Pe.length;e++)n=Pe[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Oe(t){return Oe[" "](t),t}Oe[" "]=ae;var Me,Re,Be=xe(Ee,"Opera"),Ve=xe(Ee,"Trident")||xe(Ee,"MSIE"),Fe=xe(Ee,"Edge"),je=Fe||Ve,Ue=xe(Ee,"Gecko")&&!(xe(Ee.toLowerCase(),"webkit")&&!xe(Ee,"Edge"))&&!(xe(Ee,"Trident")||xe(Ee,"MSIE"))&&!xe(Ee,"Edge"),$e=xe(Ee.toLowerCase(),"webkit")&&!xe(Ee,"Edge");function qe(){var t=oe.document;return t?t.documentMode:void 0}t:{var ze="",He=(Re=Ee,Ue?/rv:([^\);]+)(\)|;)/.exec(Re):Fe?/Edge\/([\d\.]+)/.exec(Re):Ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Re):$e?/WebKit\/(\S+)/.exec(Re):Be?/(?:Version)[ \/]?(\S+)/.exec(Re):void 0);if(He&&(ze=He?He[1]:""),Ve){var We=qe();if(null!=We&&We>parseFloat(ze)){Me=String(We);break t}}Me=ze}var Ge,Ke={};function Ye(){return t=Ke,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let t=0;const e=Te(String(Me)).split("."),n=Te("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=Se(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Se(0==i[2].length,0==s[2].length)||Se(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var t}oe.document&&Ve?Ge=qe()||parseInt(Me,10)||void 0:Ge=void 0;var Xe=Ge,Qe=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{oe.addEventListener("test",ae,e),oe.removeEventListener("test",ae,e)}catch(t){}return t}();function Je(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ue){t:{try{Oe(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ze.Z.h.call(this)}}Je.prototype.h=function(){this.defaultPrevented=!0},me(Ze,Je);var tn={2:"touch",3:"pen",4:"mouse"};Ze.prototype.h=function(){Ze.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++nn,this.ca=this.fa=!1}function sn(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function on(t){this.src=t,this.g={},this.h=0}function an(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=ve(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(sn(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function un(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}on.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=un(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new rn(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(t,e,n,r,i){if(r&&r.once)return dn(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)hn(t,e[s],n,r,i);return null}return n=bn(n),t&&t[en]?t.N(e,n,ce(r)?!!r.capture:!!r,i):fn(t,e,n,!1,r,i)}function fn(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ce(i)?!!i.capture:!!i,a=wn(t);if(a||(t[cn]=a=new on(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=yn;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function dn(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)dn(t,e[s],n,r,i);return null}return n=bn(n),t&&t[en]?t.O(e,n,ce(r)?!!r.capture:!!r,i):fn(t,e,n,!0,r,i)}function pn(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)pn(t,e[s],n,r,i);else r=ce(r)?!!r.capture:!!r,n=bn(n),t&&t[en]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=un(s=t.g[e],n,r,i))&&(sn(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=wn(t))&&(e=t.g[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&gn(n))}function gn(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[en])an(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(an(n,t),0==n.h&&(n.src=null,e[cn]=null)):sn(t)}}}function mn(t){return t in ln?ln[t]:ln[t]="on"+t}function yn(t,e){if(t.ca)t=!0;else{e=new Ze(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&gn(t),t=n.call(r,e)}return t}function wn(t){return(t=t[cn])instanceof on?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return"function"==typeof t?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function An(){ye.call(this),this.i=new on(this),this.P=this,this.I=null}function Cn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Je(e,t);else if(e instanceof Je)e.target=e.target||t;else{var i=e;Le(e=new Je(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=_n(o,r,!0,e)&&i}if(i=_n(o=e.g=t,r,!0,e)&&i,i=_n(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=_n(o=e.g=n[s],r,!1,e)&&i}function _n(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&an(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}me(An,ye),An.prototype[en]=!0,An.prototype.removeEventListener=function(t,e,n,r){pn(this,t,e,n,r)},An.prototype.M=function(){if(An.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)sn(n[r]);delete e.g[t],e.h--}}this.I=null},An.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},An.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var En=oe.JSON.stringify;function Tn(){var t=Pn;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var xn,Sn=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new kn),(t=>t.reset()));class kn{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function In(t){oe.setTimeout((()=>{throw t}),0)}function Dn(t,e){xn||function(){var t=oe.Promise.resolve(void 0);xn=function(){t.then(Ln)}}(),Nn||(xn(),Nn=!0),Pn.add(t,e)}var Nn=!1,Pn=new class{constructor(){this.h=this.g=null}add(t,e){const n=Sn.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function Ln(){for(var t;t=Tn();){try{t.h.call(t.g)}catch(t){In(t)}var e=Sn;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Nn=!1}function On(t,e){An.call(this),this.h=t||1,this.g=e||oe,this.j=pe(this.kb,this),this.l=Date.now()}function Mn(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Rn(t,e,n){if("function"==typeof t)n&&(t=pe(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=pe(t.handleEvent,t)}return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function Bn(t){t.g=Rn((()=>{t.g=null,t.i&&(t.i=!1,Bn(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}me(On,An),(ne=On.prototype).da=!1,ne.S=null,ne.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Cn(this,"tick"),this.da&&(Mn(this),this.start()))}},ne.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ne.M=function(){On.Z.M.call(this),Mn(this),delete this.g};class Vn extends ye{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Bn(this)}M(){super.M(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fn(t){ye.call(this),this.h=t,this.g={}}me(Fn,ye);var jn=[];function Un(t,e,n,r){Array.isArray(n)||(n&&(jn[0]=n.toString()),n=jn);for(var i=0;i<n.length;i++){var s=hn(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function $n(t){De(t.g,(function(t,e){this.g.hasOwnProperty(e)&&gn(t)}),t),t.g={}}function qn(){this.g=!0}function zn(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return En(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Fn.prototype.M=function(){Fn.Z.M.call(this),$n(this)},Fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qn.prototype.Aa=function(){this.g=!1},qn.prototype.info=function(){};var Hn={},Wn=null;function Gn(){return Wn=Wn||new An}function Kn(t){Je.call(this,Hn.Ma,t)}function Yn(t){const e=Gn();Cn(e,new Kn(e,t))}function Xn(t,e){Je.call(this,Hn.STAT_EVENT,t),this.stat=e}function Qn(t){const e=Gn();Cn(e,new Xn(e,t))}function Jn(t,e){Je.call(this,Hn.Na,t),this.size=e}function Zn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return oe.setTimeout((function(){t()}),e)}Hn.Ma="serverreachability",me(Kn,Je),Hn.STAT_EVENT="statevent",me(Xn,Je),Hn.Na="timingevent",me(Jn,Je);var tr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},er={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function nr(){}function rr(t){return t.h||(t.h=t.i())}function ir(){}nr.prototype.h=null;var sr,or={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ar(){Je.call(this,"d")}function ur(){Je.call(this,"c")}function cr(){}function lr(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Fn(this),this.P=fr,t=je?125:void 0,this.W=new On(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hr}function hr(){this.i=null,this.g="",this.h=!1}me(ar,Je),me(ur,Je),me(cr,nr),cr.prototype.g=function(){return new XMLHttpRequest},cr.prototype.i=function(){return{}},sr=new cr;var fr=45e3,dr={},pr={};function gr(t,e,n){t.K=1,t.v=Vr(Pr(e)),t.s=n,t.U=!0,mr(t,null)}function mr(t,e){t.F=Date.now(),br(t),t.A=Pr(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Qr(n.h,"t",r),t.C=0,n=t.l.H,t.h=new hr,t.g=Ji(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Vn(pe(t.Ia,t,t.g),t.O)),Un(t.V,t.g,"readystatechange",t.gb),e=t.H?Ne(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Yn(1),function(t,e,n,r,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function yr(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function wr(t,e,n){let r,i=!0;for(;!t.I&&t.C<n.length;){if(r=vr(t,n),r==pr){4==e&&(t.o=4,Qn(14),i=!1),zn(t.j,t.m,null,"[Incomplete Response]");break}if(r==dr){t.o=4,Qn(15),zn(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}zn(t.j,t.m,r,null),Tr(t,r)}yr(t)&&r!=pr&&r!=dr&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Qn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),zi(e),e.L=!0,Qn(11))):(zn(t.j,t.m,n,"[Invalid Chunked Response]"),Er(t),_r(t))}function vr(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?pr:(n=Number(e.substring(n,r)),isNaN(n)?dr:(r+=1)+n>e.length?pr:(e=e.substr(r,n),t.C=r+n,e))}function br(t){t.Y=Date.now()+t.P,Ar(t,t.P)}function Ar(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Zn(pe(t.eb,t),e)}function Cr(t){t.B&&(oe.clearTimeout(t.B),t.B=null)}function _r(t){0==t.l.G||t.I||Gi(t.l,t)}function Er(t){Cr(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Mn(t.W),$n(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Tr(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||ii(n.i,t)))if(n.I=t.N,!t.J&&ii(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Wi(n),Mi(n)}qi(n),Qn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Zn(pe(n.ab,n),6e3));if(1>=ri(n.i)&&n.ka){try{n.ka()}catch(t){}n.ka=void 0}}else Yi(n,11)}else if((t.J||n.g==t)&&Wi(n),!_e(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const e=c[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=c[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.i;!s.g&&(xe(t,"spdy")||xe(t,"quic")||xe(t,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(si(s,s.h),s.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.sa=t,Br(r.F,r.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=Qi(r,r.H?r.la:null,r.W),o.J){oi(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Cr(a),br(a)),r.g=o}else $i(r);0<n.l.length&&Vi(n)}else"stop"!=c[0]&&"close"!=c[0]||Yi(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Yi(n,7):Oi(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Yn(4)}catch(t){}}function xr(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ue(t)||"string"==typeof t)be(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(ue(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(ue(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Sr(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sr)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kr(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ir(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ir(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ir(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ne=lr.prototype).setTimeout=function(t){this.P=t},ne.gb=function(t){t=t.target;const e=this.L;e&&3==Ii(t)?e.l():this.Ia(t)},ne.Ia=function(t){try{if(t==this.g)t:{const l=Ii(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>l)&&(3!=l||je||this.g&&(this.h.h||this.g.ga()||Di(this.g)))){this.I||4!=l||7==e||Yn(8==e||0>=h?3:2),Cr(this);var n=this.g.ba();this.N=n;e:if(yr(this)){var r=Di(this.g);t="";var i=r.length,s=4==Ii(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Er(this),_r(this);var o="";break e}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_e(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,Qn(12),Er(this),_r(this);break t}zn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tr(this,n)}this.U?(wr(this,l,o),je&&this.i&&3==l&&(Un(this.V,this.W,"tick",this.fb),this.W.start())):(zn(this.j,this.m,o,null),Tr(this,o)),4==l&&Er(this),this.i&&!this.I&&(4==l?Gi(this.l,this):(this.i=!1,br(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Qn(12)):(this.o=0,Qn(13)),Er(this),_r(this)}}}catch(t){}},ne.fb=function(){if(this.g){var t=Ii(this.g),e=this.g.ga();this.C<e.length&&(Cr(this),wr(this,t,e),this.i&&4!=t&&br(this))}},ne.cancel=function(){this.I=!0,Er(this)},ne.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Yn(3),Qn(17)),Er(this),this.o=2,_r(this)):Ar(this,this.Y-t)},(ne=Sr.prototype).R=function(){kr(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},ne.T=function(){return kr(this),this.g.concat()},ne.get=function(t,e){return Ir(this.h,t)?this.h[t]:e},ne.set=function(t,e){Ir(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},ne.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Dr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nr(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Nr){this.g=void 0!==e?e:t.g,Lr(this,t.j),this.s=t.s,Or(this,t.i),Mr(this,t.m),this.l=t.l,e=t.h;var n=new Gr;n.i=e.i,e.g&&(n.g=new Sr(e.g),n.h=e.h),Rr(this,n),this.o=t.o}else t&&(n=String(t).match(Dr))?(this.g=!!e,Lr(this,n[1]||"",!0),this.s=Fr(n[2]||""),Or(this,n[3]||"",!0),Mr(this,n[4]),this.l=Fr(n[5]||"",!0),Rr(this,n[6]||"",!0),this.o=Fr(n[7]||"")):(this.g=!!e,this.h=new Gr(null,this.g))}function Pr(t){return new Nr(t)}function Lr(t,e,n){t.j=n?Fr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Or(t,e,n){t.i=n?Fr(e,!0):e}function Mr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Rr(t,e,n){e instanceof Gr?(t.h=e,function(t,e){e&&!t.j&&(Kr(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yr(this,e),Qr(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=jr(e,Hr)),t.h=new Gr(e,t.g))}function Br(t,e,n){t.h.set(e,n)}function Vr(t){return Br(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jr(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ur),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ur(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(jr(e,$r,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(jr(e,$r,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(jr(n,"/"==n.charAt(0)?zr:qr,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",jr(n,Wr)),t.join("")};var $r=/[#\/\?@]/g,qr=/[#\?:]/g,zr=/[#\?]/g,Hr=/[#\?@]/g,Wr=/#/g;function Gr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Kr(t){t.g||(t.g=new Sr,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Yr(t,e){Kr(t),e=Jr(t,e),Ir(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ir((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&kr(t)))}function Xr(t,e){return Kr(t),e=Jr(t,e),Ir(t.g.h,e)}function Qr(t,e,n){Yr(t,e),0<n.length&&(t.i=null,t.g.set(Jr(t,e),Ce(n)),t.h+=n.length)}function Jr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(ne=Gr.prototype).add=function(t,e){Kr(this),this.i=null,t=Jr(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},ne.forEach=function(t,e){Kr(this),this.g.forEach((function(n,r){be(n,(function(n){t.call(e,n,r,this)}),this)}),this)},ne.T=function(){Kr(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},ne.R=function(t){Kr(this);var e=[];if("string"==typeof t)Xr(this,t)&&(e=Ae(e,this.g.get(Jr(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Ae(e,t[n])}return e},ne.set=function(t,e){return Kr(this),this.i=null,Xr(this,t=Jr(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},ne.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var Zr=class{constructor(t,e){this.h=t,this.g=e}};function ti(t){this.l=t||ei,t=oe.PerformanceNavigationTiming?0<(t=oe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(oe.g&&oe.g.Ea&&oe.g.Ea()&&oe.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ei=10;function ni(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ri(t){return t.h?1:t.g?t.g.size:0}function ii(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function si(t,e){t.g?t.g.add(e):t.h=e}function oi(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ai(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Ce(t.i)}function ui(){}function ci(){this.g=new ui}function li(t,e,n){const r=n||"";try{xr(t,(function(t,n){let i=t;ce(t)&&(i=En(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function hi(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function fi(t){this.l=t.$b||null,this.j=t.ib||!1}function di(t,e){An.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=pi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ti.prototype.cancel=function(){if(this.i=ai(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},ui.prototype.stringify=function(t){return oe.JSON.stringify(t,void 0)},ui.prototype.parse=function(t){return oe.JSON.parse(t,void 0)},me(fi,nr),fi.prototype.g=function(){return new di(this.l,this.j)},fi.prototype.i=function(t){return function(){return t}}({}),me(di,An);var pi=0;function gi(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function mi(t){t.readyState=4,t.l=null,t.j=null,t.A=null,yi(t)}function yi(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ne=di.prototype).open=function(t,e){if(this.readyState!=pi)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,yi(this)},ne.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||oe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mi(this)),this.readyState=pi},ne.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==oe.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gi(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},ne.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?mi(this):yi(this),3==this.readyState&&gi(this)}},ne.Ua=function(t){this.g&&(this.response=this.responseText=t,mi(this))},ne.Ta=function(t){this.g&&(this.response=t,mi(this))},ne.ha=function(){this.g&&mi(this)},ne.setRequestHeader=function(t,e){this.v.append(t,e)},ne.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ne.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(di.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var wi=oe.JSON.parse;function vi(t){An.call(this),this.headers=new Sr,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bi,this.K=this.L=!1}me(vi,An);var bi="",Ai=/^https?$/i,Ci=["POST","PUT"];function _i(t){return"content-type"==t.toLowerCase()}function Ei(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ti(t),Si(t)}function Ti(t){t.D||(t.D=!0,Cn(t,"complete"),Cn(t,"error"))}function xi(t){if(t.h&&void 0!==se&&(!t.C[1]||4!=Ii(t)||2!=t.ba()))if(t.v&&4==Ii(t))Rn(t.Fa,0,t);else if(Cn(t,"readystatechange"),4==Ii(t)){t.h=!1;try{const a=t.ba();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(Dr)[1]||null;if(!i&&oe.self&&oe.self.location){var s=oe.self.location.protocol;i=s.substr(0,s.length-1)}r=!Ai.test(i?i.toLowerCase():"")}n=r}if(n)Cn(t,"complete"),Cn(t,"success");else{t.m=6;try{var o=2<Ii(t)?t.g.statusText:""}catch(t){o=""}t.j=o+" ["+t.ba()+"]",Ti(t)}}finally{Si(t)}}}function Si(t,e){if(t.g){ki(t);const n=t.g,r=t.C[0]?ae:null;t.g=null,t.C=null,e||Cn(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function ki(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}function Ii(t){return t.g?t.g.readyState:0}function Di(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case bi:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ni(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){let e="";return De(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Br(t,e,n))}function Pi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Li(t){this.za=0,this.l=[],this.h=new qn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pi("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pi("baseRetryDelayMs",5e3,t),this.$a=Pi("retryDelaySeedMs",1e4,t),this.Ya=Pi("forwardChannelMaxRetries",2,t),this.ra=Pi("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new ti(t&&t.concurrentRequestLimit),this.Ca=new ci,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Oi(t){if(Ri(t),3==t.G){var e=t.V++,n=Pr(t.F);Br(n,"SID",t.J),Br(n,"RID",e),Br(n,"TYPE","terminate"),ji(t,n),(e=new lr(t,t.h,e,void 0)).K=2,e.v=Vr(Pr(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon&&(n=oe.navigator.sendBeacon(e.v.toString(),"")),!n&&oe.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ji(e.l,null),e.g.ea(e.v)),e.F=Date.now(),br(e)}Xi(t)}function Mi(t){t.g&&(zi(t),t.g.cancel(),t.g=null)}function Ri(t){Mi(t),t.u&&(oe.clearTimeout(t.u),t.u=null),Wi(t),t.i.cancel(),t.m&&("number"==typeof t.m&&oe.clearTimeout(t.m),t.m=null)}function Bi(t,e){t.l.push(new Zr(t.Za++,e)),3==t.G&&Vi(t)}function Vi(t){ni(t.i)||t.m||(t.m=!0,Dn(t.Ha,t),t.C=0)}function Fi(t,e){var n;n=e?e.m:t.V++;const r=Pr(t.F);Br(r,"SID",t.J),Br(r,"RID",n),Br(r,"AID",t.U),ji(t,r),t.o&&t.s&&Ni(r,t.o,t.s),n=new lr(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Ui(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),si(t.i,n),gr(n,r,e)}function ji(t,e){t.j&&xr({},(function(t,n){Br(e,n,t)}))}function Ui(t,e,n){n=Math.min(t.l.length,n);var r=t.j?pe(t.j.Oa,t.j,t):null;t:{var i=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=e,0>n)e=Math.max(0,i[o].h-100),s=!1;else try{li(a,t,"req"+n+"_")}catch(t){r&&r(a)}}if(s){r=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,r}function $i(t){t.g||t.u||(t.Y=1,Dn(t.Ga,t),t.A=0)}function qi(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Zn(pe(t.Ga,t),Ki(t,t.A)),t.A++,0))}function zi(t){null!=t.B&&(oe.clearTimeout(t.B),t.B=null)}function Hi(t){t.g=new lr(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Pr(t.oa);Br(e,"RID","rpc"),Br(e,"SID",t.J),Br(e,"CI",t.N?"0":"1"),Br(e,"AID",t.U),ji(t,e),Br(e,"TYPE","xmlhttp"),t.o&&t.s&&Ni(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Vr(Pr(e)),n.s=null,n.U=!0,mr(n,t)}function Wi(t){null!=t.v&&(oe.clearTimeout(t.v),t.v=null)}function Gi(t,e){var n=null;if(t.g==e){Wi(t),zi(t),t.g=null;var r=2}else{if(!ii(t.i,e))return;n=e.D,oi(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Cn(r=Gn(),new Jn(r,n,e,i)),Vi(t)}else $i(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ri(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Zn(pe(t.Ha,t,e),Ki(t,t.C)),t.C++,0)))}(t,e)||2==r&&qi(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Yi(t,5);break;case 4:Yi(t,10);break;case 3:Yi(t,6);break;default:Yi(t,2)}}function Ki(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Yi(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=pe(t.jb,t);n||(n=new Nr("//www.google.com/images/cleardot.gif"),oe.location&&"http"==oe.location.protocol||Lr(n,"https"),Vr(n)),function(t,e){const n=new qn;if(oe.Image){const r=new Image;r.onload=ge(hi,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ge(hi,n,r,"TestLoadImage: error",!1,e),r.onabort=ge(hi,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ge(hi,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Qn(2);t.G=0,t.j&&t.j.va(e),Xi(t),Ri(t)}function Xi(t){t.G=0,t.I=-1,t.j&&(0==ai(t.i).length&&0==t.l.length||(t.i.i.length=0,Ce(t.l),t.l.length=0),t.j.ua())}function Qi(t,e,n){let r=function(t){return t instanceof Nr?Pr(t):new Nr(t,void 0)}(n);if(""!=r.i)e&&Or(r,e+"."+r.i),Mr(r,r.m);else{const t=oe.location;r=function(t,e,n,r){var i=new Nr(null,void 0);return t&&Lr(i,t),e&&Or(i,e),n&&Mr(i,n),r&&(i.l=r),i}(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&De(t.aa,(function(t,e){Br(r,e,t)})),e=t.D,n=t.sa,e&&n&&Br(r,e,n),Br(r,"VER",t.ma),ji(t,r),r}function Ji(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new vi(new fi({ib:!0})):new vi(t.qa)).L=t.H,e}function Zi(){}function ts(){if(Ve&&!(10<=Number(Xe)))throw Error("Environmental error: no available transport.")}function es(t,e){An.call(this),this.g=new Li(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!_e(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_e(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new is(this)}function ns(t){ar.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function rs(){ur.call(this),this.status=1}function is(t){this.g=t}(ne=vi.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():sr.g(),this.C=this.u?rr(this.u):rr(sr),this.g.onreadystatechange=pe(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void Ei(this,t)}t=n||"";const i=new Sr(this.headers);r&&xr(r,(function(t,e){i.set(e,t)})),r=function(t){t:{var e=_i;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=oe.FormData&&t instanceof oe.FormData,!(0<=ve(Ci,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ki(this),0<this.B&&((this.K=function(t){return Ve&&Ye()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pe(this.pa,this)):this.A=Rn(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){Ei(this,t)}},ne.pa=function(){void 0!==se&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cn(this,"timeout"),this.abort(8))},ne.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Cn(this,"complete"),Cn(this,"abort"),Si(this))},ne.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Si(this,!0)),vi.Z.M.call(this)},ne.Fa=function(){this.s||(this.F||this.v||this.l?xi(this):this.cb())},ne.cb=function(){xi(this)},ne.ba=function(){try{return 2<Ii(this)?this.g.status:-1}catch(t){return-1}},ne.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},ne.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wi(e)}},ne.Da=function(){return this.m},ne.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ne=Li.prototype).ma=8,ne.G=1,ne.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(t){}},ne.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new lr(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=Ne(s),Le(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Ui(this,i,e),Br(n=Pr(this.F),"RID",t),Br(n,"CVER",22),this.D&&Br(n,"X-HTTP-Session-Id",this.D),ji(this,n),this.o&&s&&Ni(n,this.o,s),si(this.i,i),this.Ra&&Br(n,"TYPE","init"),this.ja?(Br(n,"$req",e),Br(n,"SID","null"),i.$=!0,gr(i,n,null)):gr(i,n,e),this.G=2}}else 3==this.G&&(t?Fi(this,t):0==this.l.length||ni(this.i)||Fi(this))},ne.Ga=function(){if(this.u=null,Hi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Zn(pe(this.bb,this),t)}},ne.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Qn(10),Mi(this),Hi(this))},ne.ab=function(){null!=this.v&&(this.v=null,Mi(this),qi(this),Qn(19))},ne.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Qn(2)):(this.h.info("Failed to ping google.com"),Qn(1))},(ne=Zi.prototype).xa=function(){},ne.wa=function(){},ne.va=function(){},ne.ua=function(){},ne.Oa=function(){},ts.prototype.g=function(t,e){return new es(t,e)},me(es,An),es.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Dn(pe(t.hb,t,e))),Qn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Qi(t,null,t.W),Vi(t)},es.prototype.close=function(){Oi(this.g)},es.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Bi(this.g,e)}else this.v?((e={}).__data__=En(t),Bi(this.g,e)):Bi(this.g,t)},es.prototype.M=function(){this.g.j=null,delete this.j,Oi(this.g),delete this.g,es.Z.M.call(this)},me(ns,ar),me(rs,ur),me(is,Zi),is.prototype.xa=function(){Cn(this.g,"a")},is.prototype.wa=function(t){Cn(this.g,new ns(t))},is.prototype.va=function(t){Cn(this.g,new rs(t))},is.prototype.ua=function(){Cn(this.g,"b")},ts.prototype.createWebChannel=ts.prototype.g,es.prototype.send=es.prototype.u,es.prototype.open=es.prototype.m,es.prototype.close=es.prototype.close,tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,er.COMPLETE="complete",ir.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",An.prototype.listen=An.prototype.N,vi.prototype.listenOnce=vi.prototype.O,vi.prototype.getLastError=vi.prototype.La,vi.prototype.getLastErrorCode=vi.prototype.Da,vi.prototype.getStatus=vi.prototype.ba,vi.prototype.getResponseJson=vi.prototype.Qa,vi.prototype.getResponseText=vi.prototype.ga,vi.prototype.send=vi.prototype.ea;var ss=ie.createWebChannelTransport=function(){return new ts},os=ie.getStatEventTarget=function(){return Gn()},as=ie.ErrorCode=tr,us=ie.EventType=er,cs=ie.Event=Hn,ls=ie.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hs=ie.FetchXmlHttpFactory=fi,fs=ie.WebChannel=ir,ds=ie.XhrIo=vi;const ps="@firebase/firestore";class gs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gs.UNAUTHENTICATED=new gs(null),gs.GOOGLE_CREDENTIALS=new gs("google-credentials-uid"),gs.FIRST_PARTY=new gs("first-party-uid"),gs.MOCK_USER=new gs("mock-user");let ms="9.9.2";const ys=new pt("@firebase/firestore");function ws(){return ys.logLevel}function vs(t,...e){if(ys.logLevel<=ct.DEBUG){const n=e.map(Cs);ys.debug(`Firestore (${ms}): ${t}`,...n)}}function bs(t,...e){if(ys.logLevel<=ct.ERROR){const n=e.map(Cs);ys.error(`Firestore (${ms}): ${t}`,...n)}}function As(t,...e){if(ys.logLevel<=ct.WARN){const n=e.map(Cs);ys.warn(`Firestore (${ms}): ${t}`,...n)}}function Cs(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function _s(t="Unexpected state"){const e=`FIRESTORE (${ms}) INTERNAL ASSERTION FAILED: `+t;throw bs(e),new Error(e)}function Es(t,e){t||_s()}function Ts(t,e){return t}const xs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ss extends J{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ks{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Is{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ds{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(gs.UNAUTHENTICATED)))}shutdown(){}}class Ns{constructor(t){this.t=t,this.currentUser=gs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ks,t.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},o=t=>{vs("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(vs("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ks)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(vs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Es("string"==typeof e.accessToken),new Is(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Es(null===t||"string"==typeof t),new gs(t)}}class Ps{constructor(t,e,n){this.type="FirstParty",this.user=gs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Ls{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new Ps(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e(gs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Os{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ms{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const n=t=>{null!=t.error&&vs("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.p;return this.p=t.token,vs("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{vs("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.g.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.g.getImmediate({optional:!0});t?r(t):vs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Es("string"==typeof t.token),this.p=t.token,new Os(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rs(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}class Bs{static I(){const t=62*Math.floor(256/62);let e="";for(;e.length<20;){const n=Rs(40);for(let r=0;r<n.length;++r)e.length<20&&n[r]<t&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return e}}function Vs(t,e){return t<e?-1:t>e?1:0}function Fs(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class js{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ss(xs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ss(xs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ss(xs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ss(xs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return js.fromMillis(Date.now())}static fromDate(t){return js.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new js(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Vs(this.nanoseconds,t.nanoseconds):Vs(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Us{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Us(t)}static min(){return new Us(new js(0,0))}static max(){return new Us(new js(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $s{constructor(t,e,n){void 0===e?e=0:e>t.length&&_s(),void 0===n?n=t.length-e:n>t.length-e&&_s(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===$s.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof $s?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class qs extends $s{construct(t,e,n){return new qs(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Ss(xs.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new qs(e)}static emptyPath(){return new qs([])}}const zs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hs extends $s{construct(t,e,n){return new Hs(t,e,n)}static isValidIdentifier(t){return zs.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hs.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hs(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ss(xs.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new Ss(xs.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Ss(xs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new Ss(xs.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Hs(e)}static emptyPath(){return new Hs([])}}class Ws{constructor(t){this.path=t}static fromPath(t){return new Ws(qs.fromString(t))}static fromName(t){return new Ws(qs.fromString(t).popFirst(5))}static empty(){return new Ws(qs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===qs.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return qs.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ws(new qs(t.slice()))}}function Gs(t){return new Ks(t.readTime,t.key,-1)}class Ks{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Ks(Us.min(),Ws.empty(),-1)}static max(){return new Ks(Us.max(),Ws.empty(),-1)}}function Ys(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ws.comparator(t.documentKey,e.documentKey),0!==n?n:Vs(t.largestBatchId,e.largestBatchId))}const Xs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Js(t){if(t.code!==xs.FAILED_PRECONDITION||t.message!==Xs)throw t;vs("LocalStore","Unexpectedly lost primary lease")}class Zs{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&_s(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Zs(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Zs?e:Zs.resolve(e)}catch(t){return Zs.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Zs.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Zs.reject(e)}static resolve(t){return new Zs(((e,n)=>{e(t)}))}static reject(t){return new Zs(((e,n)=>{n(t)}))}static waitFor(t){return new Zs(((e,n)=>{let r=0,i=0,s=!1;t.forEach((t=>{++r,t.next((()=>{++i,s&&i===r&&e()}),(t=>n(t)))})),s=!0,i===r&&e()}))}static or(t){let e=Zs.resolve(!1);for(const n of t)e=e.next((t=>t?Zs.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new Zs(((n,r)=>{const i=t.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const u=a;e(t[u]).next((t=>{s[u]=t,++o,o===i&&n(s)}),(t=>r(t)))}}))}static doWhile(t,e){return new Zs(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}function to(t){return"IndexedDbTransactionError"===t.name}class eo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.it(t),this.rt=t=>e.writeSequenceNumber(t))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function no(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function io(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}eo.ot=-1;class so{constructor(t,e){this.comparator=t,this.root=e||ao.EMPTY}insert(t,e){return new so(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ao.BLACK,null,null))}remove(t){return new so(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ao.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new oo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new oo(this.root,t,this.comparator,!1)}getReverseIterator(){return new oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new oo(this.root,t,this.comparator,!0)}}class oo{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ao{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:ao.RED,this.left=null!=r?r:ao.EMPTY,this.right=null!=i?i:ao.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new ao(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ao.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ao.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ao.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ao.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _s();if(this.right.isRed())throw _s();const t=this.left.check();if(t!==this.right.check())throw _s();return t+(this.isRed()?0:1)}}ao.EMPTY=null,ao.RED=!0,ao.BLACK=!1,ao.EMPTY=new class{constructor(){this.size=0}get key(){throw _s()}get value(){throw _s()}get color(){throw _s()}get left(){throw _s()}get right(){throw _s()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ao(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class uo{constructor(t){this.comparator=t,this.data=new so(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new co(this.data.getIterator())}getIteratorFrom(t){return new co(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof uo))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new uo(this.comparator);return e.data=t,e}}class co{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class lo{constructor(t){this.fields=t,t.sort(Hs.comparator)}static empty(){return new lo([])}unionWith(t){let e=new uo(Hs.comparator);for(const t of this.fields)e=e.add(t);for(const n of t)e=e.add(n);return new lo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Fs(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class ho{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ho(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new ho(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vs(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ho.EMPTY_BYTE_STRING=new ho("");const fo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(t){if(Es(!!t),"string"==typeof t){let e=0;const n=fo.exec(t);if(Es(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:go(t.seconds),nanos:go(t.nanos)}}function go(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function mo(t){return"string"==typeof t?ho.fromBase64String(t):ho.fromUint8Array(t)}function yo(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wo(t){const e=t.mapValue.fields.__previous_value__;return yo(e)?wo(e):e}function vo(t){const e=po(t.mapValue.fields.__local_write_time__.timestampValue);return new js(e.seconds,e.nanos)}class bo{constructor(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Ao{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Ao("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ao&&t.projectId===this.projectId&&t.database===this.database}}function Co(t){return null==t}function _o(t){return 0===t&&1/t==-1/0}const Eo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function To(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yo(t)?4:Fo(t)?9007199254740991:10:_s()}function xo(t,e){if(t===e)return!0;const n=To(t);if(n!==To(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vo(t).isEqual(vo(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=po(t.timestampValue),r=po(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return mo(t.bytesValue).isEqual(mo(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return go(t.geoPointValue.latitude)===go(e.geoPointValue.latitude)&&go(t.geoPointValue.longitude)===go(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return go(t.integerValue)===go(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=go(t.doubleValue),r=go(e.doubleValue);return n===r?_o(n)===_o(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Fs(t.arrayValue.values||[],e.arrayValue.values||[],xo);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(no(n)!==no(r))return!1;for(const t in n)if(n.hasOwnProperty(t)&&(void 0===r[t]||!xo(n[t],r[t])))return!1;return!0}(t,e);default:return _s()}}function So(t,e){return void 0!==(t.values||[]).find((t=>xo(t,e)))}function ko(t,e){if(t===e)return 0;const n=To(t),r=To(e);if(n!==r)return Vs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vs(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=go(t.integerValue||t.doubleValue),r=go(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Io(t.timestampValue,e.timestampValue);case 4:return Io(vo(t),vo(e));case 5:return Vs(t.stringValue,e.stringValue);case 6:return function(t,e){const n=mo(t),r=mo(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let t=0;t<n.length&&t<r.length;t++){const e=Vs(n[t],r[t]);if(0!==e)return e}return Vs(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=Vs(go(t.latitude),go(e.latitude));return 0!==n?n:Vs(go(t.longitude),go(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let t=0;t<n.length&&t<r.length;++t){const e=ko(n[t],r[t]);if(e)return e}return Vs(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===Eo.mapValue&&e===Eo.mapValue)return 0;if(t===Eo.mapValue)return 1;if(e===Eo.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let t=0;t<r.length&&t<s.length;++t){const e=Vs(r[t],s[t]);if(0!==e)return e;const o=ko(n[r[t]],i[s[t]]);if(0!==o)return o}return Vs(r.length,s.length)}(t.mapValue,e.mapValue);default:throw _s()}}function Io(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Vs(t,e);const n=po(t),r=po(e),i=Vs(n.seconds,r.seconds);return 0!==i?i:Vs(n.nanos,r.nanos)}function Do(t){return No(t)}function No(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=po(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?mo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ws.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=No(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${No(t.fields[i])}`;return n+"}"}(t.mapValue):_s();var e,n}function Po(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lo(t){return!!t&&"integerValue"in t}function Oo(t){return!!t&&"arrayValue"in t}function Mo(t){return!!t&&"nullValue"in t}function Ro(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bo(t){return!!t&&"mapValue"in t}function Vo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ro(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Vo(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Fo(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class jo{constructor(t){this.value=t}static empty(){return new jo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Bo(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vo(e)}setAll(t){let e=Hs.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Vo(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());Bo(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return xo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Bo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){ro(e,((e,n)=>t[e]=n));for(const e of n)delete t[e]}clone(){return new jo(Vo(this.value))}}function Uo(t){const e=[];return ro(t.fields,((t,n)=>{const r=new Hs([t]);if(Bo(n)){const t=Uo(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new lo(e)}class $o{constructor(t,e,n,r,i,s){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.data=i,this.documentState=s}static newInvalidDocument(t){return new $o(t,0,Us.min(),Us.min(),jo.empty(),0)}static newFoundDocument(t,e,n){return new $o(t,1,e,Us.min(),n,0)}static newNoDocument(t,e){return new $o(t,2,e,Us.min(),jo.empty(),0)}static newUnknownDocument(t,e){return new $o(t,3,e,Us.min(),jo.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=jo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=jo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Us.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof $o&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $o(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qo{constructor(t,e=null,n=[],r=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null}}function zo(t,e=null,n=[],r=[],i=null,s=null,o=null){return new qo(t,e,n,r,i,s,o)}function Ho(t){const e=Ts(t);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>{return(e=t).field.canonicalString()+e.op.toString()+Do(e.value);var e})).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),Co(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Do(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Do(t))).join(",")),e.ut=t}return e.ut}function Wo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sa(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!xo(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aa(t.startAt,e.startAt)&&aa(t.endAt,e.endAt)}function Go(t){return Ws.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ko extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,n):new Yo(t,e,n):"array-contains"===e?new Zo(t,n):"in"===e?new ta(t,n):"not-in"===e?new ea(t,n):"array-contains-any"===e?new na(t,n):new Ko(t,e,n)}static ct(t,e,n){return"in"===e?new Xo(t,n):new Qo(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(ko(e,this.value)):null!==e&&To(this.value)===To(e)&&this.at(ko(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return _s()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Yo extends Ko{constructor(t,e,n){super(t,e,n),this.key=Ws.fromName(n.referenceValue)}matches(t){const e=Ws.comparator(t.key,this.key);return this.at(e)}}class Xo extends Ko{constructor(t,e){super(t,"in",e),this.keys=Jo(0,e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Qo extends Ko{constructor(t,e){super(t,"not-in",e),this.keys=Jo(0,e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Jo(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>Ws.fromName(t.referenceValue)))}class Zo extends Ko{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Oo(e)&&So(e.arrayValue,this.value)}}class ta extends Ko{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&So(this.value.arrayValue,e)}}class ea extends Ko{constructor(t,e){super(t,"not-in",e)}matches(t){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!So(this.value.arrayValue,e)}}class na extends Ko{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Oo(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>So(this.value.arrayValue,t)))}}class ra{constructor(t,e){this.position=t,this.inclusive=e}}class ia{constructor(t,e="asc"){this.field=t,this.dir=e}}function sa(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function oa(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Ws.comparator(Ws.fromName(o.referenceValue),n.key):ko(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function aa(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xo(t.position[n],e.position[n]))return!1;return!0}class ua{constructor(t,e=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.lt=null,this.ft=null,this.startAt,this.endAt}}function ca(t){return new ua(t)}function la(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ha(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function fa(t){for(const e of t.filters)if(e.ht())return e.field;return null}function da(t){return null!==t.collectionGroup}function pa(t){const e=Ts(t);if(null===e.lt){e.lt=[];const t=fa(e),n=ha(e);if(null!==t&&null===n)t.isKeyField()||e.lt.push(new ia(t)),e.lt.push(new ia(Hs.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.lt.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new ia(Hs.keyField(),t))}}}return e.lt}function ga(t){const e=Ts(t);if(!e.ft)if("F"===e.limitType)e.ft=zo(e.path,e.collectionGroup,pa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const n of pa(e)){const e="desc"===n.dir?"asc":"desc";t.push(new ia(n.field,e))}const n=e.endAt?new ra(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ra(e.startAt.position,e.startAt.inclusive):null;e.ft=zo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.ft}function ma(t,e,n){return new ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ya(t,e){return Wo(ga(t),ga(e))&&t.limitType===e.limitType}function wa(t){return`${Ho(ga(t))}|lt:${t.limitType}`}function va(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>{return`${(e=t).field.canonicalString()} ${e.op} ${Do(e.value)}`;var e})).join(", ")}]`),Co(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Do(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Do(t))).join(",")),`Target(${e})`}(ga(t))}; limitType=${t.limitType})`}function ba(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Ws.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=oa(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,pa(t),e)||t.endAt&&!function(t,e,n){const r=oa(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,pa(t),e))}(t,e)}function Aa(t){return(e,n)=>{let r=!1;for(const i of pa(t)){const t=Ca(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function Ca(t,e,n){const r=t.field.isKeyField()?Ws.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ko(r,i):_s()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _s()}}function _a(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_o(e)?"-0":e}}function Ea(t){return{integerValue:""+t}}function Ta(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!_o(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?Ea(e):_a(t,e)}class xa{constructor(){this._=void 0}}function Sa(t,e,n){return t instanceof Da?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Na?Pa(t,e):t instanceof La?Oa(t,e):function(t,e){const n=Ia(t,e),r=Ra(n)+Ra(t._t);return Lo(n)&&Lo(t._t)?Ea(r):_a(t.wt,r)}(t,e)}function ka(t,e,n){return t instanceof Na?Pa(t,e):t instanceof La?Oa(t,e):n}function Ia(t,e){return t instanceof Ma?Lo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class Da extends xa{}class Na extends xa{constructor(t){super(),this.elements=t}}function Pa(t,e){const n=Ba(e);for(const e of t.elements)n.some((t=>xo(t,e)))||n.push(e);return{arrayValue:{values:n}}}class La extends xa{constructor(t){super(),this.elements=t}}function Oa(t,e){let n=Ba(e);for(const e of t.elements)n=n.filter((t=>!xo(t,e)));return{arrayValue:{values:n}}}class Ma extends xa{constructor(t,e){super(),this.wt=t,this._t=e}}function Ra(t){return go(t.integerValue||t.doubleValue)}function Ba(t){return Oo(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Va{constructor(t,e){this.field=t,this.transform=e}}class Fa{constructor(t,e){this.version=t,this.transformResults=e}}class ja{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ja}static exists(t){return new ja(void 0,t)}static updateTime(t){return new ja(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ua(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class $a{}function qa(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Za(t.key,ja.none()):new Ka(t.key,t.data,ja.none());{const n=t.data,r=jo.empty();let i=new uo(Hs.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new Ya(t.key,r,new lo(i.toArray()),ja.none())}}function za(t,e,n){t instanceof Ka?function(t,e,n){const r=t.value.clone(),i=Qa(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Ya?function(t,e,n){if(!Ua(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=Qa(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Xa(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Ha(t,e,n,r){return t instanceof Ka?function(t,e,n,r){if(!Ua(t.precondition,e))return n;const i=t.value.clone(),s=Ja(t.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ya?function(t,e,n,r){if(!Ua(t.precondition,e))return n;const i=Ja(t.fieldTransforms,r,e),s=e.data;return s.setAll(Xa(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return Ua(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function Wa(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=Ia(r.transform,t||null);null!=i&&(null===n&&(n=jo.empty()),n.set(r.field,i))}return n||null}function Ga(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Fs(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Na&&e instanceof Na||t instanceof La&&e instanceof La?Fs(t.elements,e.elements,xo):t instanceof Ma&&e instanceof Ma?xo(t._t,e._t):t instanceof Da&&e instanceof Da}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ka extends $a{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ya extends $a{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Xa(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Qa(t,e,n){const r=new Map;Es(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ka(o,a,n[i]))}return r}function Ja(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,Sa(t,s,e))}return r}class Za extends $a{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tu extends $a{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eu{constructor(t){this.count=t}}var nu,ru;function iu(t){if(void 0===t)return bs("GRPC error has no .code"),xs.UNKNOWN;switch(t){case nu.OK:return xs.OK;case nu.CANCELLED:return xs.CANCELLED;case nu.UNKNOWN:return xs.UNKNOWN;case nu.DEADLINE_EXCEEDED:return xs.DEADLINE_EXCEEDED;case nu.RESOURCE_EXHAUSTED:return xs.RESOURCE_EXHAUSTED;case nu.INTERNAL:return xs.INTERNAL;case nu.UNAVAILABLE:return xs.UNAVAILABLE;case nu.UNAUTHENTICATED:return xs.UNAUTHENTICATED;case nu.INVALID_ARGUMENT:return xs.INVALID_ARGUMENT;case nu.NOT_FOUND:return xs.NOT_FOUND;case nu.ALREADY_EXISTS:return xs.ALREADY_EXISTS;case nu.PERMISSION_DENIED:return xs.PERMISSION_DENIED;case nu.FAILED_PRECONDITION:return xs.FAILED_PRECONDITION;case nu.ABORTED:return xs.ABORTED;case nu.OUT_OF_RANGE:return xs.OUT_OF_RANGE;case nu.UNIMPLEMENTED:return xs.UNIMPLEMENTED;case nu.DATA_LOSS:return xs.DATA_LOSS;default:return _s()}}(ru=nu||(nu={}))[ru.OK=0]="OK",ru[ru.CANCELLED=1]="CANCELLED",ru[ru.UNKNOWN=2]="UNKNOWN",ru[ru.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ru[ru.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ru[ru.NOT_FOUND=5]="NOT_FOUND",ru[ru.ALREADY_EXISTS=6]="ALREADY_EXISTS",ru[ru.PERMISSION_DENIED=7]="PERMISSION_DENIED",ru[ru.UNAUTHENTICATED=16]="UNAUTHENTICATED",ru[ru.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ru[ru.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ru[ru.ABORTED=10]="ABORTED",ru[ru.OUT_OF_RANGE=11]="OUT_OF_RANGE",ru[ru.UNIMPLEMENTED=12]="UNIMPLEMENTED",ru[ru.INTERNAL=13]="INTERNAL",ru[ru.UNAVAILABLE=14]="UNAVAILABLE",ru[ru.DATA_LOSS=15]="DATA_LOSS";class su{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[e,r]of n)if(this.equalsFn(e,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ro(this.inner,((e,n)=>{for(const[e,r]of n)t(e,r)}))}isEmpty(){return io(this.inner)}size(){return this.innerSize}}const ou=new so(Ws.comparator);function au(){return ou}const uu=new so(Ws.comparator);function cu(...t){let e=uu;for(const n of t)e=e.insert(n.key,n);return e}function lu(t){let e=uu;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function hu(){return du()}function fu(){return du()}function du(){return new su((t=>t.toString()),((t,e)=>t.isEqual(e)))}const pu=new so(Ws.comparator),gu=new uo(Ws.comparator);function mu(...t){let e=gu;for(const n of t)e=e.add(n);return e}const yu=new uo(Vs);function wu(){return yu}class vu{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,bu.createSynthesizedTargetChangeForCurrentChange(t,e)),new vu(Us.min(),n,wu(),au(),mu())}}class bu{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e){return new bu(ho.EMPTY_BYTE_STRING,e,mu(),mu(),mu())}}class Au{constructor(t,e,n,r){this.gt=t,this.removedTargetIds=e,this.key=n,this.yt=r}}class Cu{constructor(t,e){this.targetId=t,this.It=e}}class _u{constructor(t,e,n=ho.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class Eu{constructor(){this.Tt=0,this.Et=Su(),this.At=ho.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=mu(),e=mu(),n=mu();return this.Et.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:_s()}})),new bu(this.At,this.Rt,t,e,n)}Dt(){this.bt=!1,this.Et=Su()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Tu{constructor(t){this.Ot=t,this.Ft=new Map,this.$t=au(),this.Bt=xu(),this.Lt=new uo(Vs)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,(e=>{const n=this.Qt(e);switch(t.state){case 0:this.jt(e)&&n.Vt(t.resumeToken);break;case 1:n.kt(),n.Pt||n.Dt(),n.Vt(t.resumeToken);break;case 2:n.kt(),n.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(n.Mt(),n.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),n.Vt(t.resumeToken));break;default:_s()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach(((t,n)=>{this.jt(n)&&e(n)}))}zt(t){const e=t.targetId,n=t.It.count,r=this.Ht(e);if(r){const t=r.target;if(Go(t))if(0===n){const n=new Ws(t.path);this.Kt(e,n,$o.newNoDocument(n,Us.min()))}else Es(1===n);else this.Jt(e)!==n&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach(((n,r)=>{const i=this.Ht(r);if(i){if(n.current&&Go(i.target)){const e=new Ws(i.target.path);null!==this.$t.get(e)||this.Xt(r,e)||this.Kt(r,e,$o.newNoDocument(e,t))}n.vt&&(e.set(r,n.St()),n.Dt())}}));let n=mu();this.Bt.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Ht(t);return!e||2===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.$t.forEach(((e,n)=>n.setReadTime(t)));const r=new vu(t,e,this.Lt,this.$t,n);return this.$t=au(),this.Bt=xu(),this.Lt=new uo(Vs),r}qt(t,e){if(!this.jt(t))return;const n=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,n),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,n){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),n&&(this.$t=this.$t.insert(e,n))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Ot.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new Eu,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new uo(Vs),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||vs("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Ot.te(t)}Wt(t){this.Ft.set(t,new Eu),this.Ot.getRemoteKeysForTarget(t).forEach((e=>{this.Kt(t,e,null)}))}Xt(t,e){return this.Ot.getRemoteKeysForTarget(t).has(e)}}function xu(){return new so(Ws.comparator)}function Su(){return new so(Ws.comparator)}const ku={asc:"ASCENDING",desc:"DESCENDING"},Iu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Du{constructor(t,e){this.databaseId=t,this.dt=e}}function Nu(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pu(t,e){return t.dt?e.toBase64():e.toUint8Array()}function Lu(t,e){return Nu(t,e.toTimestamp())}function Ou(t){return Es(!!t),Us.fromTimestamp(function(t){const e=po(t);return new js(e.seconds,e.nanos)}(t))}function Mu(t,e){return function(t){return new qs(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ru(t){const e=qs.fromString(t);return Es(tc(e)),e}function Bu(t,e){return Mu(t.databaseId,e.path)}function Vu(t,e){const n=Ru(e);if(n.get(1)!==t.databaseId.projectId)throw new Ss(xs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ss(xs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ws(Uu(n))}function Fu(t,e){return Mu(t.databaseId,e)}function ju(t){return new qs(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Uu(t){return Es(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function $u(t,e,n){return{name:Bu(t,e),fields:n.value.mapValue.fields}}function qu(t,e){return{documents:[Fu(t,e.path)]}}function zu(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Fu(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fu(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0===t.length)return;const e=t.map((t=>function(t){if("=="===t.op){if(Ro(t.value))return{unaryFilter:{field:Yu(t.field),op:"IS_NAN"}};if(Mo(t.value))return{unaryFilter:{field:Yu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ro(t.value))return{unaryFilter:{field:Yu(t.field),op:"IS_NOT_NAN"}};if(Mo(t.value))return{unaryFilter:{field:Yu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yu(t.field),op:Ku(t.op),value:t.value}}}(t)));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Yu(t.field),direction:Gu(t.dir)}}(t)))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(t,e){return t.dt||Co(e)?e:{value:e}}(t,e.limit);var a;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function Hu(t){let e=function(t){const e=Ru(t);return 4===e.length?qs.emptyPath():Uu(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Es(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=Wu(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((t=>function(t){return new ia(Xu(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Co(e)?null:e}(n.limit));let u=null;n.startAt&&(u=function(t){const e=!!t.before,n=t.values||[];return new ra(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new ra(n,e)}(n.endAt)),function(t,e,n,r,i,s,o,a){return new ua(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function Wu(t){return t?void 0!==t.unaryFilter?[Ju(t)]:void 0!==t.fieldFilter?[Qu(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((t=>Wu(t))).reduce(((t,e)=>t.concat(e))):_s():[]}function Gu(t){return ku[t]}function Ku(t){return Iu[t]}function Yu(t){return{fieldPath:t.canonicalString()}}function Xu(t){return Hs.fromServerFormat(t.fieldPath)}function Qu(t){return Ko.create(Xu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _s()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ju(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Xu(t.unaryFilter.field);return Ko.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Xu(t.unaryFilter.field);return Ko.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xu(t.unaryFilter.field);return Ko.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xu(t.unaryFilter.field);return Ko.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _s()}}function Zu(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function tc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ec{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const r=this.mutations[e];r.key.isEqual(t.key)&&za(r,t,n[e])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Ha(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Ha(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=fu();return this.mutations.forEach((r=>{const i=t.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=e.has(r.key)?null:o;const a=qa(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Us.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),mu())}isEqual(t){return this.batchId===t.batchId&&Fs(this.mutations,t.mutations,((t,e)=>Ga(t,e)))&&Fs(this.baseMutations,t.baseMutations,((t,e)=>Ga(t,e)))}}class nc{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Es(t.mutations.length===n.length);let r=pu;const i=t.mutations;for(let t=0;t<i.length;t++)r=r.insert(i[t].key,n[t].version);return new nc(t,e,n,r)}}class rc{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ic{constructor(t,e,n,r,i=Us.min(),s=Us.min(),o=ho.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new ic(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new ic(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class sc{constructor(t){this.ne=t}}function oc(t){const e=Hu({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ma(e,e.limit,"L"):e}class ac{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(go(t.integerValue));else if("doubleValue"in t){const n=go(t.doubleValue);isNaN(n)?this.ce(e,13):(this.ce(e,15),_o(n)?e.ae(0):e.ae(n))}else if("timestampValue"in t){const n=t.timestampValue;this.ce(e,20),"string"==typeof n?e.he(n):(e.he(`${n.seconds||""}`),e.ae(n.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(mo(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ce(e,45),e.ae(n.latitude||0),e.ae(n.longitude||0)}else"mapValue"in t?Fo(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):_s()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const n=t.fields||{};this.ce(e,55);for(const t of Object.keys(n))this.le(t,e),this.oe(n[t],e)}me(t,e){const n=t.values||[];this.ce(e,50);for(const t of n)this.oe(t,e)}_e(t,e){this.ce(e,37),Ws.fromName(t).path.forEach((t=>{this.ce(e,60),this.ge(t,e)}))}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}ac.ye=new ac;class uc{constructor(){this.ze=new cc}addToCollectionParentIndex(t,e){return this.ze.add(e),Zs.resolve()}getCollectionParents(t,e){return Zs.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return Zs.resolve()}deleteFieldIndex(t,e){return Zs.resolve()}getDocumentsMatchingTarget(t,e){return Zs.resolve(null)}getIndexType(t,e){return Zs.resolve(0)}getFieldIndexes(t,e){return Zs.resolve([])}getNextCollectionGroupToUpdate(t){return Zs.resolve(null)}getMinOffset(t,e){return Zs.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,e){return Zs.resolve(Ks.min())}updateCollectionGroup(t,e,n){return Zs.resolve()}updateIndexEntries(t,e){return Zs.resolve()}}class cc{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new uo(qs.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new uo(qs.comparator)).toArray()}}new Uint8Array(0);class lc{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new lc(t,lc.DEFAULT_COLLECTION_PERCENTILE,lc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}lc.DEFAULT_COLLECTION_PERCENTILE=10,lc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lc.DEFAULT=new lc(41943040,lc.DEFAULT_COLLECTION_PERCENTILE,lc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lc.DISABLED=new lc(-1,0,0);class hc{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new hc(0)}static Rn(){return new hc(-1)}}class fc{constructor(){this.changes=new su((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,$o.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Zs.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class dc{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class pc{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.getBaseDocument(t,e,n)))).next((t=>(null!==n&&Ha(n.mutation,t,lo.empty(),js.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,mu()).next((()=>e))))}getLocalViewOfDocuments(t,e,n=mu()){const r=hu();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=cu();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=hu();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,mu())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=au();const s=du(),o=du();return e.forEach(((t,e)=>{const o=n.get(e.key);r.has(e.key)&&(void 0===o||o.mutation instanceof Ya)?i=i.insert(e.key,e):void 0!==o&&(s.set(e.key,o.mutation.getFieldMask()),Ha(o.mutation,e,o.mutation.getFieldMask(),js.now()))})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new dc(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=du();let r=new so(((t,e)=>t-e)),i=mu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||lo.empty();o=i.applyToLocalView(s,o),n.set(t,o);const a=(r.get(i.batchId)||mu()).add(t);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,u=r.value,c=fu();u.forEach((t=>{if(!i.has(t)){const r=qa(e.get(t),n.get(t));null!==r&&c.set(t,r),i=i.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return Zs.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n){return function(t){return Ws.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):da(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):Zs.resolve(hu());let o=-1,a=i;return s.next((e=>Zs.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(e)?Zs.resolve():this.getBaseDocument(t,e,n).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,a,e,mu()))).next((t=>({batchId:o,changes:lu(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ws(e)).next((t=>{let e=cu();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n){const r=e.collectionGroup;let i=cu();return this.indexManager.getCollectionParents(t,r).next((s=>Zs.forEach(s,(s=>{const o=function(t,e){return new ua(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(r));return this.getDocumentsMatchingCollectionQuery(t,o,n).next((t=>{t.forEach(((t,e)=>{i=i.insert(t,e)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(t,e,n){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,n).next((i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId)))).next((t=>{t.forEach(((t,e)=>{const n=e.getKey();null===r.get(n)&&(r=r.insert(n,$o.newInvalidDocument(n)))}));let n=cu();return r.forEach(((r,i)=>{const s=t.get(r);void 0!==s&&Ha(s.mutation,i,lo.empty(),js.now()),ba(e,i)&&(n=n.insert(r,i))})),n}))}getBaseDocument(t,e,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(t,e):Zs.resolve($o.newInvalidDocument(e))}}class gc{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return Zs.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:Ou(n.createTime)}),Zs.resolve()}getNamedQuery(t,e){return Zs.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:oc(t.bundledQuery),readTime:Ou(t.readTime)}}(e)),Zs.resolve()}}class mc{constructor(){this.overlays=new so(Ws.comparator),this.Xn=new Map}getOverlay(t,e){return Zs.resolve(this.overlays.get(e))}getOverlays(t,e){const n=hu();return Zs.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.ie(t,e,r)})),Zs.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.Xn.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.Xn.delete(n)),Zs.resolve()}getOverlaysForCollection(t,e,n){const r=hu(),i=e.length+1,s=new Ws(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return Zs.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new so(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=hu(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=hu(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=r)););return Zs.resolve(o)}ie(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new rc(e,n));let i=this.Xn.get(e);void 0===i&&(i=mu(),this.Xn.set(e,i)),this.Xn.set(e,i.add(n.key))}}class yc{constructor(){this.Zn=new uo(wc.ts),this.es=new uo(wc.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const n=new wc(t,e);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.rs(new wc(t,e))}os(t,e){t.forEach((t=>this.removeReference(t,e)))}us(t){const e=new Ws(new qs([])),n=new wc(e,t),r=new wc(e,t+1),i=[];return this.es.forEachInRange([n,r],(t=>{this.rs(t),i.push(t.key)})),i}cs(){this.Zn.forEach((t=>this.rs(t)))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new Ws(new qs([])),n=new wc(e,t),r=new wc(e,t+1);let i=mu();return this.es.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new wc(t,0),n=this.Zn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class wc{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return Ws.comparator(t.key,e.key)||Vs(t.ls,e.ls)}static ns(t,e){return Vs(t.ls,e.ls)||Ws.comparator(t.key,e.key)}}class vc{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new uo(wc.ts)}checkEmpty(t){return Zs.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ec(i,e,n,r);this.mutationQueue.push(s);for(const e of r)this.ds=this.ds.add(new wc(e.key,i)),this.indexManager.addToCollectionParentIndex(t,e.key.path.popLast());return Zs.resolve(s)}lookupMutationBatch(t,e){return Zs.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.ws(n),i=r<0?0:r;return Zs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Zs.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return Zs.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new wc(e,0),r=new wc(e,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(t=>{const e=this._s(t.ls);i.push(e)})),Zs.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new uo(Vs);return e.forEach((t=>{const e=new wc(t,0),r=new wc(t,Number.POSITIVE_INFINITY);this.ds.forEachInRange([e,r],(t=>{n=n.add(t.ls)}))})),Zs.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;Ws.isDocumentKey(i)||(i=i.child(""));const s=new wc(new Ws(i),0);let o=new uo(Vs);return this.ds.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ls)),!0)}),s),Zs.resolve(this.gs(o))}gs(t){const e=[];return t.forEach((t=>{const n=this._s(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Es(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let n=this.ds;return Zs.forEach(e.mutations,(r=>{const i=new wc(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.ds=n}))}In(t){}containsKey(t,e){const n=new wc(e,0),r=this.ds.firstAfterOrEqual(n);return Zs.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Zs.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class bc{constructor(t){this.ps=t,this.docs=new so(Ws.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,s=this.ps(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Zs.resolve(n?n.document.mutableCopy():$o.newInvalidDocument(e))}getEntries(t,e){let n=au();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():$o.newInvalidDocument(t))})),Zs.resolve(n)}getAllFromCollection(t,e,n){let r=au();const i=new Ws(e.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:t,value:{document:i}}=s.getNext();if(!e.isPrefixOf(t.path))break;t.path.length>e.length+1||Ys(Gs(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return Zs.resolve(r)}getAllFromCollectionGroup(t,e,n,r){_s()}Is(t,e){return Zs.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Ac(this)}getSize(t){return Zs.resolve(this.size)}}class Ac extends fc{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(n)})),Zs.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class Cc{constructor(t){this.persistence=t,this.Ts=new su((t=>Ho(t)),Wo),this.lastRemoteSnapshotVersion=Us.min(),this.highestTargetId=0,this.Es=0,this.As=new yc,this.targetCount=0,this.Rs=hc.An()}forEachTarget(t,e){return this.Ts.forEach(((t,n)=>e(n))),Zs.resolve()}getLastRemoteSnapshotVersion(t){return Zs.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Zs.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),Zs.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Es&&(this.Es=e),Zs.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new hc(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,Zs.resolve()}updateTargetData(t,e){return this.vn(e),Zs.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,Zs.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Ts.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Ts.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)})),Zs.waitFor(i).next((()=>r))}getTargetCount(t){return Zs.resolve(this.targetCount)}getTargetData(t,e){const n=this.Ts.get(e)||null;return Zs.resolve(n)}addMatchingKeys(t,e,n){return this.As.ss(e,n),Zs.resolve()}removeMatchingKeys(t,e,n){this.As.os(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),Zs.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),Zs.resolve()}getMatchingKeysForTargetId(t,e){const n=this.As.hs(e);return Zs.resolve(n)}containsKey(t,e){return Zs.resolve(this.As.containsKey(e))}}class _c{constructor(t,e){this.bs={},this.overlays={},this.Ps=new eo(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Cc(this),this.indexManager=new uc,this.remoteDocumentCache=function(t){return new bc(t)}((t=>this.referenceDelegate.Ss(t))),this.wt=new sc(e),this.Ds=new gc(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new mc,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.bs[t.toKey()];return n||(n=new vc(e,this.referenceDelegate),this.bs[t.toKey()]=n),n}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,n){vs("MemoryPersistence","Starting transaction:",t);const r=new Ec(this.Ps.next());return this.referenceDelegate.Cs(),n(r).next((t=>this.referenceDelegate.xs(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Ns(t,e){return Zs.or(Object.values(this.bs).map((n=>()=>n.containsKey(t,e))))}}class Ec extends Qs{constructor(t){super(),this.currentSequenceNumber=t}}class Tc{constructor(t){this.persistence=t,this.ks=new yc,this.Ms=null}static Os(t){return new Tc(t)}get Fs(){if(this.Ms)return this.Ms;throw _s()}addReference(t,e,n){return this.ks.addReference(n,e),this.Fs.delete(n.toString()),Zs.resolve()}removeReference(t,e,n){return this.ks.removeReference(n,e),this.Fs.add(n.toString()),Zs.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),Zs.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach((t=>this.Fs.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Fs.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Cs(){this.Ms=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zs.forEach(this.Fs,(n=>{const r=Ws.fromPath(n);return this.$s(t,r).next((t=>{t||e.removeEntry(r,Us.min())}))})).next((()=>(this.Ms=null,e.apply(t))))}updateLimboDocument(t,e){return this.$s(t,e).next((t=>{t?this.Fs.delete(e.toString()):this.Fs.add(e.toString())}))}Ss(t){return 0}$s(t,e){return Zs.or([()=>Zs.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class xc{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Pi=n,this.vi=r}static Vi(t,e){let n=mu(),r=mu();for(const t of e.docChanges)switch(t.type){case 0:n=n.add(t.doc.key);break;case 1:r=r.add(t.doc.key)}return new xc(t,e.fromCache,n,r)}}class Sc{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,n,r){return this.Ci(t,e).next((i=>i||this.xi(t,e,r,n))).next((n=>n||this.Ni(t,e)))}Ci(t,e){if(la(e))return Zs.resolve(null);let n=ga(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=ma(e,null,"F"),n=ga(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=mu(...r);return this.Di.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.ki(e,r);return this.Mi(e,s,i,n.readTime)?this.Ci(t,ma(e,null,"F")):this.Oi(t,s,e,n)}))))})))))}xi(t,e,n,r){return la(e)||r.isEqual(Us.min())?this.Ni(t,e):this.Di.getDocuments(t,n).next((i=>{const s=this.ki(e,i);return this.Mi(e,s,n,r)?this.Ni(t,e):(ws()<=ct.DEBUG&&vs("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),va(e)),this.Oi(t,s,e,function(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Us.fromTimestamp(1e9===r?new js(n+1,0):new js(n,r));return new Ks(i,Ws.empty(),e)}(r,-1)))}))}ki(t,e){let n=new uo(Aa(t));return e.forEach(((e,r)=>{ba(t,r)&&(n=n.add(r))})),n}Mi(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ni(t,e){return ws()<=ct.DEBUG&&vs("QueryEngine","Using full collection scan to execute query:",va(e)),this.Di.getDocumentsMatchingQuery(t,e,Ks.min())}Oi(t,e,n,r){return this.Di.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class kc{constructor(t,e,n,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new so(Vs),this.Bi=new su((t=>Ho(t)),Wo),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(n)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pc(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.$i)))}}async function Ic(t,e){const n=Ts(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n.qi(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],s=[];let o=mu();for(const t of r){i.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({Ki:t,removedBatchIds:i,addedBatchIds:s})))}))}))}function Dc(t){const e=Ts(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Vs.getLastRemoteSnapshotVersion(t)))}function Nc(t,e){const n=Ts(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}async function Pc(t,e,n){const r=Ts(t),i=r.$i.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!to(t))throw t;vs("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}function Lc(t,e,n){const r=Ts(t);let i=Us.min(),s=mu();return r.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const r=Ts(t),i=r.Bi.get(n);return void 0!==i?Zs.resolve(r.$i.get(i)):r.Vs.getTargetData(e,n)}(r,t,ga(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>r.Fi.getDocumentsMatchingQuery(t,e,n?i:Us.min(),n?s:mu()))).next((t=>(function(t,e,n){let r=Us.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.Li.set(e,r)}(r,function(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),t),{documents:t,ji:s})))))}class Oc{constructor(){this.activeTargetIds=wu()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Mc{constructor(){this.Fr=new Oc,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,n){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new Oc,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Rc{Br(t){}shutdown(){}}class Bc{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){vs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){vs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Vc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Fc{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class jc extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.so=e+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,n,r,i){const s=this.oo(t,e);vs("RestConnection","Sending: ",s,n);const o={};return this.uo(o,r,i),this.co(t,s,o,n).then((t=>(vs("RestConnection","Received: ",t),t)),(e=>{throw As("RestConnection",`${t} failed with error: `,e,"url: ",s,"request:",n),e}))}ao(t,e,n,r,i,s){return this.ro(t,e,n,r,i)}uo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+ms,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}oo(t,e){const n=Vc[t];return`${this.so}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,n,r){return new Promise(((i,s)=>{const o=new ds;o.listenOnce(us.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case as.NO_ERROR:const e=o.getResponseJson();vs("Connection","XHR received:",JSON.stringify(e)),i(e);break;case as.TIMEOUT:vs("Connection",'RPC "'+t+'" timed out'),s(new Ss(xs.DEADLINE_EXCEEDED,"Request time out"));break;case as.HTTP_ERROR:const n=o.getStatus();if(vs("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const t=o.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(xs).indexOf(e)>=0?e:xs.UNKNOWN}(t.status);s(new Ss(e,t.message))}else s(new Ss(xs.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Ss(xs.UNAVAILABLE,"Connection failed."));break;default:_s()}}finally{vs("Connection",'RPC "'+t+'" completed.')}}));const a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))}ho(t,e,n){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=ss(),s=os(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new hs({})),this.uo(o.initMessageHeaders,e,n),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q())||"object"==typeof navigator&&"ReactNative"===navigator.product||Q().indexOf("Electron/")>=0||function(){const t=Q();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Q().indexOf("MSAppHost/")>=0||function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");vs("Connection","Creating WebChannel: "+a,o);const u=i.createWebChannel(a,o);let c=!1,l=!1;const h=new Fc({jr:t=>{l?vs("Connection","Not sending because WebChannel is closed:",t):(c||(vs("Connection","Opening WebChannel transport."),u.open(),c=!0),vs("Connection","WebChannel sending:",t),u.send(t))},Wr:()=>u.close()}),f=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return f(u,fs.EventType.OPEN,(()=>{l||vs("Connection","WebChannel transport opened.")})),f(u,fs.EventType.CLOSE,(()=>{l||(l=!0,vs("Connection","WebChannel transport closed"),h.eo())})),f(u,fs.EventType.ERROR,(t=>{l||(l=!0,As("Connection","WebChannel transport errored:",t),h.eo(new Ss(xs.UNAVAILABLE,"The operation could not be completed")))})),f(u,fs.EventType.MESSAGE,(t=>{var e;if(!l){const n=t.data[0];Es(!!n);const r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){vs("Connection","WebChannel received error:",i);const t=i.status;let e=function(t){const e=nu[t];if(void 0!==e)return iu(e)}(t),n=i.message;void 0===e&&(e=xs.INTERNAL,n="Unknown error status: "+t+" with message "+i.message),l=!0,h.eo(new Ss(e,n)),u.close()}else vs("Connection","WebChannel received:",n),h.no(n)}})),f(s,cs.STAT_EVENT,(t=>{t.stat===ls.PROXY?vs("Connection","Detected buffering proxy"):t.stat===ls.NOPROXY&&vs("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.Zr()}),0),h}}function Uc(){return"undefined"!=typeof document?document:null}function $c(t){return new Du(t,!0)}class qc{constructor(t,e,n=1e3,r=1.5,i=6e4){this.js=t,this.timerId=e,this.lo=n,this.fo=r,this._o=i,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),n=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-n);r>0&&vs("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,(()=>(this.yo=Date.now(),t()))),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class zc{constructor(t,e,n,r,i,s,o,a){this.js=t,this.Ao=n,this.Ro=r,this.bo=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new qc(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(()=>this.Mo())))}Oo(t){this.Fo(),this.stream.send(t)}async Mo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(t,e){this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():e&&e.code===xs.RESOURCE_EXHAUSTED?(bs(e.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):e&&e.code===xs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Jr(e)}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.Po===e&&this.Uo(t,n)}),(e=>{t((()=>{const t=new Ss(xs.UNKNOWN,"Fetching auth token failed: "+e.message);return this.qo(t)}))}))}Uo(t,e){const n=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr((()=>{n((()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,(()=>(this.Co()&&(this.state=3),Promise.resolve()))),this.listener.zr())))})),this.stream.Jr((t=>{n((()=>this.qo(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}xo(){this.state=5,this.So.Io((async()=>{this.state=0,this.start()}))}qo(t){return vs("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget((()=>this.Po===t?e():(vs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hc extends zc{constructor(t,e,n,r,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,s),this.wt=i}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:_s()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.dt?(Es(void 0===e||"string"==typeof e),ho.fromBase64String(e||"")):(Es(void 0===e||e instanceof Uint8Array),ho.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?xs.UNKNOWN:iu(t.code);return new Ss(e,t.message||"")}(o);n=new _u(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vu(t,r.document.name),s=Ou(r.document.updateTime),o=new jo({mapValue:{fields:r.document.fields}}),a=$o.newFoundDocument(i,s,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Au(u,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vu(t,r.document),s=r.readTime?Ou(r.readTime):Us.min(),o=$o.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Au([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vu(t,r.document),s=r.removedTargetIds||[];n=new Au([],s,i,null)}else{if(!("filter"in e))return _s();{e.filter;const t=e.filter;t.targetId;const r=t.count||0,i=new eu(r),s=t.targetId;n=new Cu(s,i)}}return n}(this.wt,t),n=function(t){if(!("targetChange"in t))return Us.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Us.min():e.readTime?Ou(e.readTime):Us.min()}(t);return this.listener.Go(e,n)}Qo(t){const e={};e.database=ju(this.wt),e.addTarget=function(t,e){let n;const r=e.target;return n=Go(r)?{documents:qu(t,r)}:{query:zu(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Pu(t,e.resumeToken):e.snapshotVersion.compareTo(Us.min())>0&&(n.readTime=Nu(t,e.snapshotVersion.toTimestamp())),n}(this.wt,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _s()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,t);n&&(e.labels=n),this.Oo(e)}jo(t){const e={};e.database=ju(this.wt),e.removeTarget=t,this.Oo(e)}}class Wc extends zc{constructor(t,e,n,r,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,s),this.wt=i,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Es(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function(t,e){return t&&t.length>0?(Es(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Ou(t.updateTime):Ou(e);return n.isEqual(Us.min())&&(n=Ou(e)),new Fa(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=Ou(t.commitTime);return this.listener.Jo(n,e)}return Es(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=ju(this.wt),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>function(t,e){let n;if(e instanceof Ka)n={update:$u(t,e.key,e.value)};else if(e instanceof Za)n={delete:Bu(t,e.key)};else if(e instanceof Ya)n={update:$u(t,e.key,e.data),updateMask:Zu(e.fieldMask)};else{if(!(e instanceof tu))return _s();n={verify:Bu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Da)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Na)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof La)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ma)return{fieldPath:e.field.canonicalString(),increment:n._t};throw _s()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Lu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:_s()}(t,e.precondition)),n}(this.wt,t)))};this.Oo(e)}}class Gc extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=n,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Ss(xs.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,n){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.bo.ro(t,e,n,r,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===xs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Ss(xs.UNKNOWN,t.toString())}))}ao(t,e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.bo.ao(t,e,n,i,s,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===xs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Ss(xs.UNKNOWN,t.toString())}))}terminate(){this.Zo=!0}}class Kc{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve()))))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(bs(e),this.su=!1):vs("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Yc{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=i,this.du.Br((t=>{n.enqueueAndForget((async()=>{il(this)&&(vs("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Ts(t);e.lu.add(4),await Qc(e),e._u.set("Unknown"),e.lu.delete(4),await Xc(e)}(this))}))})),this._u=new Kc(n,r)}}async function Xc(t){if(il(t))for(const e of t.fu)await e(!0)}async function Qc(t){for(const e of t.fu)await e(!1)}function Jc(t,e){const n=Ts(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),rl(n)?nl(n):Al(n).Co()&&tl(n,e))}function Zc(t,e){const n=Ts(t),r=Al(n);n.hu.delete(e),r.Co()&&el(n,e),0===n.hu.size&&(r.Co()?r.ko():il(n)&&n._u.set("Unknown"))}function tl(t,e){t.wu.Nt(e.targetId),Al(t).Qo(e)}function el(t,e){t.wu.Nt(e),Al(t).jo(e)}function nl(t){t.wu=new Tu({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),Al(t).start(),t._u.iu()}function rl(t){return il(t)&&!Al(t).Do()&&t.hu.size>0}function il(t){return 0===Ts(t).lu.size}function sl(t){t.wu=void 0}async function ol(t){t.hu.forEach(((e,n)=>{tl(t,e)}))}async function al(t,e){sl(t),rl(t)?(t._u.uu(e),nl(t)):t._u.set("Unknown")}async function ul(t,e,n){if(t._u.set("Online"),e instanceof _u&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.hu.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.hu.delete(r),t.wu.removeTarget(r))}(t,e)}catch(n){vs("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await cl(t,n)}else if(e instanceof Au?t.wu.Ut(e):e instanceof Cu?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(Us.min()))try{const e=await Dc(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.wu.Yt(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.hu.get(r);i&&t.hu.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((e=>{const n=t.hu.get(e);if(!n)return;t.hu.set(e,n.withResumeToken(ho.EMPTY_BYTE_STRING,n.snapshotVersion)),el(t,e);const r=new ic(n.target,e,1,n.sequenceNumber);tl(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){vs("RemoteStore","Failed to raise snapshot:",e),await cl(t,e)}}async function cl(t,e,n){if(!to(e))throw e;t.lu.add(1),await Qc(t),t._u.set("Offline"),n||(n=()=>Dc(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{vs("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await Xc(t)}))}function ll(t,e){return e().catch((n=>cl(t,n,e)))}async function hl(t){const e=Ts(t),n=Cl(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;fl(e);)try{const t=await Nc(e.localStore,r);if(null===t){0===e.au.length&&n.ko();break}r=t.batchId,dl(e,t)}catch(t){await cl(e,t)}pl(e)&&gl(e)}function fl(t){return il(t)&&t.au.length<10}function dl(t,e){t.au.push(e);const n=Cl(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function pl(t){return il(t)&&!Cl(t).Do()&&t.au.length>0}function gl(t){Cl(t).start()}async function ml(t){Cl(t).Xo()}async function yl(t){const e=Cl(t);for(const n of t.au)e.Ho(n.mutations)}async function wl(t,e,n){const r=t.au.shift(),i=nc.from(r,e,n);await ll(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await hl(t)}async function vl(t,e){e&&Cl(t).zo&&await async function(t,e){if(function(t){switch(t){default:return _s();case xs.CANCELLED:case xs.UNKNOWN:case xs.DEADLINE_EXCEEDED:case xs.RESOURCE_EXHAUSTED:case xs.INTERNAL:case xs.UNAVAILABLE:case xs.UNAUTHENTICATED:return!1;case xs.INVALID_ARGUMENT:case xs.NOT_FOUND:case xs.ALREADY_EXISTS:case xs.PERMISSION_DENIED:case xs.FAILED_PRECONDITION:case xs.ABORTED:case xs.OUT_OF_RANGE:case xs.UNIMPLEMENTED:case xs.DATA_LOSS:return!0}}(n=e.code)&&n!==xs.ABORTED){const n=t.au.shift();Cl(t).No(),await ll(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await hl(t)}var n}(t,e),pl(t)&&gl(t)}async function bl(t,e){const n=Ts(t);n.asyncQueue.verifyOperationInProgress(),vs("RemoteStore","RemoteStore received new credentials");const r=il(n);n.lu.add(3),await Qc(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await Xc(n)}function Al(t){return t.mu||(t.mu=function(t,e,n){const r=Ts(t);return r.tu(),new Hc(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(t.datastore,t.asyncQueue,{zr:ol.bind(null,t),Jr:al.bind(null,t),Go:ul.bind(null,t)}),t.fu.push((async e=>{e?(t.mu.No(),rl(t)?nl(t):t._u.set("Unknown")):(await t.mu.stop(),sl(t))}))),t.mu}function Cl(t){return t.gu||(t.gu=function(t,e,n){const r=Ts(t);return r.tu(),new Wc(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(t.datastore,t.asyncQueue,{zr:ml.bind(null,t),Jr:vl.bind(null,t),Yo:yl.bind(null,t),Jo:wl.bind(null,t)}),t.fu.push((async e=>{e?(t.gu.No(),await hl(t)):(await t.gu.stop(),t.au.length>0&&(vs("RemoteStore",`Stopping write stream with ${t.au.length} pending writes`),t.au=[]))}))),t.gu}class _l{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new _l(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ss(xs.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function El(t,e){if(bs("AsyncQueue",`${e}: ${t}`),to(t))return new Ss(xs.UNAVAILABLE,`${e}: ${t}`);throw t}class Tl{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Ws.comparator(e.key,n.key):(t,e)=>Ws.comparator(t.key,e.key),this.keyedMap=cu(),this.sortedSet=new so(this.comparator)}static emptySet(t){return new Tl(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Tl))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Tl;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class xl{constructor(){this.yu=new so(Ws.comparator)}track(t){const e=t.doc.key,n=this.yu.get(e);n?0!==t.type&&3===n.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==n.type?this.yu=this.yu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.yu=this.yu.remove(e):1===t.type&&2===n.type?this.yu=this.yu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):_s():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Sl{constructor(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,r){const i=[];return e.forEach((t=>{i.push({type:0,doc:t})})),new Sl(t,e,Tl.emptySet(e),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ya(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t].type!==n[t].type||!e[t].doc.isEqual(n[t].doc))return!1;return!0}}class kl{constructor(){this.Iu=void 0,this.listeners=[]}}class Il{constructor(){this.queries=new su((t=>wa(t)),ya),this.onlineState="Unknown",this.Tu=new Set}}function Dl(t,e){const n=Ts(t);let r=!1;for(const t of e){const e=t.query,i=n.queries.get(e);if(i){for(const e of i.listeners)e.Au(t)&&(r=!0);i.Iu=t}}r&&Pl(n)}function Nl(t,e,n){const r=Ts(t),i=r.queries.get(e);if(i)for(const t of i.listeners)t.onError(n);r.queries.delete(e)}function Pl(t){t.Tu.forEach((t=>{t.next()}))}class Ll{constructor(t,e,n){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=n||{}}Au(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Sl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return!(this.options.Du&&n||t.docs.isEmpty()&&"Offline"!==e)}vu(t){if(t.docChanges.length>0)return!0;const e=this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}Su(t){t=Sl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class Ol{constructor(t){this.key=t}}class Ml{constructor(t){this.key=t}}class Rl{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=mu(),this.mutatedKeys=mu(),this.Lu=Aa(t),this.Uu=new Tl(this.Lu)}get qu(){return this.Fu}Ku(t,e){const n=e?e.Gu:new xl,r=e?e.Uu:this.Uu;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const c=r.get(t),l=ba(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),f=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let d=!1;c&&l?c.data.isEqual(l.data)?h!==f&&(n.track({type:3,doc:l}),d=!0):this.Qu(c,l)||(n.track({type:2,doc:l}),d=!0,(a&&this.Lu(l,a)>0||u&&this.Lu(l,u)<0)&&(o=!0)):!c&&l?(n.track({type:0,doc:l}),d=!0):c&&!l&&(n.track({type:1,doc:c}),d=!0,(a||u)&&(o=!0)),d&&(l?(s=s.add(l),i=f?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{Uu:s,Gu:n,Mi:o,mutatedKeys:i}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const i=t.Gu.pu();i.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _s()}};return n(t)-n(e)}(t.type,e.type)||this.Lu(t.doc,e.doc))),this.ju(n);const s=e?this.Wu():[],o=0===this.Bu.size&&this.current?1:0,a=o!==this.$u;return this.$u=o,0!==i.length||a?{snapshot:new Sl(this.query,t.Uu,r,i,t.mutatedKeys,0===o,a,!1),zu:s}:{zu:s}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new xl,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach((t=>this.Fu=this.Fu.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.Fu=this.Fu.delete(t))),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=mu(),this.Uu.forEach((t=>{this.Hu(t.key)&&(this.Bu=this.Bu.add(t.key))}));const e=[];return t.forEach((t=>{this.Bu.has(t)||e.push(new Ml(t))})),this.Bu.forEach((n=>{t.has(n)||e.push(new Ol(n))})),e}Ju(t){this.Fu=t.ji,this.Bu=mu();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return Sl.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Bl{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Vl{constructor(t){this.key=t,this.Xu=!1}}class Fl{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Zu={},this.tc=new su((t=>wa(t)),ya),this.ec=new Map,this.nc=new Set,this.sc=new so(Ws.comparator),this.ic=new Map,this.rc=new yc,this.oc={},this.uc=new Map,this.cc=hc.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}async function jl(t,e){const n=function(t){const e=Ts(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$l.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zl.bind(null,e),e.Zu.Go=Dl.bind(null,e.eventManager),e.Zu.lc=Nl.bind(null,e.eventManager),e}(t);let r,i;const s=n.tc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const t=await function(t,e){const n=Ts(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.Vs.getTargetData(t,e).next((i=>i?(r=i,Zs.resolve(r)):n.Vs.allocateTargetId(t).next((i=>(r=new ic(e,i,0,t.currentSequenceNumber),n.Vs.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.$i.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(t.targetId,t),n.Bi.set(e,t.targetId)),t}))}(n.localStore,ga(e));n.isPrimaryClient&&Jc(n.remoteStore,t);const s=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await async function(t,e,n,r){t.hc=(e,n,r)=>async function(t,e,n,r){let i=e.view.Ku(n);i.Mi&&(i=await Lc(t.localStore,e.query,!1).then((({documents:t})=>e.view.Ku(t,i))));const s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s);return Ql(t,e.targetId,o.zu),o.snapshot}(t,e,n,r);const i=await Lc(t.localStore,e,!0),s=new Rl(e,i.ji),o=s.Ku(i.documents),a=bu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);Ql(t,n,u.zu);const c=new Bl(e,n,s);return t.tc.set(e,c),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),u.snapshot}(n,e,r,"current"===s)}return i}async function Ul(t,e){const n=Ts(t),r=n.tc.get(e),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter((t=>!ya(t,e)))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Pc(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Zc(n.remoteStore,r.targetId),Yl(n,r.targetId)})).catch(Js)):(Yl(n,r.targetId),await Pc(n.localStore,r.targetId,!0))}async function $l(t,e){const n=Ts(t);try{const t=await function(t,e){const n=Ts(t),r=e.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const o=[];e.targetChanges.forEach(((s,a)=>{const u=i.get(a);if(!u)return;o.push(n.Vs.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Vs.addMatchingKeys(t,s.addedDocuments,a))));let c=u.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(a)?c=c.withResumeToken(ho.EMPTY_BYTE_STRING,Us.min()).withLastLimboFreeSnapshotVersion(Us.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,s)&&o.push(n.Vs.updateTargetData(t,c))}));let a=au(),u=mu();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push(function(t,e,n){let r=mu(),i=mu();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=au();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Us.min())?(e.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),r=r.insert(n,s)):vs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Gi:r,Qi:i}}))}(t,s,e.documentUpdates).next((t=>{a=t.Gi,u=t.Qi}))),!r.isEqual(Us.min())){const e=n.Vs.getLastRemoteSnapshotVersion(t).next((e=>n.Vs.setTargetsMetadata(t,t.currentSequenceNumber,r)));o.push(e)}return Zs.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,u))).next((()=>a))})).then((t=>(n.$i=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.ic.get(e);r&&(Es(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Xu=!0:t.modifiedDocuments.size>0?Es(r.Xu):t.removedDocuments.size>0&&(Es(r.Xu),r.Xu=!1))})),await th(n,t,e)}catch(t){await Js(t)}}function ql(t,e,n){const r=Ts(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.tc.forEach(((n,r)=>{const i=r.view.Eu(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=Ts(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const t of n.listeners)t.Eu(e)&&(r=!0)})),r&&Pl(n)}(r.eventManager,e),t.length&&r.Zu.Go(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zl(t,e,n){const r=Ts(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ic.get(e),s=i&&i.key;if(s){let t=new so(Ws.comparator);t=t.insert(s,$o.newNoDocument(s,Us.min()));const n=mu().add(s),i=new vu(Us.min(),new Map,new uo(Vs),t,n);await $l(r,i),r.sc=r.sc.remove(s),r.ic.delete(e),Zl(r)}else await Pc(r.localStore,e,!1).then((()=>Yl(r,e,n))).catch(Js)}async function Hl(t,e){const n=Ts(t),r=e.batch.batchId;try{const t=await function(t,e){const n=Ts(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let o=Zs.resolve();return s.forEach((t=>{o=o.next((()=>r.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);Es(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=mu();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(n.localStore,e);Kl(n,r,null),Gl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await th(n,t)}catch(t){await Js(t)}}async function Wl(t,e,n){const r=Ts(t);try{const t=await function(t,e){const n=Ts(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(Es(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);Kl(r,e,n),Gl(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await th(r,t)}catch(n){await Js(n)}}function Gl(t,e){(t.uc.get(e)||[]).forEach((t=>{t.resolve()})),t.uc.delete(e)}function Kl(t,e,n){const r=Ts(t);let i=r.oc[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function Yl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ec.get(e))t.tc.delete(r),n&&t.Zu.lc(r,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach((e=>{t.rc.containsKey(e)||Xl(t,e)}))}function Xl(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);null!==n&&(Zc(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),Zl(t))}function Ql(t,e,n){for(const r of n)r instanceof Ol?(t.rc.addReference(r.key,e),Jl(t,r)):r instanceof Ml?(vs("SyncEngine","Document no longer in limbo: "+r.key),t.rc.removeReference(r.key,e),t.rc.containsKey(r.key)||Xl(t,r.key)):_s()}function Jl(t,e){const n=e.key,r=n.path.canonicalString();t.sc.get(n)||t.nc.has(r)||(vs("SyncEngine","New document in limbo: "+n),t.nc.add(r),Zl(t))}function Zl(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new Ws(qs.fromString(e)),r=t.cc.next();t.ic.set(r,new Vl(n)),t.sc=t.sc.insert(n,r),Jc(t.remoteStore,new ic(ga(ca(n.path)),r,2,eo.ot))}}async function th(t,e,n){const r=Ts(t),i=[],s=[],o=[];r.tc.isEmpty()||(r.tc.forEach(((t,a)=>{o.push(r.hc(a,e,n).then((t=>{if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);const e=xc.Vi(a.targetId,t);s.push(e)}})))})),await Promise.all(o),r.Zu.Go(i),await async function(t,e){const n=Ts(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>Zs.forEach(e,(e=>Zs.forEach(e.Pi,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>Zs.forEach(e.vi,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!to(t))throw t;vs("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=n.$i.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.$i=n.$i.insert(e,i)}}}(r.localStore,s))}async function eh(t,e){const n=Ts(t);if(!n.currentUser.isEqual(e)){vs("SyncEngine","User change. New user:",e.toKey());const t=await Ic(n.localStore,e);n.currentUser=e,function(t,e){t.uc.forEach((t=>{t.forEach((t=>{t.reject(new Ss(xs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.uc.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await th(n,t.Ki)}}function nh(t,e){const n=Ts(t),r=n.ic.get(e);if(r&&r.Xu)return mu().add(r.key);{let t=mu();const r=n.ec.get(e);if(!r)return t;for(const e of r){const r=n.tc.get(e);t=t.unionWith(r.view.qu)}return t}}function rh(t){const e=Ts(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wl.bind(null,e),e}class ih{constructor(){this.synchronizeTabs=!1}async initialize(t){this.wt=$c(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),await this.persistence.start(),this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore)}mc(t,e){return null}gc(t,e){return null}wc(t){return function(t,e,n,r){return new kc(t,e,n,r)}(this.persistence,new Sc,t.initialUser,this.wt)}_c(t){return new _c(Tc.Os,this.wt)}dc(t){return new Mc}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sh{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>ql(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=eh.bind(null,this.syncEngine),await async function(t,e){const n=Ts(t);e?(n.lu.delete(2),await Xc(n)):e||(n.lu.add(2),await Qc(n),n._u.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Il}createDatastore(t){const e=$c(t.databaseInfo.databaseId),n=(r=t.databaseInfo,new jc(r));var r;return function(t,e,n,r){return new Gc(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>ql(this.syncEngine,t,0),s=Bc.V()?new Bc:new Rc,new Yc(e,n,r,i,s);var e,n,r,i,s}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new Fl(t,e,n,r,i,s);return o&&(a.ac=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=Ts(t);vs("RemoteStore","RemoteStore shutting down."),e.lu.add(5),await Qc(e),e.du.shutdown(),e._u.set("Unknown")}(this.remoteStore)}}class oh{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):bs("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class ah{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=gs.UNAUTHENTICATED,this.clientId=Bs.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{vs("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(vs("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ss(xs.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=El(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function uh(t,e){t.asyncQueue.verifyOperationInProgress();const n=await async function(t){return t.offlineComponents||(vs("FirestoreClient","Using default OfflineComponentProvider"),await async function(t,e){t.asyncQueue.verifyOperationInProgress(),vs("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await Ic(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}(t,new ih)),t.offlineComponents}(t);vs("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener((t=>bl(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>bl(e.remoteStore,n))),t.onlineComponents=e}async function ch(t){return t.onlineComponents||(vs("FirestoreClient","Using default OnlineComponentProvider"),await uh(t,new sh)),t.onlineComponents}async function lh(t){const e=await ch(t),n=e.eventManager;return n.onListen=jl.bind(null,e.syncEngine),n.onUnlisten=Ul.bind(null,e.syncEngine),n}function hh(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const s=new oh({next:n=>{e.enqueueAndForget((()=>async function(t,e){const n=Ts(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}(t,o))),n.fromCache&&"server"===r.source?i.reject(new Ss(xs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),o=new Ll(n,s,{includeMetadataChanges:!0,Du:!0});return async function(t,e){const n=Ts(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new kl),i)try{s.Iu=await n.onListen(r)}catch(t){const n=El(t,`Initialization of query '${va(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,s),s.listeners.push(e),e.Eu(n.onlineState),s.Iu&&e.Au(s.Iu)&&Pl(n)}(t,o)}(await lh(t),t.asyncQueue,e,n,r))),r.promise}const fh=new Map;function dh(t,e,n){if(!n)throw new Ss(xs.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ph(t){if(!Ws.isDocumentKey(t))throw new Ss(xs.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gh(t){if(Ws.isDocumentKey(t))throw new Ss(xs.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":_s()}function yh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ss(xs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mh(t);throw new Ss(xs.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class wh{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ss(xs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ss(xs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new Ss(xs.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vh{constructor(t,e,n){this._authCredentials=e,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wh({}),this._settingsFrozen=!1,t instanceof Ao?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ss(xs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ao(t.options.projectId)}(t))}get app(){if(!this._app)throw new Ss(xs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ss(xs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wh(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Ds;switch(t.type){case"gapi":const e=t.client;return Es(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ls(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ss(xs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=fh.get(t);e&&(vs("ComponentProvider","Removing Datastore"),fh.delete(t),e.terminate())}(this),Promise.resolve()}}class bh{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ch(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bh(this.firestore,t,this._key)}}class Ah{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Ah(this.firestore,t,this._query)}}class Ch extends Ah{constructor(t,e,n){super(t,e,ca(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bh(this.firestore,null,new Ws(t))}withConverter(t){return new Ch(this.firestore,t,this._path)}}function _h(t,e,...n){if(t=rt(t),1===arguments.length&&(e=Bs.I()),dh("doc","path",e),t instanceof vh){const r=qs.fromString(e,...n);return ph(r),new bh(t,null,new Ws(r))}{if(!(t instanceof bh||t instanceof Ch))throw new Ss(xs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qs.fromString(e,...n));return ph(r),new bh(t.firestore,t instanceof Ch?t.converter:null,new Ws(r))}}class Eh{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new qc(this,"async_queue_retry"),this.Kc=()=>{const t=Uc();t&&vs("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const t=Uc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=Uc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise((()=>{}));const e=new ks;return this.Qc((()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Oc.push(t),this.jc())))}async jc(){if(0!==this.Oc.length){try{await this.Oc[0](),this.Oc.shift(),this.So.reset()}catch(t){if(!to(t))throw t;vs("AsyncQueue","Operation failed with retryable error: "+t)}this.Oc.length>0&&this.So.Io((()=>this.jc()))}}Qc(t){const e=this.Mc.then((()=>(this.Lc=!0,t().catch((t=>{this.Bc=t,this.Lc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw bs("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Lc=!1,t))))));return this.Mc=e,e}enqueueAfterDelay(t,e,n){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=_l.createAndSchedule(this,t,e,n,(t=>this.Wc(t)));return this.$c.push(r),r}Gc(){this.Bc&&_s()}verifyOperationInProgress(){}async zc(){let t;do{t=this.Mc,await t}while(t!==this.Mc)}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then((()=>{this.$c.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()}))}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}class Th extends vh{constructor(t,e,n){super(t,e,n),this.type="firestore",this._queue=new Eh,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Sh(this),this._firestoreClient.terminate()}}function xh(t){return t._firestoreClient||Sh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Sh(t){var e;const n=t._freezeSettings(),r=function(t,e,n,r){return new bo(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ah(t._authCredentials,t._appCheckCredentials,t._queue,r)}class kh{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ss(xs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ih{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ih(ho.fromBase64String(t))}catch(t){throw new Ss(xs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Ih(ho.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Dh{constructor(t){this._methodName=t}}class Nh{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ss(xs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ss(xs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vs(this._lat,t._lat)||Vs(this._long,t._long)}}const Ph=/^__.*__$/;class Lh{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Ya(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ka(t,this.data,e,this.fieldTransforms)}}function Oh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _s()}}class Mh{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.wt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new Mh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:n,na:!1});return r.sa(t),r}ia(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:n,na:!1});return r.Xc(),r}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return Gh(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(Oh(this.Zc)&&Ph.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class Rh{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=n||$c(t)}aa(t,e,n,r=!1){return new Mh({Zc:t,methodName:e,ca:n,path:Hs.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Bh(t){const e=t._freezeSettings(),n=$c(t._databaseId);return new Rh(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vh(t,e,n,r,i,s={}){const o=t.aa(s.merge||s.mergeFields?2:0,e,n,i);qh("Data must be an object, but it was:",o,r);const a=Uh(r,o);let u,c;if(s.merge)u=new lo(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=zh(e,r,n);if(!o.contains(i))throw new Ss(xs.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Kh(t,i)||t.push(i)}u=new lo(t),c=o.fieldTransforms.filter((t=>u.covers(t.field)))}else u=null,c=o.fieldTransforms;return new Lh(new jo(a),u,c)}class Fh extends Dh{_toFieldTransform(t){return new Va(t.path,new Da)}isEqual(t){return t instanceof Fh}}function jh(t,e){if($h(t=rt(t)))return qh("Unsupported field value:",e,t),Uh(t,e);if(t instanceof Dh)return function(t,e){if(!Oh(e.Zc))throw e.oa(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.oa(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=jh(i,e.ra(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=rt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ta(e.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=js.fromDate(t);return{timestampValue:Nu(e.wt,n)}}if(t instanceof js){const n=new js(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Nu(e.wt,n)}}if(t instanceof Nh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ih)return{bytesValue:Pu(e.wt,t._byteString)};if(t instanceof bh){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.oa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Mu(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.oa(`Unsupported field value: ${mh(t)}`)}(t,e)}function Uh(t,e){const n={};return io(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(t,((t,r)=>{const i=jh(r,e.ea(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function $h(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof js||t instanceof Nh||t instanceof Ih||t instanceof bh||t instanceof Dh)}function qh(t,e,n){if(!$h(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=mh(n);throw"an object"===r?e.oa(t+" a custom object"):e.oa(t+" "+r)}}function zh(t,e,n){if((e=rt(e))instanceof kh)return e._internalPath;if("string"==typeof e)return Wh(t,e);throw Gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hh=new RegExp("[~\\*/\\[\\]]");function Wh(t,e,n){if(e.search(Hh)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kh(...e.split("."))._internalPath}catch(r){throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Ss(xs.INVALID_ARGUMENT,a+t+u)}function Kh(t,e){return t.some((t=>t.isEqual(e)))}class Yh{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Qh("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Xh extends Yh{data(){return super.data()}}function Qh(t,e){return"string"==typeof e?Wh(t,e):e instanceof kh?e._internalPath:e._delegate._internalPath}class Jh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zh extends Yh{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Qh("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class tf extends Zh{data(t={}){return super.data(t)}}class ef{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Jh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new tf(this._firestore,this._userDataWriter,n.key,n,new Jh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ss(xs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>({type:"added",doc:new tf(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Jh(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++})))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new tf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Jh(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:nf(e.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function nf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _s()}}class rf{}class sf extends rf{constructor(t,e,n){super(),this.fa=t,this.da=e,this._a=n,this.type="where"}_apply(t){const e=Bh(t.firestore),n=function(t,e,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ss(xs.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){cf(o,s);const e=[];for(const n of o)e.push(uf(r,t,n));a={arrayValue:{values:e}}}else a=uf(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||cf(o,s),a=function(t,e,n,r=!1){return jh(n,t.aa(r?4:3,e))}(n,"where",o,"in"===s||"not-in"===s);const u=Ko.create(i,s,a);return function(t,e){if(e.ht()){const n=fa(t);if(null!==n&&!n.isEqual(e.field))throw new Ss(xs.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);const r=ha(t);null!==r&&lf(0,e.field,r)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new Ss(xs.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ss(xs.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}(t,u),u}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new Ah(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}class of extends rf{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new Ss(xs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ss(xs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new ia(e,n);return function(t,e){if(null===ha(t)){const n=fa(t);null!==n&&lf(0,n,e.field)}}(t,r),r}(t._query,this.fa,this.wa);return new Ah(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new ua(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}class af extends rf{constructor(t,e,n){super(),this.type=t,this.ma=e,this.ga=n}_apply(t){return new Ah(t.firestore,t.converter,ma(t._query,this.ma,this.ga))}}function uf(t,e,n){if("string"==typeof(n=rt(n))){if(""===n)throw new Ss(xs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!da(e)&&-1!==n.indexOf("/"))throw new Ss(xs.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qs.fromString(n));if(!Ws.isDocumentKey(r))throw new Ss(xs.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Po(t,new Ws(r))}if(n instanceof bh)return Po(t,n._key);throw new Ss(xs.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(n)}.`)}function cf(t,e){if(!Array.isArray(t)||0===t.length)throw new Ss(xs.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new Ss(xs.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function lf(t,e,n){if(!n.isEqual(e))throw new Ss(xs.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class hf{convertValue(t,e="none"){switch(To(t)){case 0:return null;case 1:return t.booleanValue;case 2:return go(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(mo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw _s()}}convertObject(t,e){const n={};return ro(t.fields,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new Nh(go(t.latitude),go(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=wo(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(vo(t));default:return null}}convertTimestamp(t){const e=po(t);return new js(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=qs.fromString(t);Es(tc(n));const r=new Ao(n.get(1),n.get(3)),i=new Ws(n.popFirst(5));return r.isEqual(e)||bs(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}class ff extends hf{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ih(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bh(this.firestore,null,e)}}function df(t,e){return function(t,e){const n=new ks;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=rh(t);try{const t=await function(t,e){const n=Ts(t),r=js.now(),i=e.reduce(((t,e)=>t.add(e.key)),mu());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=au(),u=mu();return n.Ui.getEntries(t,i).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(u=u.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((i=>{s=i;const o=[];for(const t of e){const e=Wa(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new Ya(t.key,e,Uo(e.value.mapValue),ja.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,o,e)})).next((e=>{o=e;const r=e.applyToLocalDocumentSet(s,u);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:lu(s)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.oc[t.currentUser.toKey()];r||(r=new so(Vs)),r=r.insert(e,n),t.oc[t.currentUser.toKey()]=r}(r,t.batchId,n),await th(r,t.changes),await hl(r.remoteStore)}catch(t){const e=El(t,"Failed to persist write");n.reject(e)}}(await function(t){return ch(t).then((t=>t.syncEngine))}(t),e,n))),n.promise}(xh(t),e)}!function(t,e=!0){ms="9.9.2",Ut(new it("firestore",((t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=new Th(r,new Ns(t.getProvider("auth-internal")),new Ms(t.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:e},n),i._setSettings(n),i}),"PUBLIC")),zt(ps,"3.4.14",t),zt(ps,"3.4.14","esm2017")}();var pf=n(465),gf=n.n(pf),mf=function(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))};const yf=new class{constructor(){!function(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw $t.create("bad-app-name",{appName:String(r)});const i=Vt.get(r);if(i){if(et(t,i.options)&&et(n,i.config))return i;throw $t.create("duplicate-app",{appName:r})}const s=new at(r);for(const t of Ft.values())s.addComponent(t);const o=new qt(t,n,s);Vt.set(r,o)}({apiKey:"AIzaSyDDOpqVOYyNZg1jfpVlHkmOTdB26C2o6Bg",authDomain:"tetris-42db2.firebaseapp.com",projectId:"tetris-42db2",storageBucket:"tetris-42db2.appspot.com",messagingSenderId:"946992964471",appId:"1:946992964471:web:ee59687f2f59c52ca0f772",measurementId:"G-CMS24Y7R0P"}),this.db=function(t=function(t=Rt){const e=Vt.get(t);if(!e)throw $t.create("no-app",{appName:t});return e}()){return function(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}(t,"firestore").getImmediate()}(),this.colRef=function(t,e,...n){if(t=rt(t),dh("collection","path",e),t instanceof vh){const r=qs.fromString(e,...n);return gh(r),new Ch(t,null,r)}{if(!(t instanceof bh||t instanceof Ch))throw new Ss(xs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qs.fromString(e,...n));return gh(r),new Ch(t.firestore,null,r)}}(this.db,"highscores")}fetchHighScores(){return mf(this,void 0,void 0,(function*(){try{const t=function(t,...e){for(const n of e)t=n._apply(t);return t}(this.colRef,function(t,e,n){const r=Qh("where","score");return new sf(r,">",0)}(),function(t,e="asc"){const n=e,r=Qh("orderBy","score");return new of(r,n)}(0,"desc"),(function(t,e){if(e<=0)throw new Ss(xs.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",10),new af("limit",10,"F"))),e=yield function(t){t=yh(t,Ah);const e=yh(t.firestore,Th),n=xh(e),r=new ff(e);return function(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Ss(xs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),hh(n,t._query).then((n=>new ef(e,r,t,n)))}(t),n=e.docs.map((t=>{const e=t.data(),{id:n}=t,{name:r,score:i,createdAt:s}=e;let o="..";return s instanceof js&&(o=function(t,e){return S(1,arguments),W(t,Date.now(),e)}(s.toDate(),{addSuffix:!0})),{id:n,name:r,score:i,createdAt:o}}));return n}catch(t){throw t instanceof Error&&gf().fire({title:"Error getting highscores",text:t.message,icon:"error",confirmButtonText:"Cool"}),t}}))}storeHighScore(t,e){return mf(this,void 0,void 0,(function*(){try{const n={name:t,score:e,createdAt:new Fh("serverTimestamp")};yield function(t,e){const n=yh(t.firestore,Th),r=_h(t),i=function(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return df(n,[Vh(Bh(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ja.exists(!1))]).then((()=>r))}(this.colRef,n);const r=yield this.fetchHighScores();if(r.length>=10){const t=r[r.length-1],e=_h(this.db,"highscores",t.id);yield function(t){return df(yh(t.firestore,Th),[new Za(t._key,ja.none())])}(e)}}catch(t){throw t instanceof Error&&gf().fire({title:"Error saving highscore",text:t.message,icon:"error",confirmButtonText:"Cool"}),t}}))}};const wf=t=>function(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}(void 0,void 0,void 0,(function*(){const e=yield yf.fetchHighScores(),n=g("#scores-list",t);n.innerHTML="",e.forEach(((t,e)=>{const r=m("li");r.innerHTML=`\n      <span class="${E.small}">${e+1}.</span> \n      ${t.name}: <span class="${E.score}">${t.score}</span>\n      <span class="${E.date}">${t.createdAt}</span>\n    `,n.appendChild(r)}))}));var vf=n(753),bf={};bf.styleTagTransform=f(),bf.setAttributes=u(),bf.insert=o().bind(null,"head"),bf.domAPI=i(),bf.insertStyleElement=l(),e()(vf.A,bf);const Af=vf.A&&vf.A.locals?vf.A.locals:void 0,Cf=(t,e="Paused",n="Resume")=>{const r=g("#menu"),i=g("#heading",r),s=g("#start",r),o=g("#play",r);t?(i.innerText=e,o.innerText=n,r.style.display="block",o.style.display="block",s.style.display="none"):r.style.display="none"};var _f=n(543);const Ef=["O","I","S","Z","L","J","T"],Tf=["purple","yellow","orange","blue","cyan","green","red"];class xf{constructor(){this.matrix=[],this.pieceType=null}updatePiece(t){this.matrix=t.matrix,this.pieceType=t.pieceType}static createRandomPiece(){(0,_f.shuffle)(Ef);const t=(0,_f.random)(0,Ef.length-1,!1),e=new xf;return e.pieceType=Ef[t],e.matrix=y(e.pieceType),e}}const Sf=xf,kf=class extends Sf{constructor(t){super(),this.stack=t,this.offsetY=0,this.offsetX=4,this.updatePiece(Sf.createRandomPiece())}hardDrop(t){return this.offsetY=t,!0}softDrop(){return this.offsetY+=1,!!this.stack.stackCollision(this.matrix,this.offsetY,this.offsetX)&&(this.offsetY-=1,!0)}goRight(){this.offsetX+=1,(this.rightWallCollision()||this.stack.stackCollision(this.matrix,this.offsetY,this.offsetX))&&(this.offsetX-=1)}goLeft(){this.offsetX-=1,(this.leftWallCollision()||this.stack.stackCollision(this.matrix,this.offsetY,this.offsetX))&&(this.offsetX+=1)}rotateRight(){const t=[];for(let e=0;e<this.matrix.length;e+=1)t[e]=[...this.matrix[e]];const e=this.matrix.length-1,n=this.matrix[0].length-1;for(let r=0;r<=e;r+=1)for(let i=0;i<=n;i+=1)this.matrix[i][e-r]=t[r][i];for(;this.leftWallCollision();)this.offsetX+=1;for(;this.rightWallCollision();)this.offsetX-=1;if(this.stack.stackCollision(this.matrix,this.offsetY,this.offsetX))for(let e=0;e<this.matrix.length;e+=1)this.matrix[e]=[...t[e]]}leftWallCollision(){for(let t=0;t<this.matrix.length;t+=1)for(let e=0;e<this.matrix[t].length;e+=1)if(0!==this.matrix[t][e]&&this.offsetX+e<0)return!0;return!1}rightWallCollision(){for(let t=0;t<this.matrix.length;t+=1)for(let e=0;e<this.matrix[t].length;e+=1)if(0!==this.matrix[t][e]&&this.offsetX+e>=this.stack.matrix[0].length)return!0;return!1}updatePiece(t){super.updatePiece(t),this.offsetY=0,this.offsetX=4}},If=class{constructor(){this.createMatrix=(t,e)=>{this.matrix=Array.from({length:t},(()=>new Array(e).fill(0)))},this.matrix=[[]],this.createMatrix(20,10)}emptyStack(){this.matrix.forEach((t=>t.fill(0)))}removeLines(){let t=0,e=!0,n=this.matrix.length-1;for(;n>=0;){for(let t=0;t<this.matrix[n].length;t+=1)0===this.matrix[n][t]&&(e=!1);if(!0===e){t+=1;for(let t=n;t>0;t-=1)this.matrix[t]=[...this.matrix[t-1]]}else n-=1,e=!0}return t}stackCollision(t,e,n){for(let r=0;r<t.length;r+=1)for(let i=0;i<t[r].length;i+=1)if(0!==t[r][i]){const t=n+i,s=e+r;if(s>=this.matrix.length)return!0;if(0!==this.matrix[s][t])return!0}return!1}merge(t,e,n){for(let r=0;r<t.length;r+=1)for(let i=0;i<t[r].length;i+=1)r+e<this.matrix.length&&0!==t[r][i]&&(this.matrix[r+e][i+n]=t[r][i])}},Df=class extends Sf{constructor(t){super(),this.stack=t,this.offsetY=0,this.offsetX=4}drop(t){for(this.matrix=t.matrix,this.offsetX=t.offsetX,this.offsetY=t.offsetY;!this.stack.stackCollision(this.matrix,this.offsetY,this.offsetX);)this.offsetY+=1;this.offsetY-=1}};document.body.appendChild(m("div",{id:"root"}));const Nf=g("#root");Nf.appendChild((()=>{const t=m("div",{className:A.container});return t.innerHTML=`\n\t\t\t<div class="${A.side}">\n\t\t\t\t<div>\n\t\t\t\t\t<h2>Hold</h2>\n\t\t\t\t\t<canvas id="hold" class="${A.hold}" width="140" height="140"></canvas>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h2>Score</h2>\n\t\t\t\t\t<p id="score">0</p>\n\t\t\t\t</div>\n\t\t\t</div>  \n\n\t\t\t<div class="center">\n\t\t\t\t<canvas id="tetris" class="${A.tetris}" width="200" height="400"></canvas>\n\t\t\t</div>\n\n\t\t\t<div class="${A.side}">\n\t\t\t\t<div>\n\t\t\t\t\t<h2>Next</h2>\n\t\t\t\t\t<canvas id="next" width="140" height="140"></canvas>\n\t\t\t\t</div>\n\t\t\t\t<div style="align-self: flex-end;">\n\t\t\t\t\t<svg id="pause" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n\t\t\t\t\t\t<path d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM224 191.1v128C224 337.7 209.7 352 192 352S160 337.7 160 320V191.1C160 174.3 174.3 160 191.1 160S224 174.3 224 191.1zM352 191.1v128C352 337.7 337.7 352 320 352S288 337.7 288 320V191.1C288 174.3 302.3 160 319.1 160S352 174.3 352 191.1z"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`,t})()),Nf.appendChild((()=>{const t=m("div",{className:E.highscores});return t.innerHTML=`\n\t\t\t<div class="${E.highscores}">\n\t\t\t\t<h3>Top Scorers</h3>\n\t\t\t\t<ul id="scores-list"></ul>\n\t\t\t</div>\n\t\t`,wf(t),t})()),Nf.appendChild((()=>{const t=m("div",{className:Af.menu,id:"menu"});return t.innerHTML=`\n\t\t\t<div class="${Af.content}">\n\t\t\t\t<h2 id="heading">Play Game</h2>\n\t\t\t\t<p id="message" class="${Af.message}"></p>\n\t\t\t\t<input\n\t\t\t\t\ttype="text"\n\t\t\t\t\tname="name"\n\t\t\t\t\tid="name"\n\t\t\t\t\tclass="${Af.name}"\n\t\t\t\t\tplaceholder="Enter Your Name"\n\t\t\t\t/>\n\t\t\t\t<button id="submitScore">Submit</button>\n\t\t\t\t<button id="start" style="display: block;">Start Game</button>\n\t\t\t\t<button id="play">Resume</button>\n\t\t\t\t<button id="restart">Restart</button>\n\t\t\t</div>\n\t\t`,t})());const Pf=new class{constructor(){this.canvas=g("#tetris"),this.ctx=this.canvas.getContext("2d"),this.waitingPieceCanvas=g("#next"),this.waitingPieceCtx=this.waitingPieceCanvas.getContext("2d"),this.holdPieceCanvas=g("#hold"),this.holdPieceCtx=this.holdPieceCanvas.getContext("2d"),this.canHold=!0,this.isGamePaused=!1,this.ctx.scale(20,20),this.waitingPieceCtx.scale(20,20),this.holdPieceCtx.scale(20,20),this.score=0,this.stack=new If,this.activePiece=new kf(this.stack),this.waitingPiece=Sf.createRandomPiece(),this.shadowPiece=new Df(this.stack),this.holdPiece=null,this.lastTime=0,this.loopCounter=0,this.dropInterval=1e3,this.setEvents()}animate(t=0){if(!0===this.isGamePaused)return;const e=t-this.lastTime;this.lastTime=t,this.loopCounter+=e,this.loopCounter>this.dropInterval&&this.dropHandler(),this.draw(),requestAnimationFrame(this.animate.bind(this))}dropHandler(){this.activePiece.softDrop()&&(this.stack.merge(this.activePiece.matrix,this.activePiece.offsetY,this.activePiece.offsetX),this.activePiece.updatePiece(this.waitingPiece),this.waitingPiece=Sf.createRandomPiece(),this.updateScore(this.stack.removeLines()),this.stack.stackCollision(this.activePiece.matrix,this.activePiece.offsetY,this.activePiece.offsetX)&&this.gameover(),this.canHold=!0),this.shadowPiece.drop(this.activePiece),this.loopCounter=0}draw(){this.waitingPieceCtx.fillStyle="#000",this.waitingPieceCtx.fillRect(0,0,this.waitingPieceCanvas.width,this.waitingPieceCanvas.height);const t=y(this.waitingPiece.pieceType);if(w(t,((t,e)=>{this.waitingPieceCtx.fillStyle=Tf[this.waitingPiece.matrix[t][e]-1],this.waitingPieceCtx.fillRect(e+2.5,t+2,1,1),this.waitingPieceCtx.lineWidth=.1,this.waitingPieceCtx.strokeStyle="black",this.waitingPieceCtx.strokeRect(e+2.5,t+2,1,1)})),this.holdPieceCtx.fillStyle="#000",this.holdPieceCtx.fillRect(0,0,this.holdPieceCanvas.width,this.holdPieceCanvas.height),this.holdPiece){const t=y(this.holdPiece.pieceType);w(t,((e,n)=>{this.holdPieceCtx.fillStyle=Tf[t[e][n]-1],this.holdPieceCtx.fillRect(n+2.5,e+2,1,1),this.holdPieceCtx.lineWidth=.1,this.holdPieceCtx.strokeStyle="black",this.holdPieceCtx.strokeRect(n+2.5,e+2,1,1)}))}this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),w(this.shadowPiece.matrix,((t,e)=>{const{offsetY:n,offsetX:r}=this.shadowPiece;this.ctx.clearRect(e+r,t+n,1,1),this.ctx.rect(e+r,t+n,1,1)})),w(this.stack.matrix,((t,e)=>{const{matrix:n}=this.stack;this.ctx.fillStyle=Tf[n[t][e]-1],this.ctx.fillRect(e,t,1,1),this.ctx.lineWidth=.1,this.ctx.strokeStyle="black",this.ctx.strokeRect(e,t,1,1)})),w(this.activePiece.matrix,((t,e)=>{const{matrix:n,offsetY:r,offsetX:i}=this.activePiece;this.ctx.fillStyle=Tf[n[t][e]-1],this.ctx.fillRect(e+i,t+r,1,1),this.ctx.lineWidth=.1,this.ctx.strokeStyle="black",this.ctx.strokeRect(e+i,t+r,1,1)}))}setEvents(){document.addEventListener("visibilitychange",(()=>{document.hidden&&(this.toggleGamePause(),Cf(this.isGamePaused))})),document.addEventListener("keydown",(t=>{if(!0!==this.isGamePaused||"Escape"===t.key){if("Escape"===t.key)this.toggleGamePause(),Cf(this.isGamePaused);else if("ArrowDown"===t.key)this.dropHandler();else if("ArrowLeft"===t.key)this.activePiece.goLeft();else if("ArrowRight"===t.key)this.activePiece.goRight();else if("ArrowUp"===t.key)this.activePiece.rotateRight();else if(" "===t.key)this.activePiece.hardDrop(this.shadowPiece.offsetY),this.dropHandler();else if("Shift"===t.key){if(null===this.holdPiece)this.holdPiece=new Sf,this.holdPiece.updatePiece(this.activePiece),this.activePiece.updatePiece(this.waitingPiece),this.waitingPiece=Sf.createRandomPiece();else if(this.canHold){const t=(0,_f.cloneDeep)(this.holdPiece);this.holdPiece.updatePiece(this.activePiece),this.activePiece.updatePiece(t)}this.canHold=!1}this.shadowPiece.drop(this.activePiece)}}));const t=g("#play"),e=g("#pause"),n=g("#submitScore"),r=g("#restart");t.addEventListener("click",(()=>{this.toggleGamePause(),Cf(this.isGamePaused)})),e.addEventListener("click",(()=>{this.toggleGamePause(),Cf(this.isGamePaused)})),n.addEventListener("click",(()=>{(t=>{const e=g("#menu"),n=g("#message",e),r=g("#name",e),i=g("#submitScore",e);n.style.color="red",""!==r.value?r.value.length<=3?n.innerText="name too small":r.value.length>10?n.innerText="name too big":(n.style.color="white",n.style.display="none",yf.storeHighScore(r.value,t),wf(),r.style.display="none",i.style.display="none"):n.innerText="name input empty"})(this.score)})),r.addEventListener("click",(()=>{this.stack.emptyStack(),this.updateScore(-1),this.toggleGamePause(),this.holdPiece=null,g("#menu").style.display="none"}))}toggleGamePause(){this.isGamePaused=!this.isGamePaused,!1===this.isGamePaused&&this.animate()}updateScore(t){-1!==t?(this.score+=t,g("#score").innerText=this.score.toString()):this.score=0}gameover(){return function(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function*(){this.toggleGamePause();let t="Game Over",e=!1;const n=`You Scored ${this.score}`,r=yield yf.fetchHighScores();0===r.length||this.score>r[r.length-1].score?(t="Congrats! New HighScore",e=!0):this.updateScore(-1),((t,e,n)=>{const r=g("#menu"),i=g("#start",r),s=g("#play",r),o=g("#restart",r),a=g("#heading",r),u=g("#message",r),c=g("#name",r),l=g("#submitScore",r);r.style.display="block",a.innerText=e,i.style.display="none",o.style.display="block",o.innerText="Play Again",s.style.display="none",u.style.display="block",u.innerText=n,t?(c.style.display="block",l.style.display="block"):(c.style.display="none",l.style.display="none")})(e,t,n)}))}},Lf=g("#start"),Of=g("#menu");Lf.addEventListener("click",(()=>{Of.style.display="none",Pf.animate()}))})()})();
//# sourceMappingURL=bundle.2c9b453e3eaea87576a3.js.map